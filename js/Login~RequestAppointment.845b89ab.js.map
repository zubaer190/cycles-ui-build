{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.anchor.js","webpack:///./node_modules/quasar/src/components/dialog/QDialog.js","webpack:///./node_modules/quasar/src/utils/private/click-outside.js","webpack:///./node_modules/quasar/src/composables/private/use-scroll-target.js","webpack:///./node_modules/quasar/src/utils/private/position-engine.js","webpack:///./node_modules/quasar/src/components/menu/QMenu.js","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./node_modules/quasar/src/composables/private/use-cache.js","webpack:///./node_modules/quasar/src/components/date/QDate.js","webpack:///./node_modules/quasar/src/utils/private/portal.js","webpack:///./node_modules/quasar/src/composables/private/use-anchor.js","webpack:///./node_modules/quasar/src/components/date/use-datetime.js","webpack:///./node_modules/quasar/src/components/popup-proxy/QPopupProxy.js","webpack:///./node_modules/quasar/src/directives/ClosePopup.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/quasar/src/composables/private/use-portal.js","webpack:///./node_modules/quasar/src/composables/private/use-transition.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/quasar/src/utils/private/escape-key.js","webpack:///./node_modules/quasar/src/utils/private/focusout.js","webpack:///./node_modules/quasar/src/composables/private/use-tick.js"],"names":["$","createHTML","forcedStringHTMLMethod","target","proto","forced","anchor","name","this","maximizedModals","positionClass","standard","top","bottom","right","left","transitions","createComponent","inheritAttrs","props","useModelToggleProps","useTransitionProps","transitionShow","String","transitionHide","persistent","Boolean","autoClose","noEscDismiss","noBackdropDismiss","noRouteDismiss","noRefocus","noFocus","noShake","seamless","maximized","fullWidth","fullHeight","square","position","type","default","validator","val","includes","emits","useModelToggleEmits","setup","shakeTimeout","isMaximized","avoidAutoClose","slots","emit","attrs","vm","getCurrentInstance","innerRef","ref","showing","transitionState","animating","refocusTarget","hideOnRouteChange","computed","usePreventScroll","preventBodyScroll","useTimeout","registerTimeout","removeTimeout","useTick","registerTick","removeTick","usePortal","renderPortalContent","showPortal","hidePortal","portalIsAccessible","renderPortal","useModelToggle","handleShow","handleHide","processOnMount","hide","useHistory","addToHistory","removeFromHistory","classes","value","transition","transitionStyle","transitionDuration","useBackdrop","onEvents","onClick","onAutoClose","rootClasses","class","evt","document","activeElement","updateMaximized","blur","focus","proxy","$q","platform","is","ios","getBoundingClientRect","window","innerHeight","height","visualViewport","scrollingElement","scrollTop","Math","min","scrollHeight","Infinity","ceil","scrollIntoView","click","cleanup","selector","addFocusFn","node","contains","querySelector","preventScroll","shake","classList","remove","add","clearTimeout","setTimeout","onEscapeKey","hiding","removeFocusout","onFocusChange","removeEscapeKey","active","body","e","onBackdropClick","childHasFocus","h","Transition","appear","style","onMousedown","tabindex","hSlot","watch","nextTick","state","addFocusout","addEscapeKey","Object","assign","__updateRefocusTarget","onBeforeUnmount","timer","configureScrollTarget","scrollFn","localScrollTarget","changeScrollEvent","scrollTarget","fn","fnProp","fnHandler","listenOpts","passive","unconfigureScrollTarget","noParentEventWatcher","noParentEvent","notPassiveCapture","registeredList","globalHandler","nodeType","portalIndex","portalList","length","i","anchorEl","qClickOutside","onClickOutside","addClickOutside","clickOutsideProps","push","addEventListener","removeClickOutside","index","findIndex","splice","removeEventListener","vpLeft","vpTop","validatePosition","pos","parts","split","console","error","validateOffset","horizontalPos","parsePosition","rtl","vertical","horizontal","getAnchorProps","el","offset","width","middle","center","getTargetProps","offsetHeight","offsetWidth","setPosition","cfg","client","offsetLeft","offsetTop","setProperty","anchorProps","scrollLeft","absoluteOffset","cover","anchorTop","anchorLeft","elStyle","maxHeight","maxWidth","visibility","fit","minWidth","minHeight","targetProps","anchorOrigin","selfOrigin","applyBoundaries","currentHeight","currentWidth","margin","getScrollbarWidth","innerWidth","clientWidth","max","anchorY","anchorX","forEach","useAnchorProps","useDarkProps","separateClosePopup","self","Array","touchPosition","unwatchPosition","isDark","useDark","useTransition","useScrollTarget","useAnchor","canShow","stopAndPrevent","lang","menuClass","handlesFocus","onFocusout","contextMenu","screen","updatePosition","anchorCleanup","getScrollTarget","closePortalMenus","uncurryThis","aCallable","toObject","lengthOfArrayLike","toString","fails","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","test","un$Sort","sort","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","code","chr","result","fromCharCode","k","v","a","b","charAt","FORCED","getSortCompare","comparefn","x","y","array","itemsLength","items","arrayLength","cache","Map","getCache","key","obj","getCacheWithFn","yearsInterval","views","viewIsValid","yearMonthValidator","lineStr","getMonthHash","date","year","pad","month","useDatetimeProps","useFormProps","multiple","range","title","subtitle","mask","defaultYearMonth","yearsInMonthView","events","Function","eventColor","emitImmediately","options","navigationMinYearMonth","navigationMaxYearMonth","noUnset","firstDayOfWeek","Number","todayBtn","minimal","defaultView","useDatetimeEmits","lastEmitValue","useCache","useDatetime","headerClass","getLocale","getCurrentDate","formAttrs","useFormAttrs","injectFormInput","useFormInject","blurTargetRef","innerMask","getMask","innerLocale","locale","today","viewModel","getViewModel","view","direction","monthDirection","yearDirection","startYear","editRange","landscape","bordered","flat","disable","readonly","computedColor","color","computedTextColor","textColor","isImmediate","normalizedModel","isArray","modelValue","daysModel","filter","map","decodeString","dateHash","day","rangeModel","isObject","from","to","getNativeDateFn","calendar","model","Date","gDate","toGregorian","gy","gm","gd","encodeObjectFn","getDayHash","formatDate","hour","minute","second","millisecond","timezoneOffset","daysInModel","reduce","acc","getDateDiff","headerTitle","init","daysShort","getDay","monthsShort","pluralDay","isNaN","valueOf","minSelectedModel","concat","maxSelectedModel","headerSubtitle","dateArrow","iconSet","datetime","arrowLeft","arrowRight","reverse","computedFirstDayOfWeek","daysOfWeek","days","first","slice","daysInMonth","getDate","jalaaliMonthLength","evtColor","minNav","data","parseInt","maxNav","navBoundaries","prev","next","daysMap","entry","hash","rangeMap","hashFrom","hashTo","cur","rangeView","initHash","final","finalHash","fromHash","toHash","viewMonthHash","includeFrom","includeTo","selectionDaysMap","dayHash","eventDaysMap","viewDays","endDay","prevJM","prevJY","res","len","fill","event","in","selected","unelevated","rangeFrom","rangeTo","editRangeFrom","editRangeTo","afterDays","cls","attributes","setToday","addToModel","setCalendarTo","setView","viewMode","offsetCalendar","descending","goToMonth","goToYear","updateViewModel","setEditingRange","__splitDate","getDefaultViewModel","decoded","d","setYear","setMonth","toggleDate","monthHash","removeFromModel","getShortDate","newHash","emitValue","action","getEmitParams","reason","details","maxDay","encodeEntry","ranges","updateValue","getHeader","onKeyup","keyCode","QBtn","icon","size","round","getNavigation","label","dir","goTo","boundaries","dense","noCaps","renderViews","Calendar","months","onDayClick","onMouseover","onDayMouseover","Months","currentYear","isDisabled","content","unshift","Years","start","stop","years","dayIndex","dayProps","find","payload","def","getPortalVm","__qPortalInnerRef","$options","$props","getParentVm","parent","closePortals","depth","touchTimer","avoidEmit","configureAnchorEl","touches","anchorEvents","unconfigureAnchorEl","cleanEvt","setAnchorEl","parentNode","pickAnchorEl","$el","err","toggle","qAnchorHandled","toggleKey","isKeyCode","contextClick","prevent","show","mobileTouch","mobileCleanup","addEvt","clearSelection","evts","context","mobile","onMounted","calendars","required","editable","join","dateOnly","timeFill","jDate","toJalaali","jy","jm","jd","getFullYear","getMonth","breakpoint","popupRef","getType","popupProps","onShow","onHide","component","QDialog","QMenu","getDepth","createDirective","beforeMount","ctx","handler","handlerKey","__qclosepopup","updated","oldValue","beforeUnmount","requireObjectCoercible","quot","replace","module","exports","string","tag","attribute","S","p1","isOnGlobalDialog","checkGlobalDialog","portalIsActive","portalEl","focusObj","onGlobalDialog","isReady","removeFocusWaitFlag","createGlobalNode","addFocusWaitFlag","indexOf","removeGlobalNode","onUnmounted","Teleport","METHOD_NAME","toLowerCase","escDown","handlers","onKeydown","onBlur","update","desktop","trigger","tickFn"],"mappings":"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","file":"js/Login~RequestAppointment.845b89ab.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.anchor` method\n// https://tc39.es/ecma262/#sec-string.prototype.anchor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('anchor') }, {\n  anchor: function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n","import { h, ref, computed, watch, onBeforeUnmount, nextTick, Transition, getCurrentInstance } from 'vue'\n\nimport useHistory from '../../composables/private/use-history.js'\nimport useTimeout from '../../composables/private/use-timeout.js'\nimport useTick from '../../composables/private/use-tick.js'\nimport useModelToggle, { useModelToggleProps, useModelToggleEmits } from '../../composables/private/use-model-toggle.js'\nimport { useTransitionProps } from '../../composables/private/use-transition.js'\nimport usePortal from '../../composables/private/use-portal.js'\nimport usePreventScroll from '../../composables/private/use-prevent-scroll.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { childHasFocus } from '../../utils/dom.js'\nimport { hSlot } from '../../utils/private/render.js'\nimport { addEscapeKey, removeEscapeKey } from '../../utils/private/escape-key.js'\nimport { addFocusout, removeFocusout } from '../../utils/private/focusout.js'\nimport { addFocusFn } from '../../utils/private/focus-manager.js'\n\nlet maximizedModals = 0\n\nconst positionClass = {\n  standard: 'fixed-full flex-center',\n  top: 'fixed-top justify-center',\n  bottom: 'fixed-bottom justify-center',\n  right: 'fixed-right items-center',\n  left: 'fixed-left items-center'\n}\n\nconst transitions = {\n  standard: [ 'scale', 'scale' ],\n  top: [ 'slide-down', 'slide-up' ],\n  bottom: [ 'slide-up', 'slide-down' ],\n  right: [ 'slide-left', 'slide-right' ],\n  left: [ 'slide-right', 'slide-left' ]\n}\n\nexport default createComponent({\n  name: 'QDialog',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useModelToggleProps,\n    ...useTransitionProps,\n\n    transitionShow: String,\n    transitionHide: String,\n\n    persistent: Boolean,\n    autoClose: Boolean,\n\n    noEscDismiss: Boolean,\n    noBackdropDismiss: Boolean,\n    noRouteDismiss: Boolean,\n    noRefocus: Boolean,\n    noFocus: Boolean,\n    noShake: Boolean,\n\n    seamless: Boolean,\n\n    maximized: Boolean,\n    fullWidth: Boolean,\n    fullHeight: Boolean,\n\n    square: Boolean,\n\n    position: {\n      type: String,\n      default: 'standard',\n      validator: val => val === 'standard'\n        || [ 'top', 'bottom', 'left', 'right' ].includes(val)\n    }\n  },\n\n  emits: [\n    ...useModelToggleEmits,\n    'shake', 'click', 'escape-key'\n  ],\n\n  setup (props, { slots, emit, attrs }) {\n    const vm = getCurrentInstance()\n\n    const innerRef = ref(null)\n    const showing = ref(false)\n    const transitionState = ref(false)\n    const animating = ref(false)\n\n    let shakeTimeout, refocusTarget = null, isMaximized, avoidAutoClose\n\n    const hideOnRouteChange = computed(() =>\n      props.persistent !== true\n      && props.noRouteDismiss !== true\n      && props.seamless !== true\n    )\n\n    const { preventBodyScroll } = usePreventScroll()\n    const { registerTimeout, removeTimeout } = useTimeout()\n    const { registerTick, removeTick } = useTick()\n\n    const { showPortal, hidePortal, portalIsAccessible, renderPortal } = usePortal(\n      vm, innerRef, renderPortalContent, /* pls do check if on a global dialog */ true\n    )\n\n    const { hide } = useModelToggle({\n      showing,\n      hideOnRouteChange,\n      handleShow,\n      handleHide,\n      processOnMount: true\n    })\n\n    const { addToHistory, removeFromHistory } = useHistory(showing, hide, hideOnRouteChange)\n\n    const classes = computed(() =>\n      'q-dialog__inner flex no-pointer-events'\n      + ` q-dialog__inner--${ props.maximized === true ? 'maximized' : 'minimized' }`\n      + ` q-dialog__inner--${ props.position } ${ positionClass[ props.position ] }`\n      + (animating.value === true ? ' q-dialog__inner--animating' : '')\n      + (props.fullWidth === true ? ' q-dialog__inner--fullwidth' : '')\n      + (props.fullHeight === true ? ' q-dialog__inner--fullheight' : '')\n      + (props.square === true ? ' q-dialog__inner--square' : '')\n    )\n\n    const transitionShow = computed(() =>\n      'q-transition--'\n      + (props.transitionShow === void 0 ? transitions[ props.position ][ 0 ] : props.transitionShow)\n    )\n\n    const transitionHide = computed(() =>\n      'q-transition--'\n      + (props.transitionHide === void 0 ? transitions[ props.position ][ 1 ] : props.transitionHide)\n    )\n\n    const transition = computed(() => (\n      transitionState.value === true\n        ? transitionHide.value\n        : transitionShow.value\n    ))\n\n    const transitionStyle = computed(\n      () => `--q-transition-duration: ${ props.transitionDuration }ms`\n    )\n\n    const useBackdrop = computed(() => showing.value === true && props.seamless !== true)\n\n    const onEvents = computed(() => (\n      props.autoClose === true\n        ? { onClick: onAutoClose }\n        : {}\n    ))\n\n    const rootClasses = computed(() => [\n      'q-dialog fullscreen no-pointer-events '\n        + `q-dialog--${ useBackdrop.value === true ? 'modal' : 'seamless' }`,\n      attrs.class\n    ])\n\n    watch(showing, val => {\n      nextTick(() => {\n        transitionState.value = val\n      })\n    })\n\n    watch(() => props.maximized, state => {\n      showing.value === true && updateMaximized(state)\n    })\n\n    watch(useBackdrop, val => {\n      preventBodyScroll(val)\n\n      if (val === true) {\n        addFocusout(onFocusChange)\n        addEscapeKey(onEscapeKey)\n      }\n      else {\n        removeFocusout(onFocusChange)\n        removeEscapeKey(onEscapeKey)\n      }\n    })\n\n    function handleShow (evt) {\n      removeTimeout()\n      removeTick()\n      addToHistory()\n\n      refocusTarget = props.noRefocus === false && document.activeElement !== null\n        ? document.activeElement\n        : null\n\n      updateMaximized(props.maximized)\n      showPortal()\n      animating.value = true\n\n      if (props.noFocus !== true) {\n        document.activeElement !== null && document.activeElement.blur()\n        registerTick(focus)\n      }\n\n      registerTimeout(() => {\n        if (vm.proxy.$q.platform.is.ios === true) {\n          if (props.seamless !== true && document.activeElement) {\n            const\n              { top, bottom } = document.activeElement.getBoundingClientRect(),\n              { innerHeight } = window,\n              height = window.visualViewport !== void 0\n                ? window.visualViewport.height\n                : innerHeight\n\n            if (top > 0 && bottom > height / 2) {\n              document.scrollingElement.scrollTop = Math.min(\n                document.scrollingElement.scrollHeight - height,\n                bottom >= innerHeight\n                  ? Infinity\n                  : Math.ceil(document.scrollingElement.scrollTop + bottom - height / 2)\n              )\n            }\n\n            document.activeElement.scrollIntoView()\n          }\n\n          // required in order to avoid the \"double-tap needed\" issue\n          avoidAutoClose = true\n          innerRef.value.click()\n          avoidAutoClose = false\n        }\n\n        showPortal(true) // done showing portal\n        animating.value = false\n        emit('show', evt)\n      }, props.transitionDuration)\n    }\n\n    function handleHide (evt) {\n      removeTimeout()\n      removeTick()\n      removeFromHistory()\n      cleanup(true)\n      animating.value = true\n      hidePortal()\n\n      if (refocusTarget !== null) {\n        refocusTarget.focus()\n        refocusTarget = null\n      }\n\n      registerTimeout(() => {\n        hidePortal(true) // done hiding, now destroy\n        animating.value = false\n        emit('hide', evt)\n      }, props.transitionDuration)\n    }\n\n    function focus (selector) {\n      addFocusFn(() => {\n        let node = innerRef.value\n\n        if (node === null || node.contains(document.activeElement) === true) {\n          return\n        }\n\n        node = node.querySelector(selector || '[autofocus], [data-autofocus]') || node\n        node.focus({ preventScroll: true })\n      })\n    }\n\n    function shake () {\n      focus()\n      emit('shake')\n\n      const node = innerRef.value\n\n      if (node !== null) {\n        node.classList.remove('q-animate--scale')\n        node.classList.add('q-animate--scale')\n        clearTimeout(shakeTimeout)\n        shakeTimeout = setTimeout(() => {\n          if (innerRef.value !== null) {\n            node.classList.remove('q-animate--scale')\n            // some platforms (like desktop Chrome)\n            // require calling focus() again\n            focus()\n          }\n        }, 170)\n      }\n    }\n\n    function onEscapeKey () {\n      if (props.seamless !== true) {\n        if (props.persistent === true || props.noEscDismiss === true) {\n          props.maximized !== true && props.noShake !== true && shake()\n        }\n        else {\n          emit('escape-key')\n          hide()\n        }\n      }\n    }\n\n    function cleanup (hiding) {\n      clearTimeout(shakeTimeout)\n\n      if (hiding === true || showing.value === true) {\n        updateMaximized(false)\n\n        if (props.seamless !== true) {\n          preventBodyScroll(false)\n          removeFocusout(onFocusChange)\n          removeEscapeKey(onEscapeKey)\n        }\n      }\n\n      if (hiding !== true) {\n        refocusTarget = null\n      }\n    }\n\n    function updateMaximized (active) {\n      if (active === true) {\n        if (isMaximized !== true) {\n          maximizedModals < 1 && document.body.classList.add('q-body--dialog')\n          maximizedModals++\n\n          isMaximized = true\n        }\n      }\n      else if (isMaximized === true) {\n        if (maximizedModals < 2) {\n          document.body.classList.remove('q-body--dialog')\n        }\n\n        maximizedModals--\n        isMaximized = false\n      }\n    }\n\n    function onAutoClose (e) {\n      if (avoidAutoClose !== true) {\n        hide(e)\n        emit('click', e)\n      }\n    }\n\n    function onBackdropClick (e) {\n      if (props.persistent !== true && props.noBackdropDismiss !== true) {\n        hide(e)\n      }\n      else if (props.noShake !== true) {\n        shake()\n      }\n    }\n\n    function onFocusChange (evt) {\n      // the focus is not in a vue child component\n      if (\n        portalIsAccessible.value === true\n        && childHasFocus(innerRef.value, evt.target) !== true\n      ) {\n        focus('[tabindex]:not([tabindex=\"-1\"])')\n      }\n    }\n\n    Object.assign(vm.proxy, {\n      // expose public methods\n      focus, shake,\n\n      // private but needed by QSelect\n      __updateRefocusTarget (target) {\n        refocusTarget = target || null\n      }\n    })\n\n    onBeforeUnmount(cleanup)\n\n    function renderPortalContent () {\n      return h('div', {\n        ...attrs,\n        class: rootClasses.value\n      }, [\n        h(Transition, {\n          name: 'q-transition--fade',\n          appear: true\n        }, () => (\n          useBackdrop.value === true\n            ? h('div', {\n              class: 'q-dialog__backdrop fixed-full',\n              style: transitionStyle.value,\n              'aria-hidden': 'true',\n              onMousedown: onBackdropClick\n            })\n            : null\n        )),\n\n        h(\n          Transition,\n          { name: transition.value, appear: true },\n          () => (\n            showing.value === true\n              ? h('div', {\n                ref: innerRef,\n                class: classes.value,\n                style: transitionStyle.value,\n                tabindex: -1,\n                ...onEvents.value\n              }, hSlot(slots.default))\n              : null\n          )\n        )\n      ])\n    }\n\n    return renderPortal\n  }\n})\n","import { listenOpts } from '../event.js'\nimport { portalList } from '../private/portal.js'\n\nlet timer\n\nconst\n  { notPassiveCapture } = listenOpts,\n  registeredList = []\n\nfunction globalHandler (evt) {\n  clearTimeout(timer)\n\n  const target = evt.target\n\n  if (\n    target === void 0\n    || target.nodeType === 8\n    || target.classList.contains('no-pointer-events') === true\n  ) {\n    return\n  }\n\n  // check last portal vm if it's\n  // a QDialog and not in seamless mode\n  let portalIndex = portalList.length - 1\n\n  while (portalIndex >= 0) {\n    const proxy = portalList[ portalIndex ].$\n\n    if (proxy.type.name !== 'QDialog') {\n      break\n    }\n\n    if (proxy.props.seamless !== true) {\n      return\n    }\n\n    portalIndex--\n  }\n\n  for (let i = registeredList.length - 1; i >= 0; i--) {\n    const state = registeredList[ i ]\n\n    if (\n      (\n        state.anchorEl.value === null\n        || state.anchorEl.value.contains(target) === false\n      )\n      && (\n        target === document.body\n        || (\n          state.innerRef.value !== null\n          && state.innerRef.value.contains(target) === false\n        )\n      )\n    ) {\n      // mark the event as being processed by clickOutside\n      // used to prevent refocus after menu close\n      evt.qClickOutside = true\n      state.onClickOutside(evt)\n    }\n    else {\n      return\n    }\n  }\n}\n\nexport function addClickOutside (clickOutsideProps) {\n  registeredList.push(clickOutsideProps)\n\n  if (registeredList.length === 1) {\n    document.addEventListener('mousedown', globalHandler, notPassiveCapture)\n    document.addEventListener('touchstart', globalHandler, notPassiveCapture)\n  }\n}\n\nexport function removeClickOutside (clickOutsideProps) {\n  const index = registeredList.findIndex(h => h === clickOutsideProps)\n\n  if (index > -1) {\n    registeredList.splice(index, 1)\n\n    if (registeredList.length === 0) {\n      clearTimeout(timer)\n      document.removeEventListener('mousedown', globalHandler, notPassiveCapture)\n      document.removeEventListener('touchstart', globalHandler, notPassiveCapture)\n    }\n  }\n}\n","import { ref, watch, onBeforeUnmount } from 'vue'\n\nimport { listenOpts } from '../../utils/event.js'\n\nexport default function (\n  props,\n  configureScrollTarget\n) {\n  const localScrollTarget = ref(null)\n  let scrollFn\n\n  function changeScrollEvent (scrollTarget, fn) {\n    const fnProp = `${ fn !== void 0 ? 'add' : 'remove' }EventListener`\n    const fnHandler = fn !== void 0 ? fn : scrollFn\n\n    if (scrollTarget !== window) {\n      scrollTarget[ fnProp ]('scroll', fnHandler, listenOpts.passive)\n    }\n\n    window[ fnProp ]('scroll', fnHandler, listenOpts.passive)\n\n    scrollFn = fn\n  }\n\n  function unconfigureScrollTarget () {\n    if (localScrollTarget.value !== null) {\n      changeScrollEvent(localScrollTarget.value)\n      localScrollTarget.value = null\n    }\n  }\n\n  const noParentEventWatcher = watch(() => props.noParentEvent, () => {\n    if (localScrollTarget.value !== null) {\n      unconfigureScrollTarget()\n      configureScrollTarget()\n    }\n  })\n\n  onBeforeUnmount(noParentEventWatcher)\n\n  return {\n    localScrollTarget,\n    unconfigureScrollTarget,\n    changeScrollEvent\n  }\n}\n","import { getScrollbarWidth } from '../scroll.js'\nimport { client } from '../../plugins/Platform.js'\n\nlet vpLeft, vpTop\n\nexport function validatePosition (pos) {\n  const parts = pos.split(' ')\n  if (parts.length !== 2) {\n    return false\n  }\n  if ([ 'top', 'center', 'bottom' ].includes(parts[ 0 ]) !== true) {\n    console.error('Anchor/Self position must start with one of top/center/bottom')\n    return false\n  }\n  if ([ 'left', 'middle', 'right', 'start', 'end' ].includes(parts[ 1 ]) !== true) {\n    console.error('Anchor/Self position must end with one of left/middle/right/start/end')\n    return false\n  }\n  return true\n}\n\nexport function validateOffset (val) {\n  if (!val) { return true }\n  if (val.length !== 2) { return false }\n  if (typeof val[ 0 ] !== 'number' || typeof val[ 1 ] !== 'number') {\n    return false\n  }\n  return true\n}\n\nconst horizontalPos = {\n  'start#ltr': 'left',\n  'start#rtl': 'right',\n  'end#ltr': 'right',\n  'end#rtl': 'left'\n}\n\n;[ 'left', 'middle', 'right' ].forEach(pos => {\n  horizontalPos[ `${ pos }#ltr` ] = pos\n  horizontalPos[ `${ pos }#rtl` ] = pos\n})\n\nexport function parsePosition (pos, rtl) {\n  const parts = pos.split(' ')\n  return {\n    vertical: parts[ 0 ],\n    horizontal: horizontalPos[ `${ parts[ 1 ] }#${ rtl === true ? 'rtl' : 'ltr' }` ]\n  }\n}\n\nexport function getAnchorProps (el, offset) {\n  let { top, left, right, bottom, width, height } = el.getBoundingClientRect()\n\n  if (offset !== void 0) {\n    top -= offset[ 1 ]\n    left -= offset[ 0 ]\n    bottom += offset[ 1 ]\n    right += offset[ 0 ]\n\n    width += offset[ 0 ]\n    height += offset[ 1 ]\n  }\n\n  return {\n    top,\n    left,\n    right,\n    bottom,\n    width,\n    height,\n    middle: left + (right - left) / 2,\n    center: top + (bottom - top) / 2\n  }\n}\n\nexport function getTargetProps (el) {\n  return {\n    top: 0,\n    center: el.offsetHeight / 2,\n    bottom: el.offsetHeight,\n    left: 0,\n    middle: el.offsetWidth / 2,\n    right: el.offsetWidth\n  }\n}\n\n// cfg: { el, anchorEl, anchorOrigin, selfOrigin, offset, absoluteOffset, cover, fit, maxHeight, maxWidth }\nexport function setPosition (cfg) {\n  if (client.is.ios === true && window.visualViewport !== void 0) {\n    // uses the q-position-engine CSS class\n\n    const el = document.body.style\n    const { offsetLeft: left, offsetTop: top } = window.visualViewport\n\n    if (left !== vpLeft) {\n      el.setProperty('--q-pe-left', left + 'px')\n      vpLeft = left\n    }\n    if (top !== vpTop) {\n      el.setProperty('--q-pe-top', top + 'px')\n      vpTop = top\n    }\n  }\n\n  let anchorProps\n\n  // scroll position might change\n  // if max-height/-width changes, so we\n  // need to restore it after we calculate\n  // the new positioning\n  const { scrollLeft, scrollTop } = cfg.el\n\n  if (cfg.absoluteOffset === void 0) {\n    anchorProps = getAnchorProps(cfg.anchorEl, cfg.cover === true ? [ 0, 0 ] : cfg.offset)\n  }\n  else {\n    const\n      { top: anchorTop, left: anchorLeft } = cfg.anchorEl.getBoundingClientRect(),\n      top = anchorTop + cfg.absoluteOffset.top,\n      left = anchorLeft + cfg.absoluteOffset.left\n\n    anchorProps = { top, left, width: 1, height: 1, right: left + 1, center: top, middle: left, bottom: top + 1 }\n  }\n\n  let elStyle = {\n    maxHeight: cfg.maxHeight,\n    maxWidth: cfg.maxWidth,\n    visibility: 'visible'\n  }\n\n  if (cfg.fit === true || cfg.cover === true) {\n    elStyle.minWidth = anchorProps.width + 'px'\n    if (cfg.cover === true) {\n      elStyle.minHeight = anchorProps.height + 'px'\n    }\n  }\n\n  Object.assign(cfg.el.style, elStyle)\n\n  const\n    targetProps = getTargetProps(cfg.el),\n    props = {\n      top: anchorProps[ cfg.anchorOrigin.vertical ] - targetProps[ cfg.selfOrigin.vertical ],\n      left: anchorProps[ cfg.anchorOrigin.horizontal ] - targetProps[ cfg.selfOrigin.horizontal ]\n    }\n\n  applyBoundaries(props, anchorProps, targetProps, cfg.anchorOrigin, cfg.selfOrigin)\n\n  elStyle = {\n    top: props.top + 'px',\n    left: props.left + 'px'\n  }\n\n  if (props.maxHeight !== void 0) {\n    elStyle.maxHeight = props.maxHeight + 'px'\n\n    if (anchorProps.height > props.maxHeight) {\n      elStyle.minHeight = elStyle.maxHeight\n    }\n  }\n  if (props.maxWidth !== void 0) {\n    elStyle.maxWidth = props.maxWidth + 'px'\n\n    if (anchorProps.width > props.maxWidth) {\n      elStyle.minWidth = elStyle.maxWidth\n    }\n  }\n\n  Object.assign(cfg.el.style, elStyle)\n\n  // restore scroll position\n  if (cfg.el.scrollTop !== scrollTop) {\n    cfg.el.scrollTop = scrollTop\n  }\n  if (cfg.el.scrollLeft !== scrollLeft) {\n    cfg.el.scrollLeft = scrollLeft\n  }\n}\n\nfunction applyBoundaries (props, anchorProps, targetProps, anchorOrigin, selfOrigin) {\n  const\n    currentHeight = targetProps.bottom,\n    currentWidth = targetProps.right,\n    margin = getScrollbarWidth(),\n    innerHeight = window.innerHeight - margin,\n    innerWidth = document.body.clientWidth\n\n  if (props.top < 0 || props.top + currentHeight > innerHeight) {\n    if (selfOrigin.vertical === 'center') {\n      props.top = anchorProps[ anchorOrigin.vertical ] > innerHeight / 2\n        ? Math.max(0, innerHeight - currentHeight)\n        : 0\n      props.maxHeight = Math.min(currentHeight, innerHeight)\n    }\n    else if (anchorProps[ anchorOrigin.vertical ] > innerHeight / 2) {\n      const anchorY = Math.min(\n        innerHeight,\n        anchorOrigin.vertical === 'center'\n          ? anchorProps.center\n          : (anchorOrigin.vertical === selfOrigin.vertical ? anchorProps.bottom : anchorProps.top)\n      )\n      props.maxHeight = Math.min(currentHeight, anchorY)\n      props.top = Math.max(0, anchorY - currentHeight)\n    }\n    else {\n      props.top = Math.max(0, anchorOrigin.vertical === 'center'\n        ? anchorProps.center\n        : (anchorOrigin.vertical === selfOrigin.vertical ? anchorProps.top : anchorProps.bottom)\n      )\n      props.maxHeight = Math.min(currentHeight, innerHeight - props.top)\n    }\n  }\n\n  if (props.left < 0 || props.left + currentWidth > innerWidth) {\n    props.maxWidth = Math.min(currentWidth, innerWidth)\n    if (selfOrigin.horizontal === 'middle') {\n      props.left = anchorProps[ anchorOrigin.horizontal ] > innerWidth / 2\n        ? Math.max(0, innerWidth - currentWidth)\n        : 0\n    }\n    else if (anchorProps[ anchorOrigin.horizontal ] > innerWidth / 2) {\n      const anchorX = Math.min(\n        innerWidth,\n        anchorOrigin.horizontal === 'middle'\n          ? anchorProps.middle\n          : (anchorOrigin.horizontal === selfOrigin.horizontal ? anchorProps.right : anchorProps.left)\n      )\n      props.maxWidth = Math.min(currentWidth, anchorX)\n      props.left = Math.max(0, anchorX - props.maxWidth)\n    }\n    else {\n      props.left = Math.max(0, anchorOrigin.horizontal === 'middle'\n        ? anchorProps.middle\n        : (anchorOrigin.horizontal === selfOrigin.horizontal ? anchorProps.left : anchorProps.right)\n      )\n      props.maxWidth = Math.min(currentWidth, innerWidth - props.left)\n    }\n  }\n}\n","import { h, ref, computed, watch, Transition, onBeforeUnmount, getCurrentInstance } from 'vue'\n\nimport useAnchor, { useAnchorProps } from '../../composables/private/use-anchor.js'\nimport useScrollTarget from '../../composables/private/use-scroll-target.js'\nimport useModelToggle, { useModelToggleProps, useModelToggleEmits } from '../../composables/private/use-model-toggle.js'\nimport useDark, { useDarkProps } from '../../composables/private/use-dark.js'\nimport usePortal from '../../composables/private/use-portal.js'\nimport useTransition, { useTransitionProps } from '../../composables/private/use-transition.js'\nimport useTick from '../../composables/private/use-tick.js'\nimport useTimeout from '../../composables/private/use-timeout.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { closePortalMenus } from '../../utils/private/portal.js'\nimport { getScrollTarget } from '../../utils/scroll.js'\nimport { position, stopAndPrevent } from '../../utils/event.js'\nimport { hSlot } from '../../utils/private/render.js'\nimport { addEscapeKey, removeEscapeKey } from '../../utils/private/escape-key.js'\nimport { addFocusout, removeFocusout } from '../../utils/private/focusout.js'\nimport { childHasFocus } from '../../utils/dom.js'\nimport { addClickOutside, removeClickOutside } from '../../utils/private/click-outside.js'\nimport { addFocusFn } from '../../utils/private/focus-manager.js'\n\nimport {\n  validatePosition, validateOffset, setPosition, parsePosition\n} from '../../utils/private/position-engine.js'\n\nexport default createComponent({\n  name: 'QMenu',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useAnchorProps,\n    ...useModelToggleProps,\n    ...useDarkProps,\n    ...useTransitionProps,\n\n    persistent: Boolean,\n    autoClose: Boolean,\n    separateClosePopup: Boolean,\n\n    noRouteDismiss: Boolean,\n    noRefocus: Boolean,\n    noFocus: Boolean,\n\n    fit: Boolean,\n    cover: Boolean,\n\n    square: Boolean,\n\n    anchor: {\n      type: String,\n      validator: validatePosition\n    },\n    self: {\n      type: String,\n      validator: validatePosition\n    },\n    offset: {\n      type: Array,\n      validator: validateOffset\n    },\n\n    scrollTarget: {\n      default: void 0\n    },\n\n    touchPosition: Boolean,\n\n    maxHeight: {\n      type: String,\n      default: null\n    },\n    maxWidth: {\n      type: String,\n      default: null\n    }\n  },\n\n  emits: [\n    ...useModelToggleEmits,\n    'click', 'escape-key'\n  ],\n\n  setup (props, { slots, emit, attrs }) {\n    let refocusTarget = null, absoluteOffset, unwatchPosition, avoidAutoClose\n\n    const vm = getCurrentInstance()\n    const { proxy } = vm\n    const { $q } = proxy\n\n    const innerRef = ref(null)\n    const showing = ref(false)\n\n    const hideOnRouteChange = computed(() =>\n      props.persistent !== true\n      && props.noRouteDismiss !== true\n    )\n\n    const isDark = useDark(props, $q)\n    const { registerTick, removeTick } = useTick()\n    const { registerTimeout, removeTimeout } = useTimeout()\n    const { transition, transitionStyle } = useTransition(props, showing)\n    const { localScrollTarget, changeScrollEvent, unconfigureScrollTarget } = useScrollTarget(props, configureScrollTarget)\n\n    const { anchorEl, canShow } = useAnchor({ showing })\n\n    const { hide } = useModelToggle({\n      showing, canShow, handleShow, handleHide,\n      hideOnRouteChange,\n      processOnMount: true\n    })\n\n    const { showPortal, hidePortal, renderPortal } = usePortal(vm, innerRef, renderPortalContent)\n\n    const clickOutsideProps = {\n      anchorEl,\n      innerRef,\n      onClickOutside (e) {\n        if (props.persistent !== true && showing.value === true) {\n          hide(e)\n\n          if (\n            // always prevent touch event\n            e.type === 'touchstart'\n            // prevent click if it's on a dialog backdrop\n            || e.target.classList.contains('q-dialog__backdrop')\n          ) {\n            stopAndPrevent(e)\n          }\n\n          return true\n        }\n      }\n    }\n\n    const anchorOrigin = computed(() =>\n      parsePosition(\n        props.anchor || (\n          props.cover === true ? 'center middle' : 'bottom start'\n        ),\n        $q.lang.rtl\n      )\n    )\n\n    const selfOrigin = computed(() => (\n      props.cover === true\n        ? anchorOrigin.value\n        : parsePosition(props.self || 'top start', $q.lang.rtl)\n    ))\n\n    const menuClass = computed(() =>\n      (props.square === true ? ' q-menu--square' : '')\n      + (isDark.value === true ? ' q-menu--dark q-dark' : '')\n    )\n\n    const onEvents = computed(() => (\n      props.autoClose === true\n        ? { onClick: onAutoClose }\n        : {}\n    ))\n\n    const handlesFocus = computed(() =>\n      showing.value === true && props.persistent !== true\n    )\n\n    watch(handlesFocus, val => {\n      if (val === true) {\n        addEscapeKey(onEscapeKey)\n        addClickOutside(clickOutsideProps)\n      }\n      else {\n        removeEscapeKey(onEscapeKey)\n        removeClickOutside(clickOutsideProps)\n      }\n    })\n\n    function focus () {\n      addFocusFn(() => {\n        let node = innerRef.value\n\n        if (node && node.contains(document.activeElement) !== true) {\n          node = node.querySelector('[autofocus], [data-autofocus]') || node\n          node.focus({ preventScroll: true })\n        }\n      })\n    }\n\n    function handleShow (evt) {\n      removeTick()\n      removeTimeout()\n\n      refocusTarget = props.noRefocus === false\n        ? document.activeElement\n        : null\n\n      addFocusout(onFocusout)\n\n      showPortal()\n      configureScrollTarget()\n\n      absoluteOffset = void 0\n\n      if (evt !== void 0 && (props.touchPosition || props.contextMenu)) {\n        const pos = position(evt)\n\n        if (pos.left !== void 0) {\n          const { top, left } = anchorEl.value.getBoundingClientRect()\n          absoluteOffset = { left: pos.left - left, top: pos.top - top }\n        }\n      }\n\n      if (unwatchPosition === void 0) {\n        unwatchPosition = watch(\n          () => $q.screen.width + '|' + $q.screen.height + '|' + props.self + '|' + props.anchor + '|' + $q.lang.rtl,\n          updatePosition\n        )\n      }\n\n      if (props.noFocus !== true) {\n        document.activeElement.blur()\n      }\n\n      registerTick(() => {\n        updatePosition()\n        props.noFocus !== true && focus()\n      })\n\n      registerTimeout(() => {\n        // required in order to avoid the \"double-tap needed\" issue\n        if ($q.platform.is.ios === true) {\n          // if auto-close, then this click should\n          // not close the menu\n          avoidAutoClose = props.autoClose\n          innerRef.value.click()\n        }\n\n        updatePosition()\n        showPortal(true) // done showing portal\n        emit('show', evt)\n      }, props.transitionDuration)\n    }\n\n    function handleHide (evt) {\n      removeTick()\n      removeTimeout()\n      hidePortal()\n\n      anchorCleanup(true)\n\n      if (\n        refocusTarget !== null\n        && (\n          // menu was hidden from code or ESC plugin\n          evt === void 0\n          // menu was not closed from a mouse or touch clickOutside\n          || evt.qClickOutside !== true\n        )\n      ) {\n        refocusTarget.focus()\n        refocusTarget = null\n      }\n\n      registerTimeout(() => {\n        hidePortal(true) // done hiding, now destroy\n        emit('hide', evt)\n      }, props.transitionDuration)\n    }\n\n    function anchorCleanup (hiding) {\n      absoluteOffset = void 0\n\n      if (unwatchPosition !== void 0) {\n        unwatchPosition()\n        unwatchPosition = void 0\n      }\n\n      if (hiding === true || showing.value === true) {\n        removeFocusout(onFocusout)\n        unconfigureScrollTarget()\n        removeClickOutside(clickOutsideProps)\n        removeEscapeKey(onEscapeKey)\n      }\n\n      if (hiding !== true) {\n        refocusTarget = null\n      }\n    }\n\n    function configureScrollTarget () {\n      if (anchorEl.value !== null || props.scrollTarget !== void 0) {\n        localScrollTarget.value = getScrollTarget(anchorEl.value, props.scrollTarget)\n        changeScrollEvent(localScrollTarget.value, updatePosition)\n      }\n    }\n\n    function onAutoClose (e) {\n      // if auto-close, then the ios double-tap fix which\n      // issues a click should not close the menu\n      if (avoidAutoClose !== true) {\n        closePortalMenus(proxy, e)\n        emit('click', e)\n      }\n      else {\n        avoidAutoClose = false\n      }\n    }\n\n    function onFocusout (evt) {\n      // the focus is not in a vue child component\n      if (\n        handlesFocus.value === true\n        && props.noFocus !== true\n        && childHasFocus(innerRef.value, evt.target) !== true\n      ) {\n        focus()\n      }\n    }\n\n    function onEscapeKey (evt) {\n      emit('escape-key')\n      hide(evt)\n    }\n\n    function updatePosition () {\n      const el = innerRef.value\n\n      if (el === null || anchorEl.value === null) {\n        return\n      }\n\n      setPosition({\n        el,\n        offset: props.offset,\n        anchorEl: anchorEl.value,\n        anchorOrigin: anchorOrigin.value,\n        selfOrigin: selfOrigin.value,\n        absoluteOffset,\n        fit: props.fit,\n        cover: props.cover,\n        maxHeight: props.maxHeight,\n        maxWidth: props.maxWidth\n      })\n    }\n\n    function renderPortalContent () {\n      return h(\n        Transition,\n        { name: transition.value, appear: true },\n        () => (\n          showing.value === true\n            ? h('div', {\n              ...attrs,\n              ref: innerRef,\n              tabindex: -1,\n              class: [\n                'q-menu q-position-engine scroll' + menuClass.value,\n                attrs.class\n              ],\n              style: [\n                attrs.style,\n                transitionStyle.value\n              ],\n              ...onEvents.value\n            }, hSlot(slots.default))\n            : null\n        )\n      )\n    }\n\n    onBeforeUnmount(anchorCleanup)\n\n    // expose public methods\n    Object.assign(proxy, { focus, updatePosition })\n\n    return renderPortal\n  }\n})\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar un$Sort = uncurryThis(test.sort);\nvar push = uncurryThis(test.push);\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString(x) > toString(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? un$Sort(array) : un$Sort(array, comparefn);\n\n    var items = [];\n    var arrayLength = lengthOfArrayLike(array);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) push(items, array[index]);\n    }\n\n    internalSort(items, getSortCompare(comparefn));\n\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n","export default function () {\n  const cache = new Map()\n\n  return {\n    getCache: __QUASAR_SSR_SERVER__\n      ? function (_, obj) { return obj }\n      : function (key, obj) {\n        return cache[ key ] === void 0\n          ? (cache[ key ] = obj)\n          : cache[ key ]\n      },\n\n    getCacheWithFn: __QUASAR_SSR_SERVER__\n      ? function (_, fn) { return fn() }\n      : function (key, fn) {\n        return cache[ key ] === void 0\n          ? (cache[ key ] = fn())\n          : cache[ key ]\n      }\n  }\n}\n","import { h, ref, computed, watch, Transition, nextTick, getCurrentInstance } from 'vue'\n\nimport QBtn from '../btn/QBtn.js'\n\nimport useDark, { useDarkProps } from '../../composables/private/use-dark.js'\nimport useCache from '../../composables/private/use-cache.js'\nimport { useFormProps, useFormAttrs, useFormInject } from '../../composables/private/use-form.js'\nimport useDatetime, { useDatetimeProps, useDatetimeEmits, getDayHash } from './use-datetime.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { hSlot } from '../../utils/private/render.js'\nimport { formatDate, __splitDate, getDateDiff } from '../../utils/date.js'\nimport { pad } from '../../utils/format.js'\nimport { jalaaliMonthLength, toGregorian } from '../../utils/private/date-persian.js'\nimport { isObject } from '../../utils/private/is.js'\n\nconst yearsInterval = 20\nconst views = [ 'Calendar', 'Years', 'Months' ]\nconst viewIsValid = v => views.includes(v)\nconst yearMonthValidator = v => /^-?[\\d]+\\/[0-1]\\d$/.test(v)\nconst lineStr = ' \\u2014 '\n\nfunction getMonthHash (date) {\n  return date.year + '/' + pad(date.month)\n}\n\nexport default createComponent({\n  name: 'QDate',\n\n  props: {\n    ...useDatetimeProps,\n    ...useFormProps,\n    ...useDarkProps,\n\n    multiple: Boolean,\n    range: Boolean,\n\n    title: String,\n    subtitle: String,\n\n    mask: {\n      // this mask is forced\n      // when using persian calendar\n      default: 'YYYY/MM/DD'\n    },\n\n    defaultYearMonth: {\n      type: String,\n      validator: yearMonthValidator\n    },\n\n    yearsInMonthView: Boolean,\n\n    events: [ Array, Function ],\n    eventColor: [ String, Function ],\n\n    emitImmediately: Boolean,\n\n    options: [ Array, Function ],\n\n    navigationMinYearMonth: {\n      type: String,\n      validator: yearMonthValidator\n    },\n\n    navigationMaxYearMonth: {\n      type: String,\n      validator: yearMonthValidator\n    },\n\n    noUnset: Boolean,\n\n    firstDayOfWeek: [ String, Number ],\n    todayBtn: Boolean,\n    minimal: Boolean,\n    defaultView: {\n      type: String,\n      default: 'Calendar',\n      validator: viewIsValid\n    }\n  },\n\n  emits: [\n    ...useDatetimeEmits,\n    'range-start', 'range-end', 'navigation'\n  ],\n\n  setup (props, { slots, emit }) {\n    const { proxy } = getCurrentInstance()\n    const { $q } = proxy\n\n    const isDark = useDark(props, $q)\n    const { getCache } = useCache()\n    const { tabindex, headerClass, getLocale, getCurrentDate } = useDatetime(props, $q)\n\n    let lastEmitValue\n\n    const formAttrs = useFormAttrs(props)\n    const injectFormInput = useFormInject(formAttrs)\n\n    const blurTargetRef = ref(null)\n    const innerMask = ref(getMask())\n    const innerLocale = ref(getLocale())\n\n    const mask = computed(() => getMask())\n    const locale = computed(() => getLocale())\n\n    const today = computed(() => getCurrentDate())\n\n    // model of current calendar view:\n    const viewModel = ref(getViewModel(innerMask.value, innerLocale.value))\n\n    const view = ref(props.defaultView)\n\n    const direction = $q.lang.rtl === true ? 'right' : 'left'\n    const monthDirection = ref(direction.value)\n    const yearDirection = ref(direction.value)\n\n    const year = viewModel.value.year\n    const startYear = ref(year - (year % yearsInterval) - (year < 0 ? yearsInterval : 0))\n    const editRange = ref(null)\n\n    const classes = computed(() => {\n      const type = props.landscape === true ? 'landscape' : 'portrait'\n      return `q-date q-date--${ type } q-date--${ type }-${ props.minimal === true ? 'minimal' : 'standard' }`\n        + (isDark.value === true ? ' q-date--dark q-dark' : '')\n        + (props.bordered === true ? ' q-date--bordered' : '')\n        + (props.square === true ? ' q-date--square no-border-radius' : '')\n        + (props.flat === true ? ' q-date--flat no-shadow' : '')\n        + (props.disable === true ? ' disabled' : (props.readonly === true ? ' q-date--readonly' : ''))\n    })\n\n    const computedColor = computed(() => {\n      return props.color || 'primary'\n    })\n\n    const computedTextColor = computed(() => {\n      return props.textColor || 'white'\n    })\n\n    const isImmediate = computed(() =>\n      props.emitImmediately === true\n      && props.multiple !== true\n      && props.range !== true\n    )\n\n    const normalizedModel = computed(() => (\n      Array.isArray(props.modelValue) === true\n        ? props.modelValue\n        : (props.modelValue !== null && props.modelValue !== void 0 ? [ props.modelValue ] : [])\n    ))\n\n    const daysModel = computed(() =>\n      normalizedModel.value\n        .filter(date => typeof date === 'string')\n        .map(date => decodeString(date, innerMask.value, innerLocale.value))\n        .filter(date =>\n          date.dateHash !== null\n          && date.day !== null\n          && date.month !== null\n          && date.year !== null\n        )\n    )\n\n    const rangeModel = computed(() => {\n      const fn = date => decodeString(date, innerMask.value, innerLocale.value)\n      return normalizedModel.value\n        .filter(date => isObject(date) === true && date.from !== void 0 && date.to !== void 0)\n        .map(range => ({ from: fn(range.from), to: fn(range.to) }))\n        .filter(range => range.from.dateHash !== null && range.to.dateHash !== null && range.from.dateHash < range.to.dateHash)\n    })\n\n    const getNativeDateFn = computed(() => (\n      props.calendar !== 'persian'\n        ? model => new Date(model.year, model.month - 1, model.day)\n        : model => {\n          const gDate = toGregorian(model.year, model.month, model.day)\n          return new Date(gDate.gy, gDate.gm - 1, gDate.gd)\n        }\n    ))\n\n    const encodeObjectFn = computed(() => (\n      props.calendar === 'persian'\n        ? getDayHash\n        : (date, mask, locale) => formatDate(\n            new Date(\n              date.year,\n              date.month - 1,\n              date.day,\n              date.hour,\n              date.minute,\n              date.second,\n              date.millisecond\n            ),\n            mask === void 0 ? innerMask.value : mask,\n            locale === void 0 ? innerLocale.value : locale,\n            date.year,\n            date.timezoneOffset\n          )\n    ))\n\n    const daysInModel = computed(() =>\n      daysModel.value.length + rangeModel.value.reduce(\n        (acc, range) => acc + 1 + getDateDiff(\n          getNativeDateFn.value(range.to),\n          getNativeDateFn.value(range.from)\n        ),\n        0\n      )\n    )\n\n    const headerTitle = computed(() => {\n      if (props.title !== void 0 && props.title !== null && props.title.length > 0) {\n        return props.title\n      }\n\n      if (editRange.value !== null) {\n        const model = editRange.value.init\n        const date = getNativeDateFn.value(model)\n\n        return innerLocale.value.daysShort[ date.getDay() ] + ', '\n          + innerLocale.value.monthsShort[ model.month - 1 ] + ' '\n          + model.day + lineStr + '?'\n      }\n\n      if (daysInModel.value === 0) {\n        return lineStr\n      }\n\n      if (daysInModel.value > 1) {\n        return `${ daysInModel.value } ${ innerLocale.value.pluralDay }`\n      }\n\n      const model = daysModel.value[ 0 ]\n      const date = getNativeDateFn.value(model)\n\n      if (isNaN(date.valueOf()) === true) {\n        return lineStr\n      }\n\n      if (innerLocale.value.headerTitle !== void 0) {\n        return innerLocale.value.headerTitle(date, model)\n      }\n\n      return innerLocale.value.daysShort[ date.getDay() ] + ', '\n        + innerLocale.value.monthsShort[ model.month - 1 ] + ' '\n        + model.day\n    })\n\n    const minSelectedModel = computed(() => {\n      const model = daysModel.value.concat(rangeModel.value.map(range => range.from))\n        .sort((a, b) => a.year - b.year || a.month - b.month)\n\n      return model[ 0 ]\n    })\n\n    const maxSelectedModel = computed(() => {\n      const model = daysModel.value.concat(rangeModel.value.map(range => range.to))\n        .sort((a, b) => b.year - a.year || b.month - a.month)\n\n      return model[ 0 ]\n    })\n\n    const headerSubtitle = computed(() => {\n      if (props.subtitle !== void 0 && props.subtitle !== null && props.subtitle.length > 0) {\n        return props.subtitle\n      }\n\n      if (daysInModel.value === 0) {\n        return lineStr\n      }\n\n      if (daysInModel.value > 1) {\n        const from = minSelectedModel.value\n        const to = maxSelectedModel.value\n        const month = innerLocale.value.monthsShort\n\n        return month[ from.month - 1 ] + (\n          from.year !== to.year\n            ? ' ' + from.year + lineStr + month[ to.month - 1 ] + ' '\n            : (\n                from.month !== to.month\n                  ? lineStr + month[ to.month - 1 ]\n                  : ''\n              )\n        ) + ' ' + to.year\n      }\n\n      return daysModel.value[ 0 ].year\n    })\n\n    const dateArrow = computed(() => {\n      const val = [ $q.iconSet.datetime.arrowLeft, $q.iconSet.datetime.arrowRight ]\n      return $q.lang.rtl === true ? val.reverse() : val\n    })\n\n    const computedFirstDayOfWeek = computed(() => (\n      props.firstDayOfWeek !== void 0\n        ? Number(props.firstDayOfWeek)\n        : innerLocale.value.firstDayOfWeek\n    ))\n\n    const daysOfWeek = computed(() => {\n      const\n        days = innerLocale.value.daysShort,\n        first = computedFirstDayOfWeek.value\n\n      return first > 0\n        ? days.slice(first, 7).concat(days.slice(0, first))\n        : days\n    })\n\n    const daysInMonth = computed(() => {\n      const date = viewModel.value\n      return props.calendar !== 'persian'\n        ? (new Date(date.year, date.month, 0)).getDate()\n        : jalaaliMonthLength(date.year, date.month)\n    })\n\n    const evtColor = computed(() => (\n      typeof props.eventColor === 'function'\n        ? props.eventColor\n        : () => props.eventColor\n    ))\n\n    const minNav = computed(() => {\n      if (props.navigationMinYearMonth === void 0) {\n        return null\n      }\n\n      const data = props.navigationMinYearMonth.split('/')\n      return { year: parseInt(data[ 0 ], 10), month: parseInt(data[ 1 ], 10) }\n    })\n\n    const maxNav = computed(() => {\n      if (props.navigationMaxYearMonth === void 0) {\n        return null\n      }\n\n      const data = props.navigationMaxYearMonth.split('/')\n      return { year: parseInt(data[ 0 ], 10), month: parseInt(data[ 1 ], 10) }\n    })\n\n    const navBoundaries = computed(() => {\n      const data = {\n        month: { prev: true, next: true },\n        year: { prev: true, next: true }\n      }\n\n      if (minNav.value !== null && minNav.value.year >= viewModel.value.year) {\n        data.year.prev = false\n        if (minNav.value.year === viewModel.value.year && minNav.value.month >= viewModel.value.month) {\n          data.month.prev = false\n        }\n      }\n\n      if (maxNav.value !== null && maxNav.value.year <= viewModel.value.year) {\n        data.year.next = false\n        if (maxNav.value.year === viewModel.value.year && maxNav.value.month <= viewModel.value.month) {\n          data.month.next = false\n        }\n      }\n\n      return data\n    })\n\n    const daysMap = computed(() => {\n      const map = {}\n\n      daysModel.value.forEach(entry => {\n        const hash = getMonthHash(entry)\n\n        if (map[ hash ] === void 0) {\n          map[ hash ] = []\n        }\n\n        map[ hash ].push(entry.day)\n      })\n\n      return map\n    })\n\n    const rangeMap = computed(() => {\n      const map = {}\n\n      rangeModel.value.forEach(entry => {\n        const hashFrom = getMonthHash(entry.from)\n        const hashTo = getMonthHash(entry.to)\n\n        if (map[ hashFrom ] === void 0) {\n          map[ hashFrom ] = []\n        }\n\n        map[ hashFrom ].push({\n          from: entry.from.day,\n          to: hashFrom === hashTo ? entry.to.day : void 0,\n          range: entry\n        })\n\n        if (hashFrom < hashTo) {\n          let hash\n          const { year, month } = entry.from\n          const cur = month < 12\n            ? { year, month: month + 1 }\n            : { year: year + 1, month: 1 }\n\n          while ((hash = getMonthHash(cur)) <= hashTo) {\n            if (map[ hash ] === void 0) {\n              map[ hash ] = []\n            }\n\n            map[ hash ].push({\n              from: void 0,\n              to: hash === hashTo ? entry.to.day : void 0,\n              range: entry\n            })\n\n            cur.month++\n            if (cur.month > 12) {\n              cur.year++\n              cur.month = 1\n            }\n          }\n        }\n      })\n\n      return map\n    })\n\n    const rangeView = computed(() => {\n      if (editRange.value === null) {\n        return\n      }\n\n      const { init, initHash, final, finalHash } = editRange.value\n\n      const [ from, to ] = initHash <= finalHash\n        ? [ init, final ]\n        : [ final, init ]\n\n      const fromHash = getMonthHash(from)\n      const toHash = getMonthHash(to)\n\n      if (fromHash !== viewMonthHash.value && toHash !== viewMonthHash.value) {\n        return\n      }\n\n      const view = {}\n\n      if (fromHash === viewMonthHash.value) {\n        view.from = from.day\n        view.includeFrom = true\n      }\n      else {\n        view.from = 1\n      }\n\n      if (toHash === viewMonthHash.value) {\n        view.to = to.day\n        view.includeTo = true\n      }\n      else {\n        view.to = daysInMonth.value\n      }\n\n      return view\n    })\n\n    const viewMonthHash = computed(() => getMonthHash(viewModel.value))\n\n    const selectionDaysMap = computed(() => {\n      const map = {}\n\n      if (props.options === void 0) {\n        for (let i = 1; i <= daysInMonth.value; i++) {\n          map[ i ] = true\n        }\n\n        return map\n      }\n\n      const fn = typeof props.options === 'function'\n        ? props.options\n        : date => props.options.includes(date)\n\n      for (let i = 1; i <= daysInMonth.value; i++) {\n        const dayHash = viewMonthHash.value + '/' + pad(i)\n        map[ i ] = fn(dayHash)\n      }\n\n      return map\n    })\n\n    const eventDaysMap = computed(() => {\n      const map = {}\n\n      if (props.events === void 0) {\n        for (let i = 1; i <= daysInMonth.value; i++) {\n          map[ i ] = false\n        }\n      }\n      else {\n        const fn = typeof props.events === 'function'\n          ? props.events\n          : date => props.events.includes(date)\n\n        for (let i = 1; i <= daysInMonth.value; i++) {\n          const dayHash = viewMonthHash.value + '/' + pad(i)\n          map[ i ] = fn(dayHash) === true && evtColor.value(dayHash)\n        }\n      }\n\n      return map\n    })\n\n    const viewDays = computed(() => {\n      let date, endDay\n      const { year, month } = viewModel.value\n\n      if (props.calendar !== 'persian') {\n        date = new Date(year, month - 1, 1)\n        endDay = (new Date(year, month - 1, 0)).getDate()\n      }\n      else {\n        const gDate = toGregorian(year, month, 1)\n        date = new Date(gDate.gy, gDate.gm - 1, gDate.gd)\n        let prevJM = month - 1\n        let prevJY = year\n        if (prevJM === 0) {\n          prevJM = 12\n          prevJY--\n        }\n        endDay = jalaaliMonthLength(prevJY, prevJM)\n      }\n\n      return {\n        days: date.getDay() - computedFirstDayOfWeek.value - 1,\n        endDay\n      }\n    })\n\n    const days = computed(() => {\n      const res = []\n      const { days, endDay } = viewDays.value\n\n      const len = days < 0 ? days + 7 : days\n      if (len < 6) {\n        for (let i = endDay - len; i <= endDay; i++) {\n          res.push({ i, fill: true })\n        }\n      }\n\n      const index = res.length\n\n      for (let i = 1; i <= daysInMonth.value; i++) {\n        const day = { i, event: eventDaysMap.value[ i ], classes: [] }\n\n        if (selectionDaysMap.value[ i ] === true) {\n          day.in = true\n          day.flat = true\n        }\n\n        res.push(day)\n      }\n\n      // if current view has days in model\n      if (daysMap.value[ viewMonthHash.value ] !== void 0) {\n        daysMap.value[ viewMonthHash.value ].forEach(day => {\n          const i = index + day - 1\n          Object.assign(res[ i ], {\n            selected: true,\n            unelevated: true,\n            flat: false,\n            color: computedColor.value,\n            textColor: computedTextColor.value\n          })\n        })\n      }\n\n      // if current view has ranges in model\n      if (rangeMap.value[ viewMonthHash.value ] !== void 0) {\n        rangeMap.value[ viewMonthHash.value ].forEach(entry => {\n          if (entry.from !== void 0) {\n            const from = index + entry.from - 1\n            const to = index + (entry.to || daysInMonth.value) - 1\n\n            for (let day = from; day <= to; day++) {\n              Object.assign(res[ day ], {\n                range: entry.range,\n                unelevated: true,\n                color: computedColor.value,\n                textColor: computedTextColor.value\n              })\n            }\n\n            Object.assign(res[ from ], {\n              rangeFrom: true,\n              flat: false\n            })\n\n            entry.to !== void 0 && Object.assign(res[ to ], {\n              rangeTo: true,\n              flat: false\n            })\n          }\n          else if (entry.to !== void 0) {\n            const to = index + entry.to - 1\n\n            for (let day = index; day <= to; day++) {\n              Object.assign(res[ day ], {\n                range: entry.range,\n                unelevated: true,\n                color: computedColor.value,\n                textColor: computedTextColor.value\n              })\n            }\n\n            Object.assign(res[ to ], {\n              flat: false,\n              rangeTo: true\n            })\n          }\n          else {\n            const to = index + daysInMonth.value - 1\n            for (let day = index; day <= to; day++) {\n              Object.assign(res[ day ], {\n                range: entry.range,\n                unelevated: true,\n                color: computedColor.value,\n                textColor: computedTextColor.value\n              })\n            }\n          }\n        })\n      }\n\n      if (rangeView.value !== void 0) {\n        const from = index + rangeView.value.from - 1\n        const to = index + rangeView.value.to - 1\n\n        for (let day = from; day <= to; day++) {\n          res[ day ].color = computedColor.value\n          res[ day ].editRange = true\n        }\n\n        if (rangeView.value.includeFrom === true) {\n          res[ from ].editRangeFrom = true\n        }\n        if (rangeView.value.includeTo === true) {\n          res[ to ].editRangeTo = true\n        }\n      }\n\n      if (viewModel.value.year === today.value.year && viewModel.value.month === today.value.month) {\n        res[ index + today.value.day - 1 ].today = true\n      }\n\n      const left = res.length % 7\n      if (left > 0) {\n        const afterDays = 7 - left\n        for (let i = 1; i <= afterDays; i++) {\n          res.push({ i, fill: true })\n        }\n      }\n\n      res.forEach(day => {\n        let cls = 'q-date__calendar-item '\n\n        if (day.fill === true) {\n          cls += 'q-date__calendar-item--fill'\n        }\n        else {\n          cls += `q-date__calendar-item--${ day.in === true ? 'in' : 'out' }`\n\n          if (day.range !== void 0) {\n            cls += ` q-date__range${ day.rangeTo === true ? '-to' : (day.rangeFrom === true ? '-from' : '') }`\n          }\n\n          if (day.editRange === true) {\n            cls += ` q-date__edit-range${ day.editRangeFrom === true ? '-from' : '' }${ day.editRangeTo === true ? '-to' : '' }`\n          }\n\n          if (day.range !== void 0 || day.editRange === true) {\n            cls += ` text-${ day.color }`\n          }\n        }\n\n        day.classes = cls\n      })\n\n      return res\n    })\n\n    const attributes = computed(() => (\n      props.disable === true\n        ? { 'aria-disabled': 'true' }\n        : (props.readonly === true ? { 'aria-readonly': 'true' } : {})\n    ))\n\n    watch(() => props.modelValue, v => {\n      if (lastEmitValue === v) {\n        lastEmitValue = 0\n      }\n      else {\n        const { year, month } = getViewModel(innerMask.value, innerLocale.value)\n        updateViewModel(year, month)\n      }\n    })\n\n    watch(view, () => {\n      blurTargetRef.value !== null && blurTargetRef.value.focus()\n    })\n\n    watch(() => viewModel.value.year, year => {\n      emit('navigation', { year, month: viewModel.value.month })\n    })\n\n    watch(() => viewModel.value.month, month => {\n      emit('navigation', { year: viewModel.value.year, month })\n    })\n\n    watch(mask, val => {\n      updateValue(val, innerLocale.value, 'mask')\n      innerMask.value = val\n    })\n\n    watch(locale, val => {\n      updateValue(innerMask.value, val, 'locale')\n      innerLocale.value = val\n    })\n\n    function setToday () {\n      const date = today.value\n      const month = daysMap.value[ getMonthHash(date) ]\n\n      if (month === void 0 || month.includes(date.day) === false) {\n        addToModel(date)\n      }\n\n      setCalendarTo(date.year, date.month)\n    }\n\n    function setView (viewMode) {\n      if (viewIsValid(viewMode) === true) {\n        view.value = viewMode\n      }\n    }\n\n    function offsetCalendar (type, descending) {\n      if ([ 'month', 'year' ].includes(type)) {\n        const fn = type === 'month' ? goToMonth : goToYear\n        fn(descending === true ? -1 : 1)\n      }\n    }\n\n    function setCalendarTo (year, month) {\n      view.value = 'Calendar'\n      updateViewModel(year, month)\n    }\n\n    function setEditingRange (from, to) {\n      if (props.range === false || !from) {\n        editRange.value = null\n        return\n      }\n\n      const init = Object.assign({ ...viewModel.value }, from)\n      const final = to !== void 0\n        ? Object.assign({ ...viewModel.value }, to)\n        : init\n\n      editRange.value = {\n        init,\n        initHash: getDayHash(init),\n        final,\n        finalHash: getDayHash(final)\n      }\n\n      setCalendarTo(init.year, init.month)\n    }\n\n    function getMask () {\n      return props.calendar === 'persian' ? 'YYYY/MM/DD' : props.mask\n    }\n\n    function decodeString (date, mask, locale) {\n      return __splitDate(\n        date,\n        mask,\n        locale,\n        props.calendar,\n        {\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        }\n      )\n    }\n\n    function getViewModel (mask, locale) {\n      const model = Array.isArray(props.modelValue) === true\n        ? props.modelValue\n        : (props.modelValue ? [ props.modelValue ] : [])\n\n      if (model.length === 0) {\n        return getDefaultViewModel()\n      }\n\n      const target = model[ model.length - 1 ]\n      const decoded = decodeString(\n        target.from !== void 0 ? target.from : target,\n        mask,\n        locale\n      )\n\n      return decoded.dateHash === null\n        ? getDefaultViewModel()\n        : decoded\n    }\n\n    function getDefaultViewModel () {\n      let year, month\n\n      if (props.defaultYearMonth !== void 0) {\n        const d = props.defaultYearMonth.split('/')\n        year = parseInt(d[ 0 ], 10)\n        month = parseInt(d[ 1 ], 10)\n      }\n      else {\n        // may come from data() where computed\n        // props are not yet available\n        const d = today.value !== void 0\n          ? today.value\n          : getCurrentDate()\n\n        year = d.year\n        month = d.month\n      }\n\n      return {\n        year,\n        month,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        dateHash: year + '/' + pad(month) + '/01'\n      }\n    }\n\n    function goToMonth (offset) {\n      let year = viewModel.value.year\n      let month = Number(viewModel.value.month) + offset\n\n      if (month === 13) {\n        month = 1\n        year++\n      }\n      else if (month === 0) {\n        month = 12\n        year--\n      }\n\n      updateViewModel(year, month)\n      isImmediate.value === true && emitImmediately('month')\n    }\n\n    function goToYear (offset) {\n      const year = Number(viewModel.value.year) + offset\n      updateViewModel(year, viewModel.value.month)\n      isImmediate.value === true && emitImmediately('year')\n    }\n\n    function setYear (year) {\n      updateViewModel(year, viewModel.value.month)\n      view.value = props.defaultView === 'Years' ? 'Months' : 'Calendar'\n      isImmediate.value === true && emitImmediately('year')\n    }\n\n    function setMonth (month) {\n      updateViewModel(viewModel.value.year, month)\n      view.value = 'Calendar'\n      isImmediate.value === true && emitImmediately('month')\n    }\n\n    function toggleDate (date, monthHash) {\n      const month = daysMap.value[ monthHash ]\n      const fn = month !== void 0 && month.includes(date.day) === true\n        ? removeFromModel\n        : addToModel\n\n      fn(date)\n    }\n\n    function getShortDate (date) {\n      return { year: date.year, month: date.month, day: date.day }\n    }\n\n    function updateViewModel (year, month) {\n      if (minNav.value !== null && year <= minNav.value.year) {\n        year = minNav.value.year\n        if (month < minNav.value.month) {\n          month = minNav.value.month\n        }\n      }\n\n      if (maxNav.value !== null && year >= maxNav.value.year) {\n        year = maxNav.value.year\n        if (month > maxNav.value.month) {\n          month = maxNav.value.month\n        }\n      }\n\n      const newHash = year + '/' + pad(month) + '/01'\n\n      if (newHash !== viewModel.value.dateHash) {\n        monthDirection.value = (viewModel.value.dateHash < newHash) === ($q.lang.rtl !== true) ? 'left' : 'right'\n        if (year !== viewModel.value.year) {\n          yearDirection.value = monthDirection.value\n        }\n\n        nextTick(() => {\n          startYear.value = year - year % yearsInterval - (year < 0 ? yearsInterval : 0)\n          Object.assign(viewModel.value, {\n            year,\n            month,\n            day: 1,\n            dateHash: newHash\n          })\n        })\n      }\n    }\n\n    function emitValue (val, action, date) {\n      const value = val !== null && val.length === 1 && props.multiple === false\n        ? val[ 0 ]\n        : val\n\n      lastEmitValue = value\n\n      const { reason, details } = getEmitParams(action, date)\n      emit('update:modelValue', value, reason, details)\n    }\n\n    function emitImmediately (reason) {\n      const date = daysModel.value[ 0 ] !== void 0 && daysModel.value[ 0 ].dateHash !== null\n        ? { ...daysModel.value[ 0 ] }\n        : { ...viewModel.value } // inherit day, hours, minutes, milliseconds...\n\n      // nextTick required because of animation delay in viewModel\n      nextTick(() => {\n        date.year = viewModel.value.year\n        date.month = viewModel.value.month\n\n        const maxDay = props.calendar !== 'persian'\n          ? (new Date(date.year, date.month, 0)).getDate()\n          : jalaaliMonthLength(date.year, date.month)\n\n        date.day = Math.min(Math.max(1, date.day), maxDay)\n\n        const value = encodeEntry(date)\n        lastEmitValue = value\n\n        const { details } = getEmitParams('', date)\n        emit('update:modelValue', value, reason, details)\n      })\n    }\n\n    function getEmitParams (action, date) {\n      return date.from !== void 0\n        ? {\n            reason: `${ action }-range`,\n            details: {\n              ...getShortDate(date.target),\n              from: getShortDate(date.from),\n              to: getShortDate(date.to)\n            }\n          }\n        : {\n            reason: `${ action }-day`,\n            details: getShortDate(date)\n          }\n    }\n\n    function encodeEntry (date, mask, locale) {\n      return date.from !== void 0\n        ? { from: encodeObjectFn.value(date.from, mask, locale), to: encodeObjectFn.value(date.to, mask, locale) }\n        : encodeObjectFn.value(date, mask, locale)\n    }\n\n    function addToModel (date) {\n      let value\n\n      if (props.multiple === true) {\n        if (date.from !== void 0) {\n          // we also need to filter out intersections\n\n          const fromHash = getDayHash(date.from)\n          const toHash = getDayHash(date.to)\n\n          const days = daysModel.value\n            .filter(day => day.dateHash < fromHash || day.dateHash > toHash)\n\n          const ranges = rangeModel.value\n            .filter(({ from, to }) => to.dateHash < fromHash || from.dateHash > toHash)\n\n          value = days.concat(ranges).concat(date).map(entry => encodeEntry(entry))\n        }\n        else {\n          const model = normalizedModel.value.slice()\n          model.push(encodeEntry(date))\n          value = model\n        }\n      }\n      else {\n        value = encodeEntry(date)\n      }\n\n      emitValue(value, 'add', date)\n    }\n\n    function removeFromModel (date) {\n      if (props.noUnset === true) {\n        return\n      }\n\n      let model = null\n\n      if (props.multiple === true && Array.isArray(props.modelValue) === true) {\n        const val = encodeEntry(date)\n\n        if (date.from !== void 0) {\n          model = props.modelValue.filter(\n            date => (\n              date.from !== void 0\n                ? (date.from !== val.from && date.to !== val.to)\n                : true\n            )\n          )\n        }\n        else {\n          model = props.modelValue.filter(date => date !== val)\n        }\n\n        if (model.length === 0) {\n          model = null\n        }\n      }\n\n      emitValue(model, 'remove', date)\n    }\n\n    function updateValue (mask, locale, reason) {\n      const model = daysModel.value\n        .concat(rangeModel.value)\n        .map(entry => encodeEntry(entry, mask, locale))\n        .filter(entry => {\n          return entry.from !== void 0\n            ? entry.from.dateHash !== null && entry.to.dateHash !== null\n            : entry.dateHash !== null\n        })\n\n      emit('update:modelValue', (props.multiple === true ? model : model[ 0 ]) || null, reason)\n    }\n\n    // expose public methods\n    Object.assign(proxy, {\n      setToday, setView, offsetCalendar, setCalendarTo, setEditingRange\n    })\n\n    function getHeader () {\n      if (props.minimal === true) { return }\n\n      return h('div', {\n        class: 'q-date__header ' + headerClass.value\n      }, [\n        h('div', {\n          class: 'relative-position'\n        }, [\n          h(Transition, {\n            name: 'q-transition--fade'\n          }, () => h('div', {\n            key: 'h-yr-' + headerSubtitle.value,\n            class: 'q-date__header-subtitle q-date__header-link '\n              + (view.value === 'Years' ? 'q-date__header-link--active' : 'cursor-pointer'),\n            tabindex: tabindex.value,\n            ...getCache('vY', {\n              onClick () { view.value = 'Years' },\n              onKeyup (e) { e.keyCode === 13 && (view.value = 'Years') }\n            })\n          }, [ headerSubtitle.value ]))\n        ]),\n\n        h('div', {\n          class: 'q-date__header-title relative-position flex no-wrap'\n        }, [\n          h('div', {\n            class: 'relative-position col'\n          }, [\n            h(Transition, {\n              name: 'q-transition--fade'\n            }, () => h('div', {\n              key: 'h-sub' + headerTitle.value,\n              class: 'q-date__header-title-label q-date__header-link '\n                + (view.value === 'Calendar' ? 'q-date__header-link--active' : 'cursor-pointer'),\n              tabindex: tabindex.value,\n              ...getCache('vC', {\n                onClick () { view.value = 'Calendar' },\n                onKeyup (e) { e.keyCode === 13 && (view.value = 'Calendar') }\n              })\n            }, [ headerTitle.value ]))\n          ]),\n\n          props.todayBtn === true ? h(QBtn, {\n            class: 'q-date__header-today self-start',\n            icon: $q.iconSet.datetime.today,\n            flat: true,\n            size: 'sm',\n            round: true,\n            tabindex: tabindex.value,\n            onClick: setToday\n          }) : null\n        ])\n      ])\n    }\n\n    function getNavigation ({ label, type, key, dir, goTo, boundaries, cls }) {\n      return [\n        h('div', {\n          class: 'row items-center q-date__arrow'\n        }, [\n          h(QBtn, {\n            round: true,\n            dense: true,\n            size: 'sm',\n            flat: true,\n            icon: dateArrow.value[ 0 ],\n            tabindex: tabindex.value,\n            disable: boundaries.prev === false,\n            ...getCache('go-#' + type, { onClick () { goTo(-1) } })\n          })\n        ]),\n\n        h('div', {\n          class: 'relative-position overflow-hidden flex flex-center' + cls\n        }, [\n          h(Transition, {\n            name: 'q-transition--jump-' + dir\n          }, () => h('div', { key }, [\n            h(QBtn, {\n              flat: true,\n              dense: true,\n              noCaps: true,\n              label,\n              tabindex: tabindex.value,\n              ...getCache('view#' + type, { onClick: () => { view.value = type } })\n            })\n          ]))\n        ]),\n\n        h('div', {\n          class: 'row items-center q-date__arrow'\n        }, [\n          h(QBtn, {\n            round: true,\n            dense: true,\n            size: 'sm',\n            flat: true,\n            icon: dateArrow.value[ 1 ],\n            tabindex: tabindex.value,\n            disable: boundaries.next === false,\n            ...getCache('go+#' + type, { onClick () { goTo(1) } })\n          })\n        ])\n      ]\n    }\n\n    const renderViews = {\n      Calendar: () => ([\n        h('div', {\n          key: 'calendar-view',\n          class: 'q-date__view q-date__calendar'\n        }, [\n          h('div', {\n            class: 'q-date__navigation row items-center no-wrap'\n          }, getNavigation({\n            label: innerLocale.value.months[ viewModel.value.month - 1 ],\n            type: 'Months',\n            key: viewModel.value.month,\n            dir: monthDirection.value,\n            goTo: goToMonth,\n            boundaries: navBoundaries.value.month,\n            cls: ' col'\n          }).concat(getNavigation({\n            label: viewModel.value.year,\n            type: 'Years',\n            key: viewModel.value.year,\n            dir: yearDirection.value,\n            goTo: goToYear,\n            boundaries: navBoundaries.value.year,\n            cls: ''\n          }))),\n\n          h('div', {\n            class: 'q-date__calendar-weekdays row items-center no-wrap'\n          }, daysOfWeek.value.map(day => h('div', { class: 'q-date__calendar-item' }, [ h('div', day) ]))),\n\n          h('div', {\n            class: 'q-date__calendar-days-container relative-position overflow-hidden'\n          }, [\n            h(Transition, {\n              name: 'q-transition--slide-' + monthDirection.value\n            }, () => h('div', {\n              key: viewMonthHash.value,\n              class: 'q-date__calendar-days fit'\n            }, days.value.map(day => h('div', { class: day.classes }, [\n              day.in === true\n                ? h(\n                  QBtn, {\n                    class: day.today === true ? 'q-date__today' : '',\n                    dense: true,\n                    flat: day.flat,\n                    unelevated: day.unelevated,\n                    color: day.color,\n                    textColor: day.textColor,\n                    label: day.i,\n                    tabindex: tabindex.value,\n                    ...getCache('day#' + day.i, {\n                      onClick: () => { onDayClick(day.i) },\n                      onMouseover: () => { onDayMouseover(day.i) }\n                    })\n                  },\n                  day.event !== false\n                    ? () => h('div', { class: 'q-date__event bg-' + day.event })\n                    : null\n                )\n                : h('div', '' + day.i)\n            ]))))\n          ])\n        ])\n      ]),\n\n      Months () {\n        const currentYear = viewModel.value.year === today.value.year\n        const isDisabled = month => {\n          return (\n            (minNav.value !== null && viewModel.value.year === minNav.value.year && minNav.value.month > month)\n            || (maxNav.value !== null && viewModel.value.year === maxNav.value.year && maxNav.value.month < month)\n          )\n        }\n\n        const content = innerLocale.value.monthsShort.map((month, i) => {\n          const active = viewModel.value.month === i + 1\n\n          return h('div', {\n            class: 'q-date__months-item flex flex-center'\n          }, [\n            h(QBtn, {\n              class: currentYear === true && today.value.month === i + 1 ? 'q-date__today' : null,\n              flat: active !== true,\n              label: month,\n              unelevated: active,\n              color: active === true ? computedColor.value : null,\n              textColor: active === true ? computedTextColor.value : null,\n              tabindex: tabindex.value,\n              disable: isDisabled(i + 1),\n              ...getCache('month#' + i, { onClick: () => { setMonth(i + 1) } })\n            })\n          ])\n        })\n\n        props.yearsInMonthView === true && content.unshift(\n          h('div', { class: 'row no-wrap full-width' }, [\n            getNavigation({\n              label: viewModel.value.year,\n              type: 'Years',\n              key: viewModel.value.year,\n              dir: yearDirection.value,\n              goTo: goToYear,\n              boundaries: navBoundaries.value.year,\n              cls: ' col'\n            })\n          ])\n        )\n\n        return h('div', {\n          key: 'months-view',\n          class: 'q-date__view q-date__months flex flex-center'\n        }, content)\n      },\n\n      Years () {\n        const\n          start = startYear.value,\n          stop = start + yearsInterval,\n          years = []\n\n        const isDisabled = year => {\n          return (\n            (minNav.value !== null && minNav.value.year > year)\n            || (maxNav.value !== null && maxNav.value.year < year)\n          )\n        }\n\n        for (let i = start; i <= stop; i++) {\n          const active = viewModel.value.year === i\n\n          years.push(\n            h('div', {\n              class: 'q-date__years-item flex flex-center'\n            }, [\n              h(QBtn, {\n                key: 'yr' + i,\n                class: today.value.year === i ? 'q-date__today' : null,\n                flat: !active,\n                label: i,\n                dense: true,\n                unelevated: active,\n                color: active === true ? computedColor.value : null,\n                textColor: active === true ? computedTextColor.value : null,\n                tabindex: tabindex.value,\n                disable: isDisabled(i),\n                ...getCache('yr#' + i, { onClick: () => { setYear(i) } })\n              })\n            ])\n          )\n        }\n\n        return h('div', {\n          class: 'q-date__view q-date__years flex flex-center'\n        }, [\n          h('div', {\n            class: 'col-auto'\n          }, [\n            h(QBtn, {\n              round: true,\n              dense: true,\n              flat: true,\n              icon: dateArrow.value[ 0 ],\n              tabindex: tabindex.value,\n              disable: isDisabled(start),\n              ...getCache('y-', { onClick: () => { startYear.value -= yearsInterval } })\n            })\n          ]),\n\n          h('div', {\n            class: 'q-date__years-content col self-stretch row items-center'\n          }, years),\n\n          h('div', {\n            class: 'col-auto'\n          }, [\n            h(QBtn, {\n              round: true,\n              dense: true,\n              flat: true,\n              icon: dateArrow.value[ 1 ],\n              tabindex: tabindex.value,\n              disable: isDisabled(stop),\n              ...getCache('y+', { onClick: () => { startYear.value += yearsInterval } })\n            })\n          ])\n        ])\n      }\n    }\n\n    function onDayClick (dayIndex) {\n      const day = { ...viewModel.value, day: dayIndex }\n\n      if (props.range === false) {\n        toggleDate(day, viewMonthHash.value)\n        return\n      }\n\n      if (editRange.value === null) {\n        const dayProps = days.value.find(day => day.fill !== true && day.i === dayIndex)\n\n        if (props.noUnset !== true && dayProps.range !== void 0) {\n          removeFromModel({ target: day, from: dayProps.range.from, to: dayProps.range.to })\n          return\n        }\n\n        if (dayProps.selected === true) {\n          removeFromModel(day)\n          return\n        }\n\n        const initHash = getDayHash(day)\n\n        editRange.value = {\n          init: day,\n          initHash,\n          final: day,\n          finalHash: initHash\n        }\n\n        emit('range-start', getShortDate(day))\n      }\n      else {\n        const\n          initHash = editRange.value.initHash,\n          finalHash = getDayHash(day),\n          payload = initHash <= finalHash\n            ? { from: editRange.value.init, to: day }\n            : { from: day, to: editRange.value.init }\n\n        editRange.value = null\n        addToModel(initHash === finalHash ? day : { target: day, ...payload })\n\n        emit('range-end', {\n          from: getShortDate(payload.from),\n          to: getShortDate(payload.to)\n        })\n      }\n    }\n\n    function onDayMouseover (dayIndex) {\n      if (editRange.value !== null) {\n        const final = { ...viewModel.value, day: dayIndex }\n\n        Object.assign(editRange.value, {\n          final,\n          finalHash: getDayHash(final)\n        })\n      }\n    }\n\n    return () => {\n      const content = [\n        h('div', {\n          class: 'q-date__content col relative-position'\n        }, [\n          h(Transition, {\n            name: 'q-transition--fade'\n          }, renderViews[ view.value ])\n        ])\n      ]\n\n      const def = hSlot(slots.default)\n      def !== void 0 && content.push(\n        h('div', { class: 'q-date__actions' }, def)\n      )\n\n      if (props.name !== void 0 && props.disable !== true) {\n        injectFormInput(content, 'push')\n      }\n\n      return h('div', {\n        class: classes.value,\n        ...attributes.value\n      }, [\n        getHeader(),\n\n        h('div', {\n          ref: blurTargetRef,\n          class: 'q-date__main col column',\n          tabindex: -1\n        }, content)\n      ])\n    }\n  }\n})\n","import { getParentVm } from './vm.js'\n\nexport const portalList = []\n\nexport function getPortalVm (el) {\n  return portalList.find(vm =>\n    vm.__qPortalInnerRef.value !== null\n    && vm.__qPortalInnerRef.value.contains(el)\n  )\n}\n\nexport function closePortalMenus (vm, evt) {\n  do {\n    if (vm.$options.name === 'QMenu') {\n      vm.hide(evt)\n\n      // is this a point of separation?\n      if (vm.$props.separateClosePopup === true) {\n        return getParentVm(vm)\n      }\n    }\n    else if (vm.__qPortalInnerRef !== void 0) {\n      // treat it as point of separation if parent is QPopupProxy\n      // (so mobile matches desktop behavior)\n      // and hide it too\n      const parent = getParentVm(vm)\n\n      if (parent !== void 0 && parent.$options.name === 'QPopupProxy') {\n        vm.hide(evt)\n        return parent\n      }\n      else {\n        return vm\n      }\n    }\n\n    vm = getParentVm(vm)\n  } while (vm !== void 0 && vm !== null)\n}\n\nexport function closePortals (vm, evt, depth) {\n  while (depth !== 0 && vm !== void 0 && vm !== null) {\n    if (vm.__qPortalInnerRef !== void 0) {\n      depth--\n\n      if (vm.$options.name === 'QMenu') {\n        vm = closePortalMenus(vm, evt)\n        continue\n      }\n\n      vm.hide(evt)\n    }\n\n    vm = getParentVm(vm)\n  }\n}\n","import { ref, watch, onMounted, onBeforeUnmount, nextTick, getCurrentInstance } from 'vue'\n\nimport { clearSelection } from '../../utils/private/selection.js'\nimport { addEvt, cleanEvt, prevent } from '../../utils/event.js'\nimport { isKeyCode } from '../../utils/private/key-composition.js'\n\nexport const useAnchorProps = {\n  target: {\n    default: true\n  },\n  noParentEvent: Boolean,\n  contextMenu: Boolean\n}\n\nexport default function ({\n  showing,\n  avoidEmit, // required for QPopupProxy (true)\n  configureAnchorEl // optional\n}) {\n  const { props, proxy, emit } = getCurrentInstance()\n\n  const anchorEl = ref(null)\n\n  let touchTimer\n\n  function canShow (evt) {\n    // abort with no parent configured or on multi-touch\n    return anchorEl.value === null\n      ? false\n      : (evt === void 0 || evt.touches === void 0 || evt.touches.length <= 1)\n  }\n\n  const anchorEvents = {}\n\n  if (configureAnchorEl === void 0) {\n    // default configureAnchorEl is designed for\n    // QMenu & QPopupProxy (which is why it's handled here)\n\n    Object.assign(anchorEvents, {\n      hide (evt) {\n        proxy.hide(evt)\n      },\n\n      toggle (evt) {\n        proxy.toggle(evt)\n        evt.qAnchorHandled = true\n      },\n\n      toggleKey (evt) {\n        isKeyCode(evt, 13) === true && anchorEvents.toggle(evt)\n      },\n\n      contextClick (evt) {\n        proxy.hide(evt)\n        prevent(evt)\n        nextTick(() => {\n          proxy.show(evt)\n          evt.qAnchorHandled = true\n        })\n      },\n\n      prevent,\n\n      mobileTouch (evt) {\n        anchorEvents.mobileCleanup(evt)\n\n        if (canShow(evt) !== true) {\n          return\n        }\n\n        proxy.hide(evt)\n        anchorEl.value.classList.add('non-selectable')\n\n        const target = evt.target\n        addEvt(anchorEvents, 'anchor', [\n          [ target, 'touchmove', 'mobileCleanup', 'passive' ],\n          [ target, 'touchend', 'mobileCleanup', 'passive' ],\n          [ target, 'touchcancel', 'mobileCleanup', 'passive' ],\n          [ anchorEl.value, 'contextmenu', 'prevent', 'notPassive' ]\n        ])\n\n        touchTimer = setTimeout(() => {\n          proxy.show(evt)\n          evt.qAnchorHandled = true\n        }, 300)\n      },\n\n      mobileCleanup (evt) {\n        anchorEl.value.classList.remove('non-selectable')\n        clearTimeout(touchTimer)\n\n        if (showing.value === true && evt !== void 0) {\n          clearSelection()\n        }\n      }\n    })\n\n    configureAnchorEl = function (context = props.contextMenu) {\n      if (props.noParentEvent === true || anchorEl.value === null) { return }\n\n      let evts\n\n      if (context === true) {\n        if (proxy.$q.platform.is.mobile === true) {\n          evts = [\n            [ anchorEl.value, 'touchstart', 'mobileTouch', 'passive' ]\n          ]\n        }\n        else {\n          evts = [\n            [ anchorEl.value, 'mousedown', 'hide', 'passive' ],\n            [ anchorEl.value, 'contextmenu', 'contextClick', 'notPassive' ]\n          ]\n        }\n      }\n      else {\n        evts = [\n          [ anchorEl.value, 'click', 'toggle', 'passive' ],\n          [ anchorEl.value, 'keyup', 'toggleKey', 'passive' ]\n        ]\n      }\n\n      addEvt(anchorEvents, 'anchor', evts)\n    }\n  }\n\n  function unconfigureAnchorEl () {\n    cleanEvt(anchorEvents, 'anchor')\n  }\n\n  function setAnchorEl (el) {\n    anchorEl.value = el\n    while (anchorEl.value.classList.contains('q-anchor--skip')) {\n      anchorEl.value = anchorEl.value.parentNode\n    }\n    configureAnchorEl()\n  }\n\n  function pickAnchorEl () {\n    if (props.target === false || props.target === '') {\n      anchorEl.value = null\n    }\n    else if (props.target === true) {\n      setAnchorEl(proxy.$el.parentNode)\n    }\n    else {\n      let el = props.target\n\n      if (typeof props.target === 'string') {\n        try {\n          el = document.querySelector(props.target)\n        }\n        catch (err) {\n          el = void 0\n        }\n      }\n\n      if (el !== void 0 && el !== null) {\n        anchorEl.value = el.$el || el\n        configureAnchorEl()\n      }\n      else {\n        anchorEl.value = null\n        console.error(`Anchor: target \"${ props.target }\" not found`)\n      }\n    }\n  }\n\n  watch(() => props.contextMenu, val => {\n    if (anchorEl.value !== null) {\n      unconfigureAnchorEl()\n      configureAnchorEl(val)\n    }\n  })\n\n  watch(() => props.target, () => {\n    if (anchorEl.value !== null) {\n      unconfigureAnchorEl()\n    }\n\n    pickAnchorEl()\n  })\n\n  watch(() => props.noParentEvent, val => {\n    if (anchorEl.value !== null) {\n      if (val === true) {\n        unconfigureAnchorEl()\n      }\n      else {\n        configureAnchorEl()\n      }\n    }\n  })\n\n  onMounted(() => {\n    pickAnchorEl()\n\n    if (avoidEmit !== true && props.modelValue === true && anchorEl.value === null) {\n      emit('update:modelValue', false)\n    }\n  })\n\n  onBeforeUnmount(() => {\n    clearTimeout(touchTimer)\n    unconfigureAnchorEl()\n  })\n\n  return {\n    anchorEl,\n    canShow,\n    anchorEvents\n  }\n}\n","import { computed } from 'vue'\n\nimport { toJalaali } from '../../utils/private/date-persian.js'\nimport { pad } from '../../utils/format.js'\n\nconst calendars = [ 'gregorian', 'persian' ]\n\nexport const useDatetimeProps = {\n  modelValue: {\n    required: true\n  },\n\n  mask: {\n    type: String\n  },\n  locale: Object,\n\n  calendar: {\n    type: String,\n    validator: v => calendars.includes(v),\n    default: 'gregorian'\n  },\n\n  landscape: Boolean,\n\n  color: String,\n  textColor: String,\n\n  square: Boolean,\n  flat: Boolean,\n  bordered: Boolean,\n\n  readonly: Boolean,\n  disable: Boolean\n}\n\nexport const useDatetimeEmits = [ 'update:modelValue' ]\n\nexport function getDayHash (date) {\n  return date.year + '/' + pad(date.month) + '/' + pad(date.day)\n}\n\nexport default function (props, $q) {\n  const editable = computed(() => {\n    return props.disable !== true && props.readonly !== true\n  })\n\n  const tabindex = computed(() => {\n    return props.editable === true ? 0 : -1\n  })\n\n  const headerClass = computed(() => {\n    const cls = []\n    props.color !== void 0 && cls.push(`bg-${ props.color }`)\n    props.textColor !== void 0 && cls.push(`text-${ props.textColor }`)\n    return cls.join(' ')\n  })\n\n  function getLocale () {\n    return props.locale !== void 0\n      ? { ...$q.lang.date, ...props.locale }\n      : $q.lang.date\n  }\n\n  function getCurrentDate (dateOnly) {\n    const d = new Date()\n    const timeFill = dateOnly === true ? null : 0\n\n    if (props.calendar === 'persian') {\n      const jDate = toJalaali(d)\n      return {\n        year: jDate.jy,\n        month: jDate.jm,\n        day: jDate.jd\n      }\n    }\n\n    return {\n      year: d.getFullYear(),\n      month: d.getMonth() + 1,\n      day: d.getDate(),\n      hour: timeFill,\n      minute: timeFill,\n      second: timeFill,\n      millisecond: timeFill\n    }\n  }\n\n  return {\n    editable,\n    tabindex,\n    headerClass,\n\n    getLocale,\n    getCurrentDate\n  }\n}\n","import { h, ref, computed, watch, getCurrentInstance } from 'vue'\n\nimport QDialog from '../dialog/QDialog.js'\nimport QMenu from '../menu/QMenu.js'\n\nimport useAnchor, { useAnchorProps } from '../../composables/private/use-anchor.js'\n\nimport { createComponent } from '../../utils/private/create.js'\n\nexport default createComponent({\n  name: 'QPopupProxy',\n\n  props: {\n    ...useAnchorProps,\n\n    breakpoint: {\n      type: [ String, Number ],\n      default: 450\n    }\n  },\n\n  emits: [ 'show', 'hide' ],\n\n  setup (props, { slots, emit, attrs }) {\n    const { proxy } = getCurrentInstance()\n    const { $q } = proxy\n\n    const showing = ref(false)\n    const popupRef = ref(null)\n    const breakpoint = computed(() => parseInt(props.breakpoint, 10))\n\n    const { canShow } = useAnchor({ showing })\n\n    function getType () {\n      return $q.screen.width < breakpoint.value || $q.screen.height < breakpoint.value\n        ? 'dialog'\n        : 'menu'\n    }\n\n    const type = ref(getType())\n\n    const popupProps = computed(() => (\n      type.value === 'menu' ? { maxHeight: '99vh' } : {})\n    )\n\n    watch(() => getType(), val => {\n      if (showing.value !== true) {\n        type.value = val\n      }\n    })\n\n    // expose public methods\n    Object.assign(proxy, {\n      show (evt) { canShow(evt) === true && popupRef.value.show(evt) },\n      hide (evt) { popupRef.value.hide(evt) },\n      toggle (evt) { popupRef.value.toggle(evt) }\n    })\n\n    function onShow (evt) {\n      showing.value = true\n      emit('show', evt)\n    }\n\n    function onHide (evt) {\n      showing.value = false\n      type.value = getType()\n      emit('hide', evt)\n    }\n\n    return () => {\n      const data = {\n        ref: popupRef,\n        ...popupProps.value,\n        ...attrs,\n        onShow,\n        onHide\n      }\n\n      let component\n\n      if (type.value === 'dialog') {\n        component = QDialog\n      }\n      else {\n        component = QMenu\n        Object.assign(data, {\n          target: props.target,\n          contextMenu: props.contextMenu,\n          noParentEvent: true,\n          separateClosePopup: true\n        })\n      }\n\n      return h(component, data, slots.default)\n    }\n  }\n})\n","import { createDirective } from '../utils/private/create.js'\nimport { closePortals, getPortalVm } from '../utils/private/portal.js'\nimport { isKeyCode } from '../utils/private/key-composition.js'\nimport getSSRProps from '../utils/private/noop-ssr-directive-transform.js'\n\n/*\n * depth\n *   < 0  --> close all chain\n *   0    --> disabled\n *   > 0  --> close chain up to N parent\n */\n\nfunction getDepth (value) {\n  if (value === false) {\n    return 0\n  }\n  if (value === true || value === void 0) {\n    return 1\n  }\n\n  const depth = parseInt(value, 10)\n  return isNaN(depth) ? 0 : depth\n}\n\nexport default createDirective(__QUASAR_SSR_SERVER__\n  ? { name: 'close-popup', getSSRProps }\n  : {\n      name: 'close-popup',\n\n      beforeMount (el, { value }) {\n        const ctx = {\n          depth: getDepth(value),\n\n          handler (evt) {\n            // allow @click to be emitted\n            ctx.depth !== 0 && setTimeout(() => {\n              const vm = getPortalVm(el)\n              if (vm !== void 0) {\n                closePortals(vm, evt, ctx.depth)\n              }\n            })\n          },\n\n          handlerKey (evt) {\n            isKeyCode(evt, 13) === true && ctx.handler(evt)\n          }\n        }\n\n        el.__qclosepopup = ctx\n\n        el.addEventListener('click', ctx.handler)\n        el.addEventListener('keyup', ctx.handlerKey)\n      },\n\n      updated (el, { value, oldValue }) {\n        if (value !== oldValue) {\n          el.__qclosepopup.depth = getDepth(value)\n        }\n      },\n\n      beforeUnmount (el) {\n        const ctx = el.__qclosepopup\n        el.removeEventListener('click', ctx.handler)\n        el.removeEventListener('keyup', ctx.handlerKey)\n        delete el.__qclosepopup\n      }\n    }\n)\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\n\nvar quot = /\"/g;\nvar replace = uncurryThis(''.replace);\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + replace(toString(value), quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","import { h, ref, onUnmounted, Teleport } from 'vue'\n\nimport { noop } from '../../utils/event.js'\nimport { addFocusWaitFlag, removeFocusWaitFlag } from '../../utils/private/focus-manager.js'\nimport { createGlobalNode, removeGlobalNode } from '../../utils/private/global-nodes.js'\nimport { portalList } from '../../utils/private/portal.js'\n\nfunction isOnGlobalDialog (vm) {\n  vm = vm.parent\n\n  while (vm !== void 0 && vm !== null) {\n    if (vm.type.name === 'QGlobalDialog') {\n      return true\n    }\n    if (vm.type.name === 'QDialog' || vm.type.name === 'QMenu') {\n      return false\n    }\n\n    vm = vm.parent\n  }\n\n  return false\n}\n\n// Warning!\n// You MUST specify \"inheritAttrs: false\" in your component\n\nexport default function (vm, innerRef, renderPortalContent, checkGlobalDialog) {\n  // showing, including while in show/hide transition\n  const portalIsActive = ref(false)\n\n  // showing & not in any show/hide transition\n  const portalIsAccessible = ref(false)\n\n  if (__QUASAR_SSR_SERVER__) {\n    return {\n      portalIsActive,\n      portalIsAccessible,\n\n      showPortal: noop,\n      hidePortal: noop,\n      renderPortal: noop\n    }\n  }\n\n  let portalEl = null\n  const focusObj = {}\n  const onGlobalDialog = checkGlobalDialog === true && isOnGlobalDialog(vm)\n\n  function showPortal (isReady) {\n    if (isReady === true) {\n      removeFocusWaitFlag(focusObj)\n      portalIsAccessible.value = true\n      return\n    }\n\n    portalIsAccessible.value = false\n\n    if (portalIsActive.value === false) {\n      if (onGlobalDialog === false && portalEl === null) {\n        portalEl = createGlobalNode()\n      }\n\n      portalIsActive.value = true\n\n      // register portal\n      portalList.push(vm.proxy)\n\n      addFocusWaitFlag(focusObj)\n    }\n  }\n\n  function hidePortal (isReady) {\n    portalIsAccessible.value = false\n\n    if (isReady !== true) { return }\n\n    removeFocusWaitFlag(focusObj)\n    portalIsActive.value = false\n\n    // unregister portal\n    const index = portalList.indexOf(vm.proxy)\n    if (index > -1) {\n      portalList.splice(index, 1)\n    }\n\n    if (portalEl !== null) {\n      removeGlobalNode(portalEl)\n      portalEl = null\n    }\n  }\n\n  onUnmounted(() => { hidePortal(true) })\n\n  // expose publicly needed stuff for portal utils\n  Object.assign(vm.proxy, { __qPortalInnerRef: innerRef })\n\n  return {\n    showPortal,\n    hidePortal,\n\n    portalIsActive,\n    portalIsAccessible,\n\n    renderPortal: () => (\n      onGlobalDialog === true\n        ? renderPortalContent()\n        : (\n            portalIsActive.value === true\n              ? [ h(Teleport, { to: portalEl }, renderPortalContent()) ]\n              : void 0\n          )\n    )\n  }\n}\n","import { ref, computed, watch, nextTick } from 'vue'\n\nexport const useTransitionProps = {\n  transitionShow: {\n    type: String,\n    default: 'fade'\n  },\n\n  transitionHide: {\n    type: String,\n    default: 'fade'\n  },\n\n  transitionDuration: {\n    type: [ String, Number ],\n    default: 300\n  }\n}\n\nexport default function (props, showing) {\n  const transitionState = ref(showing.value)\n\n  watch(showing, val => {\n    nextTick(() => { transitionState.value = val })\n  })\n\n  // return transition\n  return {\n    transition: computed(() => 'q-transition--' + (\n      transitionState.value === true ? props.transitionHide : props.transitionShow\n    )),\n\n    transitionStyle: computed(() => `--q-transition-duration: ${ props.transitionDuration }ms`)\n  }\n}\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","import { client } from '../../plugins/Platform.js'\nimport { isKeyCode } from './key-composition.js'\n\nconst handlers = []\nlet escDown\n\nfunction onKeydown (evt) {\n  escDown = evt.keyCode === 27\n}\n\nfunction onBlur () {\n  if (escDown === true) {\n    escDown = false\n  }\n}\n\nfunction onKeyup (evt) {\n  if (escDown === true) {\n    escDown = false\n\n    if (isKeyCode(evt, 27) === true) {\n      handlers[ handlers.length - 1 ](evt)\n    }\n  }\n}\n\nfunction update (action) {\n  window[ action ]('keydown', onKeydown)\n  window[ action ]('blur', onBlur)\n  window[ action ]('keyup', onKeyup)\n  escDown = false\n}\n\nexport function addEscapeKey (fn) {\n  if (client.is.desktop === true) {\n    handlers.push(fn)\n\n    if (handlers.length === 1) {\n      update('addEventListener')\n    }\n  }\n}\n\nexport function removeEscapeKey (fn) {\n  const index = handlers.indexOf(fn)\n  if (index > -1) {\n    handlers.splice(index, 1)\n\n    if (handlers.length === 0) {\n      update('removeEventListener')\n    }\n  }\n}\n","import { client } from '../../plugins/Platform.js'\n\nconst handlers = []\n\nfunction trigger (e) {\n  handlers[ handlers.length - 1 ](e)\n}\n\nexport function addFocusout (fn) {\n  if (client.is.desktop === true) {\n    handlers.push(fn)\n\n    if (handlers.length === 1) {\n      document.body.addEventListener('focusin', trigger)\n    }\n  }\n}\n\nexport function removeFocusout (fn) {\n  const index = handlers.indexOf(fn)\n  if (index > -1) {\n    handlers.splice(index, 1)\n\n    if (handlers.length === 0) {\n      document.body.removeEventListener('focusin', trigger)\n    }\n  }\n}\n","import { nextTick, onBeforeUnmount } from 'vue'\n\n/*\n * Usage:\n *    registerTick(fn)\n *    registerTick(fn)\n */\n\nexport default function () {\n  let tickFn\n\n  onBeforeUnmount(() => {\n    tickFn = void 0\n  })\n\n  return {\n    registerTick (fn) {\n      tickFn = fn\n\n      nextTick(() => {\n        if (tickFn === fn) {\n          tickFn()\n          tickFn = void 0\n        }\n      })\n    },\n\n    removeTick () {\n      tickFn = void 0\n    }\n  }\n}\n"],"sourceRoot":""}