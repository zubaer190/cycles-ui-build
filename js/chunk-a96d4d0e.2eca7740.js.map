{"version":3,"sources":["webpack:///./node_modules/vue-demi/lib/index.mjs","webpack:///./src/views/redirect.vue","webpack:///./src/views/redirect.vue?8c31"],"names":["setup","route","router","store","query","patientId","to","cycleId","providerNo","commit","push","path","dispatch","demographicNo","cycelId","then","redirectTo","state","artCycle","patient","sex","catch","err","__exports__","render"],"mappings":"kHAAA,uZ,sJCCI,eAAsB,G,oDASX,GACXA,MADW,WAEP,IAAMC,EAAQ,iBACRC,EAAS,iBACTC,EAAQ,iBAEd,gBAAU,WACN,MAA+CF,EAAMG,MAA7CC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,GAAgBC,GAAnC,EAAuBC,WAAvB,EAAmCD,SAEnC,GAAiB,KAAbF,EAIA,OAHA,iBACAF,EAAMM,OAAO,8CACbP,EAAOQ,KAAK,CAAEC,KAAM,cAGhBN,GAAaE,EACbJ,EACKS,SAAS,oCAAqC,CAC3CC,cAAeR,EACfS,QAASP,IAEZQ,MAAK,WACF,IAAIC,EAAaV,EAEbH,EAAMc,MAAMC,SAASC,SACgB,MAArChB,EAAMc,MAAMC,SAASC,QAAQC,KACd,cAAfJ,IAEAA,EAAa,SAGjBd,EAAOQ,KAAK,CAAEC,KAAMK,OAEvBK,OAAM,SAACC,OAEZnB,EACKS,SAAS,4BAA6BP,GACtCU,MAAK,WACF,IAAIC,EAAaV,EAEbH,EAAMc,MAAMC,SAASC,SACgB,MAArChB,EAAMc,MAAMC,SAASC,QAAQC,KACd,cAAfJ,IAEAA,EAAa,SAGjBd,EAAOQ,KAAK,CAAEC,KAAMK,OAEvBK,OAAM,SAACC,Y,qBCtDhC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-a96d4d0e.2eca7740.js","sourcesContent":["import * as Vue from 'vue'\n\nvar isVue2 = false\nvar isVue3 = true\nvar Vue2 = undefined\n\nfunction install() {}\n\nexport function set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key)\n    target.splice(key, 1, val)\n    return val\n  }\n  target[key] = val\n  return val\n}\n\nexport function del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1)\n    return\n  }\n  delete target[key]\n}\n\nexport * from 'vue'\nexport {\n  Vue,\n  Vue2,\n  isVue2,\n  isVue3,\n  install,\n}\n","<template>\r\n    <p-progress-spinner />\r\n</template>\r\n\r\n<script>\r\nimport { onMounted } from \"vue-demi\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { clearPaitentAndCycle } from \"@/service/utils\";\r\n\r\nexport default {\r\n    setup() {\r\n        const route = useRoute();\r\n        const router = useRouter();\r\n        const store = useStore();\r\n\r\n        onMounted(() => {\r\n            const { patientId, to, providerNo, cycleId } = route.query;\r\n\r\n            if (patientId == \"0\") {\r\n                clearPaitentAndCycle();\r\n                store.commit(\"artCycle/CLEAR_PATIENT_AND_CYCLE_DATA\");\r\n                router.push({ path: \"art-cycle\" });\r\n                return;\r\n            } else {\r\n                if (patientId && cycleId) {\r\n                    store\r\n                        .dispatch(\"artCycle/getSelectedCyclesDetails\", {\r\n                            demographicNo: patientId,\r\n                            cycelId: cycleId\r\n                        })\r\n                        .then(() => {\r\n                            let redirectTo = to;\r\n                            if (\r\n                                store.state.artCycle.patient &&\r\n                                store.state.artCycle.patient.sex === \"M\" &&\r\n                                redirectTo === \"art-cycle\"\r\n                            ) {\r\n                                redirectTo = \"semen\";\r\n                            }\r\n\r\n                            router.push({ path: redirectTo });\r\n                        })\r\n                        .catch((err) => {});\r\n                } else {\r\n                    store\r\n                        .dispatch(\"artCycle/getCyclesDetails\", patientId)\r\n                        .then(() => {\r\n                            let redirectTo = to;\r\n                            if (\r\n                                store.state.artCycle.patient &&\r\n                                store.state.artCycle.patient.sex === \"M\" &&\r\n                                redirectTo === \"art-cycle\"\r\n                            ) {\r\n                                redirectTo = \"semen\";\r\n                            }\r\n\r\n                            router.push({ path: redirectTo });\r\n                        })\r\n                        .catch((err) => {});\r\n                }\r\n            }\r\n\r\n            // if (store.state.user.providerNo === providerNo) {\r\n            // } else {\r\n            //     store.dispatch(\"logout\").then(() => {\r\n            //         router.push({\r\n            //             name: \"Login\",\r\n            //             query: { to, providerNo, patientId }\r\n            //         });\r\n            //     });\r\n            // }\r\n        });\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./redirect.vue?vue&type=template&id=3211127c\"\nimport script from \"./redirect.vue?vue&type=script&lang=js\"\nexport * from \"./redirect.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}