{"version":3,"sources":["webpack:///./src/views/third-party-kpi.vue?e1c3","webpack:///./node_modules/vue-demi/lib/index.mjs","webpack:///./src/views/third-party-kpi.vue","webpack:///./src/views/third-party-kpi.vue?ca33","webpack:///./node_modules/core-js/modules/es.array.join.js"],"names":["class","for","style","donatedTo","options","thirdPartyOpts","optionLabel","optionValue","showIcon","fromDate","dateFormat","toDate","label","fetchThirdPartyData","value","thirdPartyData","responsiveLayout","showGridlines","dataKey","selection","selectedRow","selectionMode","onRowSelect","redirectToPatient","footer","openPdfReportStandard","headerStyle","header","selectAllCheckbox","binary","selectAllOnChange","body","data","checkList","name","dId","donarId","icon","field","donatedToId","setup","store","router","donatedToOpts","state","artCycle","patient","id","console","log","donationTypes","join","fromDateF","format","toDateF","get","response","list","error","event","map","item","queryParam","isDonor","patientId","to","cycleId","push","query","__exports__","render","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","this","undefined"],"mappings":"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","file":"js/chunk-7384a960.587f0120.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./third-party-kpi.vue?vue&type=style&index=0&id=2b173563&scoped=true&lang=css\"","import * as Vue from 'vue'\n\nvar isVue2 = false\nvar isVue3 = true\nvar Vue2 = undefined\n\nfunction install() {}\n\nexport function set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key)\n    target.splice(key, 1, val)\n    return val\n  }\n  target[key] = val\n  return val\n}\n\nexport function del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1)\n    return\n  }\n  delete target[key]\n}\n\nexport * from 'vue'\nexport {\n  Vue,\n  Vue2,\n  isVue2,\n  isVue3,\n  install,\n}\n","<template>\r\n    <div class=\"form-container\">\r\n        <div class=\"form-field p-mt-2\">\r\n            <label for=\"cycle-type\" class=\"label\">\r\n                Third Party Option\r\n            </label>\r\n            <p-multi-select\r\n                v-model=\"donatedTo\"\r\n                :options=\"thirdPartyOpts\"\r\n                optionLabel=\"label\"\r\n                optionValue=\"value\"\r\n            />\r\n        </div>\r\n\r\n        <div class=\"form-field p-mt-2\">\r\n            <label class=\"label\">From Date</label>\r\n            <p-calendar\r\n                :showIcon=\"true\"\r\n                v-model=\"fromDate\"\r\n                dateFormat=\"yy-mm-dd\"\r\n                :class=\"{\r\n                    'p-invalid': submitted2 && v2$.date.$invalid\r\n                }\"\r\n            />\r\n        </div>\r\n\r\n        <div class=\"form-field p-mt-2\">\r\n            <label class=\"label\">To Date</label>\r\n            <p-calendar\r\n                :showIcon=\"true\"\r\n                v-model=\"toDate\"\r\n                dateFormat=\"yy-mm-dd\"\r\n                :class=\"{\r\n                    'p-invalid': submitted2 && v2$.date.$invalid\r\n                }\"\r\n            />\r\n        </div>\r\n\r\n        <div class=\"form-field p-mt-2\">\r\n            <label class=\"label\">&nbsp;</label>\r\n            <p-button label=\"Get Report\" @click=\"fetchThirdPartyData\" />\r\n        </div>\r\n    </div>\r\n\r\n    <p-data-table\r\n        :value=\"thirdPartyData\"\r\n        responsiveLayout=\"scroll\"\r\n        showGridlines\r\n        class=\"p-datatable-sm p-mt-1 p-shadow-1\"\r\n        dataKey=\"dId\"\r\n        v-model:selection=\"selectedRow\"\r\n        selectionMode=\"single\"\r\n        @row-select=\"onRowSelect\"\r\n        @row-dblclick=\"redirectToPatient\"\r\n    >\r\n        <p-column\r\n            headerStyle=\"width: 3em; max-width: 3rem\"\r\n            style=\"width: 3em; max-width: 3rem\"\r\n        >\r\n            <template #header>\r\n                <p-checkbox\r\n                    v-model=\"selectAllCheckbox\"\r\n                    :binary=\"true\"\r\n                    @change=\"selectAllOnChange\"\r\n                />\r\n            </template>\r\n            <template #body=\"{ data }\">\r\n                <p-checkbox\r\n                    v-model=\"checkList\"\r\n                    :name=\"data.dId\"\r\n                    :value=\"data.dId\"\r\n                />\r\n            </template>\r\n        </p-column>\r\n\r\n        <p-column header=\"Donar ID\">\r\n            <template #body=\"{ data }\">\r\n                <div\r\n                    style=\"display: flex; align-items: center; justify-content: center;\"\r\n                >\r\n                    <span>{{ data.donarId }}</span>\r\n                    <p-button\r\n                        icon=\"pi pi-arrow-right\"\r\n                        class=\"p-button-sm p-button-outlined\"\r\n                        style=\"margin-left: 5px;\"\r\n                        @click=\"\"\r\n                    >\r\n                    </p-button>\r\n                </div>\r\n            </template>\r\n        </p-column>\r\n        <p-column field=\"donarName\" header=\"Donar Name\" />\r\n        <p-column field=\"donarDOB\" header=\"Donar DOB\" />\r\n        <p-column field=\"donorPatientDoctor\" header=\"Donar Patient Doctor\" />\r\n        <p-column field=\"cycleId\" header=\"Cycle ID\" />\r\n        <p-column header=\"Recepient ID\">\r\n            <template #body=\"{ data }\">\r\n                <div\r\n                    style=\"display: flex; align-items: center; justify-content: center;\"\r\n                >\r\n                    <span>{{ data.donatedToId }}</span>\r\n                    <p-button\r\n                        icon=\"pi pi-arrow-right\"\r\n                        class=\"p-button-sm p-button-outlined\"\r\n                        style=\"margin-left: 5px;\"\r\n                        @click=\"\"\r\n                    >\r\n                    </p-button>\r\n                </div>\r\n            </template>\r\n        </p-column>\r\n        <p-column field=\"donatedtoName\" header=\"Recepient Name\" />\r\n        <p-column field=\"donatedtoDOB\" header=\"Recepient DOB\" />\r\n        <p-column\r\n            field=\"donatedtoPatientDoctor\"\r\n            header=\"Recepient Patient Doctor\"\r\n        />\r\n        <p-column field=\"dDate\" header=\"Date\" />\r\n        <p-column field=\"number\" header=\"Number\" />\r\n        <p-column field=\"donationType\" header=\"Donation Type\" />\r\n\r\n        <template #footer>\r\n            <p-button\r\n                label=\"PDF Reports\"\r\n                class=\"p-mr-2 p-button-secondary\"\r\n                @click=\"openPdfReportStandard\"\r\n            />\r\n        </template>\r\n    </p-data-table>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue-demi\";\r\nimport { $axios } from \"@/service/app-http\";\r\nimport Service from \"@/service/art-cycle.js\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { useToast } from \"primevue/usetoast\";\r\nimport { onMounted } from \"vue\";\r\nimport format from \"date-fns/format\";\r\nimport { DATE_FORMAT_STRING } from \"@/config\";\r\n\r\nexport default {\r\n    setup() {\r\n        const store = useStore();\r\n        const toast = useToast();\r\n        const router = useRouter();\r\n        const selectAllCheckbox = ref(false);\r\n        const donatedTo = ref(null);\r\n        const donatedToOpts = ref([]);\r\n        const thirdPartyData = ref([]);\r\n        const fromDate = ref(null);\r\n        const toDate = ref(null);\r\n\r\n        const fetchThirdPartyData = async () => {\r\n            if (store.state.artCycle.patient) {\r\n                const patientId = store.state.artCycle.patient.id;\r\n                try {\r\n                    console.log(donatedTo.value);\r\n\r\n                    const donationTypes = donatedTo.value.join(\",\");\r\n                    const fromDateF = fromDate.value\r\n                        ? format(fromDate.value, DATE_FORMAT_STRING)\r\n                        : null;\r\n\r\n                    const toDateF = toDate.value\r\n                        ? format(toDate.value, DATE_FORMAT_STRING)\r\n                        : null;\r\n\r\n                    const response = await $axios.get(\r\n                        `third-party/list-param?donationTypes=${donationTypes}&fromDate=${fromDateF}&toDate=${toDateF}`\r\n                    );\r\n                    thirdPartyData.value = response.data.list;\r\n                } catch (error) {\r\n                    console.error(\"Error fetching third-party data:\", error);\r\n                }\r\n            }\r\n        };\r\n\r\n        const selectedRow = ref(null);\r\n        const checkList = ref([]);\r\n\r\n        const findIndexById = (id) => {\r\n            return thirdPartyData.value.findIndex((item) => item.id === id);\r\n        };\r\n\r\n        const onRowSelect = (event) => {\r\n            selectedRow.value = { ...event.data };\r\n        };\r\n\r\n        const selectAllOnChange = () => {\r\n            if (selectAllCheckbox.value) {\r\n                checkList.value = thirdPartyData.value.map((item) => item.id);\r\n            } else {\r\n                checkList.value = [];\r\n            }\r\n        };\r\n\r\n        const thirdPartyOpts = [\r\n            { label: \"Egg Donor\", value: \"Egg Donor\" },\r\n            { label: \"Embyro Donor\", value: \"Embryo Donor\" },\r\n            { label: \"Sperm Donor\", value: \"Sperm Donor\" },\r\n            { label: \"Gestational Carrier\", value: \"Gestational Carrier\" }\r\n        ];\r\n\r\n        const openPdfReportStandard = () => {};\r\n        onMounted(() => {\r\n            // fetchThirdPartyData();\r\n        });\r\n        return {\r\n            selectAllCheckbox,\r\n            thirdPartyData,\r\n            selectedRow,\r\n            checkList,\r\n            onRowSelect,\r\n            openPdfReportStandard,\r\n            thirdPartyOpts,\r\n            selectAllOnChange,\r\n            donatedToOpts,\r\n            donatedTo,\r\n            fetchThirdPartyData,\r\n            fromDate,\r\n            toDate,\r\n            redirectToPatient: () => {\r\n                if (selectedRow.value) {\r\n                    let queryParam = null;\r\n                    if (\r\n                        selectedRow.value.isDonor === \"donor\" &&\r\n                        selectedRow.value.donatedToId\r\n                    ) {\r\n                        queryParam = {\r\n                            patientId: selectedRow.value.donatedToId,\r\n                            to: \"cycle-monitoring\"\r\n                        };\r\n                    } else if (selectedRow.value.donarId) {\r\n                        queryParam = {\r\n                            patientId: selectedRow.value.donarId,\r\n                            cycleId: selectedRow.value.cycleId,\r\n                            to: \"cycle-monitoring\"\r\n                        };\r\n                    }\r\n\r\n                    if (queryParam != null) {\r\n                        router.push({\r\n                            name: \"redirect\",\r\n                            query: queryParam\r\n                        }); // zubaer added this\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.form-container {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n}\r\n\r\n.form-field {\r\n    margin-right: 1rem; /* Adjust margin as needed */\r\n}\r\n\r\n.label {\r\n    margin-bottom: 0.5rem; /* Adjust margin as needed */\r\n    display: block;\r\n}\r\n</style>\r\n","import { render } from \"./third-party-kpi.vue?vue&type=template&id=2b173563&scoped=true\"\nimport script from \"./third-party-kpi.vue?vue&type=script&lang=js\"\nexport * from \"./third-party-kpi.vue?vue&type=script&lang=js\"\n\nimport \"./third-party-kpi.vue?vue&type=style&index=0&id=2b173563&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b173563\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n"],"sourceRoot":""}