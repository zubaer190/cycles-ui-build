(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58ae2449"],{"0cb2":function(e,r,t){var n=t("7b0b"),a=Math.floor,o="".replace,i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,r,t,s,c,u){var d=t+e.length,p=s.length,m=l;return void 0!==c&&(c=n(c),m=i),o.call(u,m,(function(n,o){var i;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,t);case"'":return r.slice(d);case"<":i=c[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>p){var u=a(l/10);return 0===u?n:u<=p?void 0===s[u-1]?o.charAt(1):s[u-1]+o.charAt(1):n}i=s[l-1]}return void 0===i?"":i}))}},"1f47":function(e,r,t){"use strict";t("b0c0"),t("ac1f"),t("5319"),t("caad");var n=t("7a23"),a={class:"p-fluid"},o=Object(n["k"])("label",null,"Username",-1),i={class:"p-field p-mt-2"},l=Object(n["k"])("label",null,"Name",-1),s={key:0,class:"p-field p-error"},c={class:"p-field p-mt-2"},u=Object(n["k"])("label",null,"Email",-1),d={key:1,class:"p-field p-error"},p={key:2,class:"p-field p-error"},m={class:"p-field p-mt-2"},b=Object(n["k"])("label",null,"Phone",-1),v={key:3,class:"p-field p-mt-2"},f=Object(n["k"])("label",null,"Password",-1),O={key:4,class:"p-field p-error"},j={key:5,class:"p-field p-mt-2"},g=Object(n["k"])("label",null,"Password Confirm",-1),h={key:6,class:"p-field p-error"},$={key:7,class:"p-field p-error"},k={class:"p-field p-mt-2"},y=Object(n["k"])("label",{class:"p-mr-2"},"Multi Login",-1),w={class:"p-field p-mt-2"},V=Object(n["k"])("label",{class:"p-mr-2"},"Group",-1),N={key:8,class:"p-field p-error"},C={class:"p-field p-mt-2"},P=Object(n["k"])("label",{class:"p-mr-2"},"Provider No",-1),S={style:{display:"flex",gap:"10px",width:"100%","margin-bottom":"8px"}};function x(e,r,t,x,q,U){var E=Object(n["J"])("p-button"),B=Object(n["J"])("p-input-text"),I=Object(n["J"])("p-password"),R=Object(n["J"])("p-dropdown"),T=Object(n["J"])("p-multi-select"),M=Object(n["J"])("p-auto-complete");return Object(n["B"])(),Object(n["g"])(n["a"],null,[Object(n["k"])("div",null,[Object(n["k"])(E,{label:"Back",class:"p-button-sm",style:{"margin-bottom":"15px"},onClick:x.goToMaintananceUsers},null,8,["onClick"])]),Object(n["k"])("div",a,[Object(n["k"])("div",{class:["p-field p-mt-2",{"p-invalid":x.submitted&&x.v$.username.$invalid}]},[o,Object(n["k"])(B,{modelValue:x.form.username,"onUpdate:modelValue":r[1]||(r[1]=function(e){return x.form.username=e}),class:{"p-invalid":x.submitted&&x.v$.username.$invalid}},null,8,["modelValue","class"])],2),Object(n["k"])("div",i,[l,Object(n["k"])(B,{modelValue:x.form.name,"onUpdate:modelValue":r[2]||(r[2]=function(e){return x.form.name=e}),class:{"p-invalid":x.submitted&&x.v$.name.$invalid}},null,8,["modelValue","class"])]),x.v$.name.$invalid&&x.submitted||x.v$.name.$pending.$response?(Object(n["B"])(),Object(n["g"])("div",s,Object(n["N"])(x.v$.name.required.$message.replace("Value","Name")),1)):Object(n["h"])("",!0),Object(n["k"])("div",c,[u,Object(n["k"])(B,{modelValue:x.form.email,"onUpdate:modelValue":r[3]||(r[3]=function(e){return x.form.email=e}),class:{"p-invalid":x.submitted&&x.v$.email.$invalid}},null,8,["modelValue","class"])]),x.v$.email.$invalid&&x.submitted||x.v$.email.$pending.$response?(Object(n["B"])(),Object(n["g"])("div",d," Email required or not valid email ")):Object(n["h"])("",!0),x.v$.username.$invalid&&x.submitted||x.v$.username.$pending.$response?(Object(n["B"])(),Object(n["g"])("div",p,Object(n["N"])(x.v$.username.required.$message.replace("Value","Username")),1)):Object(n["h"])("",!0),Object(n["k"])("div",m,[b,Object(n["k"])(B,{modelValue:x.form.phone,"onUpdate:modelValue":r[4]||(r[4]=function(e){return x.form.phone=e})},null,8,["modelValue"])]),x.isCreateForm?(Object(n["B"])(),Object(n["g"])("div",v,[f,Object(n["k"])(I,{modelValue:x.form.password,"onUpdate:modelValue":r[5]||(r[5]=function(e){return x.form.password=e}),feedback:!1,class:{"p-invalid":x.submitted&&x.v$.password.$invalid}},null,8,["modelValue","class"])])):Object(n["h"])("",!0),x.v$.password.$invalid&&x.submitted||x.v$.password.$pending.$response?(Object(n["B"])(),Object(n["g"])("div",O,Object(n["N"])(x.v$.password.required.$message.replace("Value","Password")),1)):Object(n["h"])("",!0),x.isCreateForm?(Object(n["B"])(),Object(n["g"])("div",j,[g,Object(n["k"])(I,{modelValue:x.form.passwordConfirm,"onUpdate:modelValue":r[6]||(r[6]=function(e){return x.form.passwordConfirm=e}),feedback:!1,class:{"p-invalid":x.submitted&&(x.v$.passwordConfirm.$invalid||x.passwordDidnotMatch)}},null,8,["modelValue","class"])])):Object(n["h"])("",!0),x.v$.passwordConfirm.$invalid&&x.submitted||x.v$.passwordConfirm.$pending.$response?(Object(n["B"])(),Object(n["g"])("div",h,Object(n["N"])(x.v$.passwordConfirm.required.$message.replace("Value","Password")),1)):Object(n["h"])("",!0),x.passwordDidnotMatch&&x.submitted?(Object(n["B"])(),Object(n["g"])("div",$," Password didn't match ")):Object(n["h"])("",!0),Object(n["k"])("div",k,[y,Object(n["k"])(R,{modelValue:x.form.role,"onUpdate:modelValue":r[7]||(r[7]=function(e){return x.form.role=e}),optionLabel:"label",optionValue:"value",options:x.userRoleOptions},null,8,["modelValue","options"])]),Object(n["k"])("div",w,[V,Object(n["k"])(T,{modelValue:x.form.security,"onUpdate:modelValue":r[8]||(r[8]=function(e){return x.form.security=e}),optionLabel:"groupName",optionValue:"gId",options:x.groupOptions},null,8,["modelValue","options"])]),x.v$.security.$invalid&&x.submitted||x.v$.security.$pending.$response?(Object(n["B"])(),Object(n["g"])("div",N," Security group required ")):Object(n["h"])("",!0),Object(n["k"])("div",C,[P,Object(n["k"])("div",S,[Object(n["k"])(B,{modelValue:x.form.providerNo,"onUpdate:modelValue":r[9]||(r[9]=function(e){return x.form.providerNo=e}),style:{width:"40%"},readonly:""},null,8,["modelValue"]),x.user&&["admin","YoustinaB"].includes(x.user.username)?(Object(n["B"])(),Object(n["g"])(M,{key:0,modelValue:x.selectedProvider,"onUpdate:modelValue":r[10]||(r[10]=function(e){return x.selectedProvider=e}),suggestions:x.filteredProviders,onComplete:x.searchProvider,onItemSelect:x.onProviderSelect,field:"label",placeholder:"Type to search",style:{width:"60%"}},null,8,["modelValue","suggestions","onComplete","onItemSelect"])):Object(n["h"])("",!0)]),Object(n["k"])("label",null,"Oscar Name: "+Object(n["N"])(x.form.providerName),1)])]),Object(n["k"])(E,{label:x.buttonLabel,class:"p-mt-2",onClick:x.onSave,loading:x.loading},null,8,["label","onClick","loading"])],64)}var q=t("1da1"),U=t("5530"),E=(t("96cf"),t("498a"),t("d81d"),t("7db0"),t("23ac")),B=t("8afd"),I=t("db49"),R=t("6c02"),T=t("c215"),M={props:{type:{type:String,required:!0}},emits:["onSave"],setup:function(e,r){var t=Object(E["b"])(e.type),n=t.store,a=t.form,o=t.v$,i=t.submitted,l=t.buttonLabel,s=t.userRoleOptions,c=t.stationOptions,u=t.passwordDidnotMatch,d=t.groupOptions,p=Object(R["d"])(),m=Object(B["a"])((function(){return n.state.user})),b=Object(B["g"])(),v=Object(B["g"])([]),f=Object(B["g"])(),O=Object(B["g"])(!1),j=function(){location.value=!0,i.value=!0,r.emit("onSave",!o.value.$invalid&&a.password===a.passwordConfirm,Object(U["a"])({},a))},g=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(r){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T["a"].get("/providers/search",{params:{term:r.query.trim(),limit:20}});case 3:t=e.sent,v.value=t.data.map((function(e){return{label:e.providerName,providerNo:e.providerNo,providerName:e.providerName}})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error fetching providers:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),h=function(e){var r=e.value;a.providerNo=r.providerNo,a.providerName=r.providerName},$=Object(R["c"])();return Object(B["c"])((function(){if(e.type===I["e"].EDIT){var r=n.state.users.users.find((function(e){return e.id==$.params.id}));a.name=r.name,a.email=r.email,a.username=r.username,a.phone=r.phone,a.role=r.privilage,a.security=r.security,a.station=r.station,a.providerNo=r.providerNo,a.providerName=r.providerName}n.dispatch("users/getUserGroups")})),{user:m,form:a,v$:o,submitted:i,buttonLabel:l,onSave:j,userRoleOptions:s,stationOptions:c,passwordDidnotMatch:u,groupOptions:d,isCreateForm:Object(B["a"])((function(){return e.type===I["e"].CREATE})),loading:O,providerNo:b,filteredProviders:v,selectedProvider:f,searchProvider:g,onProviderSelect:h,goToMaintananceUsers:function(){p.push({path:"/maintanance/users"})}}}},A=t("6b0d"),J=t.n(A);const D=J()(M,[["render",x]]);r["a"]=D},"23ac":function(e,r,t){"use strict";t.d(r,"b",(function(){return c})),t.d(r,"a",(function(){return u}));t("c740");var n=t("7a23"),a=t("e3e1"),o=t("25a0"),i=t("db49"),l=t("5502"),s=t("6c02");function c(e){var r=Object(l["b"])(),t=Object(n["e"])((function(){return e===i["e"].CREATE||e===i["e"].EDIT?"Save":void 0})),s=Object(n["F"])({name:null,email:null,username:null,phone:null,password:null,passwordConfirm:null,role:null,active:!0,security:[],station:null,providerNo:null,providerName:null}),c={name:{required:a["required"]},email:{required:a["required"],email:a["email"]},username:{required:a["required"]},password:{required:Object(a["requiredIf"])((function(){return e===i["e"].CREATE}))},passwordConfirm:{required:Object(a["requiredIf"])((function(){return e===i["e"].CREATE}))},security:{required:a["required"]}},u=Object(n["e"])((function(){return s.password!==s.passwordConfirm})),d=Object(o["a"])(c,s),p=Object(n["G"])(!1),m=[{label:"Yes",value:"2"},{label:"No",value:"1"}],b=[{label:"Embryology",value:"embryology"},{label:"Andrology",value:"andrology"},{label:"Phlebotomy",value:"Phlebotomy"},{label:"Reception",value:"reception"},{label:"Ultrasound",value:"ultrasound"},{label:"Admin",value:"admin"},{label:"Doctor",value:"doctor"},{label:"Nursing",value:"nursing"}],v=Object(n["e"])((function(){return r.state.users.groups}));return{store:r,form:s,v$:d,submitted:p,buttonLabel:t,userRoleOptions:m,stationOptions:b,passwordDidnotMatch:u,groupOptions:v}}function u(){var e=Object(l["b"])(),r=Object(s["c"])(),t=Object(n["e"])((function(){var t=e.state.user.permissions.findIndex((function(e){return"/".concat(e.appKey)===r.path}));return e.state.user.permissions[t]})),a=Object(n["e"])((function(){return t.value.updatePermission})),o=Object(n["e"])((function(){return t.value.updatePermission})),i=Object(n["e"])((function(){return t.value.deletePermission})),c=Object(n["e"])((function(){var r=e.state.user.permissions.findIndex((function(e){return"born-csv"===e.appKey}));return r>0&&e.state.user.permissions[r].readPermission}));return{hasUpdatePermission:a,hasCreatePermission:o,hasDeletePermission:i,hasBornCSVPermission:c}}},"498a":function(e,r,t){"use strict";var n=t("23e7"),a=t("58a8").trim,o=t("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},5319:function(e,r,t){"use strict";var n=t("d784"),a=t("d039"),o=t("825a"),i=t("50c4"),l=t("a691"),s=t("1d80"),c=t("8aa5"),u=t("0cb2"),d=t("14c3"),p=t("b622"),m=p("replace"),b=Math.max,v=Math.min,f=function(e){return void 0===e?e:String(e)},O=function(){return"$0"==="a".replace(/./,"$0")}(),j=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),g=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));n("replace",(function(e,r,t){var n=j?"$":"$0";return[function(e,t){var n=s(this),a=void 0==e?void 0:e[m];return void 0!==a?a.call(e,n,t):r.call(String(n),e,t)},function(e,a){if("string"===typeof a&&-1===a.indexOf(n)&&-1===a.indexOf("$<")){var s=t(r,this,e,a);if(s.done)return s.value}var p=o(this),m=String(e),O="function"===typeof a;O||(a=String(a));var j=p.global;if(j){var g=p.unicode;p.lastIndex=0}var h=[];while(1){var $=d(p,m);if(null===$)break;if(h.push($),!j)break;var k=String($[0]);""===k&&(p.lastIndex=c(m,i(p.lastIndex),g))}for(var y="",w=0,V=0;V<h.length;V++){$=h[V];for(var N=String($[0]),C=b(v(l($.index),m.length),0),P=[],S=1;S<$.length;S++)P.push(f($[S]));var x=$.groups;if(O){var q=[N].concat(P,C,m);void 0!==x&&q.push(x);var U=String(a.apply(void 0,q))}else U=u(N,m,C,P,x,a);C>=w&&(y+=m.slice(w,C)+U,w=C+N.length)}return y+m.slice(w)}]}),!g||!O||j)},c8d2:function(e,r,t){var n=t("d039"),a=t("5899"),o="​᠎";e.exports=function(e){return n((function(){return!!a[e]()||o[e]()!=o||a[e].name!==e}))}},f6dd:function(e,r,t){"use strict";t.r(r);var n=t("7a23"),a={class:"p-d-flex p-jc-center"};function o(e,r,t,o,i,l){var s=Object(n["J"])("user-form"),c=Object(n["J"])("p-card");return Object(n["B"])(),Object(n["g"])("div",a,[Object(n["k"])(c,{class:"p-col-4"},{content:Object(n["V"])((function(){return[Object(n["k"])(s,{type:o.formType,onOnSave:o.save},null,8,["type","onOnSave"])]})),_:1})])}var i=t("5530"),l=t("1f47"),s=t("db49"),c=t("5502"),u=t("18cb"),d=t("6c02"),p={components:{UserForm:l["a"]},setup:function(){var e=Object(c["b"])(),r=Object(u["b"])(),t=Object(d["d"])(),n=function(n,a){n&&e.dispatch("users/createUser",Object(i["a"])(Object(i["a"])({},a),{},{privilage:a.role})).then((function(){r.add({severity:"success",summary:"Success",detail:"Create Successfull",life:3e3}),t.push({path:"/maintanance/users"})}))};return{save:n,formType:s["e"].CREATE}}},m=t("6b0d"),b=t.n(m);const v=b()(p,[["render",o]]);r["default"]=v}}]);
//# sourceMappingURL=chunk-58ae2449.fccde9c5.js.map