{"version":3,"sources":["webpack:///./node_modules/vue-demi/lib/index.mjs","webpack:///./src/views/third-party-kpi.vue","webpack:///./src/views/third-party-kpi.vue?ca33","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/third-party-kpi.vue?2947"],"names":["class","for","style","donatedTo","options","thirdPartyOpts","optionLabel","optionValue","showIcon","fromDate","dateFormat","toDate","label","fetchThirdPartyData","value","thirdPartyData","responsiveLayout","showGridlines","dataKey","selection","selectedRow","selectionMode","onRowSelect","footer","openPdfReportStandard","headerStyle","header","selectAllCheckbox","binary","selectAllOnChange","body","data","checkList","name","dId","donarId","icon","field","donatedToId","setup","router","donatedToOpts","console","log","donationTypes","join","fromDateF","format","toDateF","get","response","list","error","event","map","item","id","url","window","open","redirectToPatient","queryParam","isDonor","patientId","to","cycleId","push","query","__exports__","render","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","this","undefined"],"mappings":"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","file":"js/chunk-c7b73e80.b50e6522.js","sourcesContent":["import * as Vue from 'vue'\n\nvar isVue2 = false\nvar isVue3 = true\nvar Vue2 = undefined\n\nfunction install() {}\n\nexport function set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key)\n    target.splice(key, 1, val)\n    return val\n  }\n  target[key] = val\n  return val\n}\n\nexport function del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1)\n    return\n  }\n  delete target[key]\n}\n\nexport * from 'vue'\nexport {\n  Vue,\n  Vue2,\n  isVue2,\n  isVue3,\n  install,\n}\n","<template>\r\n    <div class=\"form-container\">\r\n        <div class=\"form-field p-mt-2\">\r\n            <label for=\"cycle-type\" class=\"label\">\r\n                Third Party Option\r\n            </label>\r\n            <p-multi-select\r\n                v-model=\"donatedTo\"\r\n                :options=\"thirdPartyOpts\"\r\n                optionLabel=\"label\"\r\n                optionValue=\"value\"\r\n            />\r\n        </div>\r\n\r\n        <div class=\"form-field p-mt-2\">\r\n            <label class=\"label\">From Date</label>\r\n            <p-calendar\r\n                :showIcon=\"true\"\r\n                v-model=\"fromDate\"\r\n                dateFormat=\"yy-mm-dd\"\r\n                :class=\"{\r\n                    'p-invalid': submitted2 && v2$.date.$invalid\r\n                }\"\r\n            />\r\n        </div>\r\n\r\n        <div class=\"form-field p-mt-2\">\r\n            <label class=\"label\">To Date</label>\r\n            <p-calendar\r\n                :showIcon=\"true\"\r\n                v-model=\"toDate\"\r\n                dateFormat=\"yy-mm-dd\"\r\n                :class=\"{\r\n                    'p-invalid': submitted2 && v2$.date.$invalid\r\n                }\"\r\n            />\r\n        </div>\r\n\r\n        <div class=\"form-field p-mt-2\">\r\n            <label class=\"label\">&nbsp;</label>\r\n            <p-button label=\"Get Report\" @click=\"fetchThirdPartyData\" />\r\n        </div>\r\n    </div>\r\n\r\n    <p-data-table\r\n        :value=\"thirdPartyData\"\r\n        responsiveLayout=\"scroll\"\r\n        showGridlines\r\n        class=\"p-datatable-sm p-mt-1 p-shadow-1\"\r\n        dataKey=\"dId\"\r\n        v-model:selection=\"selectedRow\"\r\n        selectionMode=\"single\"\r\n        @row-select=\"onRowSelect\"\r\n    >\r\n        <p-column\r\n            headerStyle=\"width: 3em; max-width: 3rem\"\r\n            style=\"width: 3em; max-width: 3rem\"\r\n        >\r\n            <template #header>\r\n                <p-checkbox\r\n                    v-model=\"selectAllCheckbox\"\r\n                    :binary=\"true\"\r\n                    @change=\"selectAllOnChange\"\r\n                />\r\n            </template>\r\n            <template #body=\"{ data }\">\r\n                <p-checkbox\r\n                    v-model=\"checkList\"\r\n                    :name=\"data.dId\"\r\n                    :value=\"data.dId\"\r\n                />\r\n            </template>\r\n        </p-column>\r\n\r\n        <p-column header=\"Donar ID\">\r\n            <template #body=\"{ data }\">\r\n                <div\r\n                    style=\"display: flex; align-items: center; justify-content: center;\"\r\n                >\r\n                    <span>{{ data.donarId }}</span>\r\n                    <p-button\r\n                        icon=\"pi pi-arrow-right\"\r\n                        class=\"p-button-sm p-button-outlined\"\r\n                        style=\"margin-left: 5px;\"\r\n                    >\r\n                    </p-button>\r\n                </div>\r\n            </template>\r\n        </p-column>\r\n        <p-column field=\"donarName\" header=\"Donar Name\" />\r\n        <p-column field=\"donarDOB\" header=\"Donar DOB\" />\r\n        <p-column field=\"donorPatientDoctor\" header=\"Donar Patient Doctor\" />\r\n        <p-column field=\"cycleId\" header=\"Cycle ID\" />\r\n        <p-column header=\"Recepient ID\">\r\n            <template #body=\"{ data }\">\r\n                <div\r\n                    style=\"display: flex; align-items: center; justify-content: center;\"\r\n                >\r\n                    <span>{{ data.donatedToId }}</span>\r\n                    <p-button\r\n                        icon=\"pi pi-arrow-right\"\r\n                        class=\"p-button-sm p-button-outlined\"\r\n                        style=\"margin-left: 5px;\"\r\n                    >\r\n                    </p-button>\r\n                </div>\r\n            </template>\r\n        </p-column>\r\n        <p-column field=\"donatedtoName\" header=\"Recepient Name\" />\r\n        <p-column field=\"donatedtoDOB\" header=\"Recepient DOB\" />\r\n        <p-column\r\n            field=\"donatedtoPatientDoctor\"\r\n            header=\"Recepient Patient Doctor\"\r\n        />\r\n        <p-column field=\"dDate\" header=\"Date\" />\r\n        <p-column field=\"number\" header=\"Number\" />\r\n        <p-column field=\"donationType\" header=\"Donation Type\" />\r\n\r\n        <template #footer>\r\n            <p-button\r\n                label=\"PDF Reports\"\r\n                class=\"p-mr-2 p-button-secondary\"\r\n                @click=\"openPdfReportStandard\"\r\n            />\r\n        </template>\r\n    </p-data-table>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue-demi\";\r\nimport { $axios } from \"@/service/app-http\";\r\nimport Service from \"@/service/art-cycle.js\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { useToast } from \"primevue/usetoast\";\r\nimport { onMounted } from \"vue\";\r\nimport format from \"date-fns/format\";\r\nimport { DATE_FORMAT_STRING } from \"@/config\";\r\nimport { NL_FORM_BASE } from \"@/constants\";\r\n\r\nexport default {\r\n    setup() {\r\n        const store = useStore();\r\n        const toast = useToast();\r\n        const router = useRouter();\r\n        const selectAllCheckbox = ref(false);\r\n        const donatedTo = ref(null);\r\n        const donatedToOpts = ref([]);\r\n        const thirdPartyData = ref([]);\r\n        const fromDate = ref(null);\r\n        const toDate = ref(null);\r\n\r\n        const fetchThirdPartyData = async () => {\r\n            try {\r\n                console.log(donatedTo.value);\r\n\r\n                const donationTypes = donatedTo.value.join(\",\");\r\n                const fromDateF = fromDate.value\r\n                    ? format(fromDate.value, DATE_FORMAT_STRING)\r\n                    : null;\r\n\r\n                const toDateF = toDate.value\r\n                    ? format(toDate.value, DATE_FORMAT_STRING)\r\n                    : null;\r\n\r\n                const response = await $axios.get(\r\n                    `third-party/list-param?donationTypes=${donationTypes}&fromDate=${fromDateF}&toDate=${toDateF}`\r\n                );\r\n                thirdPartyData.value = response.data.list;\r\n            } catch (error) {\r\n                console.error(\"Error fetching third-party data:\", error);\r\n            }\r\n        };\r\n\r\n        const selectedRow = ref(null);\r\n        const checkList = ref([]);\r\n\r\n        const findIndexById = (id) => {\r\n            return thirdPartyData.value.findIndex((item) => item.id === id);\r\n        };\r\n\r\n        const onRowSelect = (event) => {\r\n            selectedRow.value = { ...event.data };\r\n        };\r\n\r\n        const selectAllOnChange = () => {\r\n            if (selectAllCheckbox.value) {\r\n                checkList.value = thirdPartyData.value.map((item) => item.id);\r\n            } else {\r\n                checkList.value = [];\r\n            }\r\n        };\r\n\r\n        const thirdPartyOpts = [\r\n            { label: \"Egg Donor\", value: \"Egg Donor\" },\r\n            { label: \"Embyro Donor\", value: \"Embryo Donor\" },\r\n            { label: \"Sperm Donor\", value: \"Sperm Donor\" },\r\n            { label: \"Gestational Carrier\", value: \"Gestational Carrier\" }\r\n        ];\r\n\r\n        const openPdfReportStandard = () => {\r\n            const donationTypes = donatedTo.value.join(\",\");\r\n            const fromDateF = fromDate.value\r\n                ? format(fromDate.value, DATE_FORMAT_STRING)\r\n                : null;\r\n\r\n            const toDateF = toDate.value\r\n                ? format(toDate.value, DATE_FORMAT_STRING)\r\n                : null;\r\n            let url =\r\n                `${NL_FORM_BASE}/cycles-reports/third-party-kpi-print.php` +\r\n                `?donationTypes=${donationTypes}&fromDate=${fromDateF}&toDate=${toDateF}`;\r\n            // +  `&apiToken=${store.state.user.accessToken}`;\r\n            window.open(url, \"_blank\");\r\n        };\r\n        onMounted(() => {\r\n            // fetchThirdPartyData();\r\n        });\r\n        return {\r\n            selectAllCheckbox,\r\n            thirdPartyData,\r\n            selectedRow,\r\n            checkList,\r\n            onRowSelect,\r\n            openPdfReportStandard,\r\n            thirdPartyOpts,\r\n            selectAllOnChange,\r\n            donatedToOpts,\r\n            donatedTo,\r\n            fetchThirdPartyData,\r\n            fromDate,\r\n            toDate,\r\n            redirectToPatient: () => {\r\n                if (selectedRow.value) {\r\n                    let queryParam = null;\r\n                    if (\r\n                        selectedRow.value.isDonor === \"donor\" &&\r\n                        selectedRow.value.donatedToId\r\n                    ) {\r\n                        queryParam = {\r\n                            patientId: selectedRow.value.donatedToId,\r\n                            to: \"cycle-monitoring\"\r\n                        };\r\n                    } else if (selectedRow.value.donarId) {\r\n                        queryParam = {\r\n                            patientId: selectedRow.value.donarId,\r\n                            cycleId: selectedRow.value.cycleId,\r\n                            to: \"cycle-monitoring\"\r\n                        };\r\n                    }\r\n\r\n                    if (queryParam != null) {\r\n                        router.push({\r\n                            name: \"redirect\",\r\n                            query: queryParam\r\n                        }); // zubaer added this\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.form-container {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n}\r\n\r\n.form-field {\r\n    margin-right: 1rem; /* Adjust margin as needed */\r\n}\r\n\r\n.label {\r\n    margin-bottom: 0.5rem; /* Adjust margin as needed */\r\n    display: block;\r\n}\r\n</style>\r\n","import { render } from \"./third-party-kpi.vue?vue&type=template&id=889198a2&scoped=true\"\nimport script from \"./third-party-kpi.vue?vue&type=script&lang=js\"\nexport * from \"./third-party-kpi.vue?vue&type=script&lang=js\"\n\nimport \"./third-party-kpi.vue?vue&type=style&index=0&id=889198a2&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-889198a2\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./third-party-kpi.vue?vue&type=style&index=0&id=889198a2&scoped=true&lang=css\""],"sourceRoot":""}