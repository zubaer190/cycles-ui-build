(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ab8a5fa"],{"3b5f":function(e,t,a){"use strict";a("d4b1")},6062:function(e,t,a){"use strict";var n=a("6d61"),l=a("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),l)},d4b1:function(e,t,a){},e907:function(e,t,a){"use strict";a.r(t);a("fb6a"),a("caad");var n=a("7a23"),l=Object(n["Z"])("data-v-64e6a07a");Object(n["E"])("data-v-64e6a07a");var c={class:"page-container"},r={class:"header"},i={class:"p-mx-2 p-mb-3",style:{display:"flex","justify-content":"space-between"}},o={style:{display:"flex"}},s={class:"p-field p-grid"},d=Object(n["k"])("label",{for:"date",class:"p-col-fixed"},"Date",-1),u={key:0,style:{display:"flex","flex-direction":"column","margin-left":"10px"}},b={style:{"font-weight":"bold","margin-bottom":"2px"}},p={style:{"font-weight":"bold"}},v={style:{display:"flex"}},m={class:"p-field p-grid p-mr-4"},f=Object(n["k"])("label",{for:"nameFilter",class:"p-col-fixed"},"Filter by Name",-1),O={class:"p-field p-grid p-mr-4"},j=Object(n["k"])("label",{for:"fromDate",class:"p-col-fixed"},"From Date",-1),w={class:"p-field p-grid"},k=Object(n["k"])("label",{for:"toDate",class:"p-col-fixed"},"To Date",-1),h={class:"table-container"},y={class:"cell-content"},g={key:0,class:"static-text"},x={key:2,class:"cell-content2"},D={class:"static-text"},_={class:"static-text"};Object(n["C"])();var R=l((function(e,t,a,R,V,N){var C=Object(n["J"])("p-calendar"),I=Object(n["J"])("p-button"),S=Object(n["J"])("p-multi-select"),G=Object(n["J"])("p-input-text"),F=Object(n["J"])("p-column"),E=Object(n["J"])("p-data-table");return Object(n["B"])(),Object(n["g"])("div",c,[Object(n["k"])("div",r,[Object(n["k"])("div",i,[Object(n["k"])("div",o,[Object(n["k"])("div",s,[d,Object(n["k"])("div",null,[Object(n["k"])(C,{id:"date",modelValue:R.selectedDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return R.selectedDate=e}),dateFormat:"yy-mm-dd",showIcon:!0,class:"custom-calendar"},null,8,["modelValue"])])]),Object(n["k"])(I,{label:"Get Data",class:"p-ml-4",onClick:R.fetchData},null,8,["onClick"]),Object(n["k"])(I,{label:"Review",class:"p-ml-4",onClick:R.handleReview},null,8,["onClick"]),R.reviewData.reviewed_by&&R.reviewData.reviewed_at?(Object(n["B"])(),Object(n["g"])("div",u,[Object(n["k"])("span",b," Reviewed by: "+Object(n["N"])(R.reviewData.reviewed_by),1),Object(n["k"])("span",p," At: "+Object(n["N"])(R.reviewData.reviewed_at),1)])):Object(n["h"])("",!0)]),Object(n["k"])("div",v,[Object(n["k"])("div",m,[f,Object(n["k"])(S,{modelValue:R.selectedNames,"onUpdate:modelValue":t[2]||(t[2]=function(e){return R.selectedNames=e}),options:R.nameOptions,filter:!0,optionLabel:"label",optionValue:"value",placeholder:"Select Names",style:{width:"250px"}},null,8,["modelValue","options"])]),Object(n["k"])("div",O,[j,Object(n["k"])("div",null,[Object(n["k"])(C,{id:"fromDate",modelValue:R.fromDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return R.fromDate=e}),dateFormat:"yy-mm-dd",showIcon:!0,class:"custom-calendar"},null,8,["modelValue"])])]),Object(n["k"])("div",w,[k,Object(n["k"])("div",null,[Object(n["k"])(C,{id:"toDate",modelValue:R.toDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return R.toDate=e}),dateFormat:"yy-mm-dd",showIcon:!0,class:"custom-calendar"},null,8,["modelValue"])])]),Object(n["k"])(I,{label:"Export XLS",class:"p-ml-4",onClick:R.exportExcel},null,8,["onClick"])])])]),Object(n["k"])("div",h,[Object(n["k"])(E,{value:R.filteredLabMonForm,showGridlines:"",class:"p-datatable-sm p-mt-1 p-shadow-1",scrollable:!0,scrollDirection:"both",scrollHeight:"flex"},{default:l((function(){return[(Object(n["B"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(R.columns,(function(e,t){return Object(n["B"])(),Object(n["g"])(F,{key:t,field:e,header:R.head_titles[e]?R.head_titles[e]:e.charAt(0).toUpperCase()+e.slice(1),style:{width:"200px"}},{body:l((function(a){return[Object(n["k"])("div",y,[["name"].includes(e)?(Object(n["B"])(),Object(n["g"])("span",g,Object(n["N"])(a.data[e].val)+" "+Object(n["N"])(a.data[e].ref?"["+a.data[e].ref+"]":""),1)):(Object(n["B"])(),Object(n["g"])(G,{key:1,value:a.data[e].val,disabled:R.disableInput(t,a.data[R.columns[0]].disabled_fields),class:"custom-input-text",onChange:function(t){return R.updateValue(t,e,a.index)}},null,8,["value","disabled","onChange"])),["name"].includes(e)?Object(n["h"])("",!0):(Object(n["B"])(),Object(n["g"])("div",x,[Object(n["k"])("span",D,Object(n["N"])(a.data[e].time),1),Object(n["k"])("span",_,Object(n["N"])(a.data[e].initial),1)]))])]})),_:2},1032,["field","header"])})),128))]})),_:1},8,["value"])])])})),V=a("1da1"),N=(a("96cf"),a("ac1f"),a("1276"),a("2532"),a("d3b7"),a("25f0"),a("b64b"),a("b0c0"),a("99af"),a("d81d"),a("a630"),a("3ca3"),a("6062"),a("ddb0"),a("4de4"),a("c215")),C=a("db49"),I=(a("5fb0"),a("b166")),S=a("18cb"),G={setup:function(){var e=Object(S["b"])(),t=Object(n["G"])([]),a=Object(n["G"])((new Date).toISOString().split("T")[0]),l=Object(n["G"])((new Date).toISOString().split("T")[0]),c=Object(n["G"])((new Date).toISOString().split("T")[0]),r=Object(n["G"])([]),i=Object(n["G"])([]),o=Object(n["G"])({reviewed_by:"",reviewed_at:""}),s=function(){var t=Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=Object(I["a"])(new Date(a.value),"yyyy-MM-dd"),t.next=4,N["a"].post("lab-mon/audit",{date:n});case 4:b(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),403==t.t0.response.status&&e.add({severity:"error",summary:"Permission denied",detail:"You don't have permisssion to review",life:3e3});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),d=Object(n["G"])({co2:"Co2 (Ref: 6% - 7%)",temperature:"Temperature (Ref: 37+ - 0.5)",water_level:"Water Level (Ref: => 40%)",ln_level:"Ln Level",voc:"Voc Temperature",emb_temp:"Embryology Temperature",andro_temp:"Andrology Temperature",liquid_usagae:"Liquid Usage",ph:"PH (Ref: 7.22 - 7.38)"}),u=function(e,t){return null!==t&&t.split(",").includes(e.toString())},b=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){var n,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(I["a"])(new Date(a.value),C["c"]),e.next=4,N["a"].get("lab-mon/data-v2",{params:{date:n}});case 4:l=e.sent,l.data&&(t.value=l.data.data,l.data.audit?o.value={reviewed_by:l.data.audit.reviewed_by,reviewed_at:l.data.audit.reviewed_at}:o.value={reviewed_by:null,reviewed_at:null}),r.value=Object.keys(t.value[0]||{}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("Error fetching data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(t,n,l){var c,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(l>=0&&l<f.value.length)){e.next=11;break}return f.value[l][n].val=t.target.value,c=Object(I["a"])(new Date(a.value),C["c"]),e.next=5,N["a"].post("lab-mon/save",{name:f.value[l]["name"].val,value:f.value[l][n].val,colName:n,date:c});case 5:r=e.sent,i=r.data,f.value[l][n].time=i.time,f.value[l][n].initial=i.initial,e.next=12;break;case 11:console.error("Invalid rowIndex: ".concat(l));case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(I["a"])(new Date(l.value),C["c"]),a=Object(I["a"])(new Date(c.value),C["c"]),e.next=5,N["a"].get("lab-mon/export",{params:{fromDate:t,toDate:a,selectedNames:i.value}});case 5:n=e.sent,n.data&&n.data.filePath?(r="".concat(C["g"],"/").concat(n.data.filePath),window.open(r,"_blank")):console.error("Export link not found in response."),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("Error exporting data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),m=Object(n["e"])((function(){return Array.from(new Set(t.value.map((function(e){return e.name.val})))).map((function(e){return{label:e,value:e}}))})),f=Object(n["e"])((function(){return i.value.length>0?t.value.filter((function(e){return i.value.includes(e.name.val)})):t.value}));return Object(n["U"])(a,b),Object(n["z"])((function(){b()})),{labMonForm:t,disableInput:u,filteredLabMonForm:f,columns:r,head_titles:d,selectedDate:a,fromDate:l,toDate:c,fetchData:b,updateValue:p,exportExcel:v,selectedNames:i,nameOptions:m,reviewData:o,handleReview:s}}},F=(a("3b5f"),a("6b0d")),E=a.n(F);const J=E()(G,[["render",R],["__scopeId","data-v-64e6a07a"]]);t["default"]=J}}]);
//# sourceMappingURL=chunk-1ab8a5fa.a7607064.js.map