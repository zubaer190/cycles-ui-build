{"version":3,"sources":["webpack:///./src/views/maintanance/lab-tests.vue","webpack:///./src/views/maintanance/lab-tests.vue?72bc","webpack:///./src/views/maintanance/lab-tests.vue?00e8"],"names":["class","style","content","gender","options","gendersOpt","optionLabel","optionValue","value","filteredLabTestList","responsiveLayout","showGridlines","header","field","sortable","body","data","displayFullGender","src","getIconUrl","alt","icon","showEditLabTestDialog","label","autofocus","showAddLabTestDialog","visible","addLabTestDialog","modal","form","genders","name","description","uploaded","mode","customUpload","accept","auto","imgUploader","image","formIsEdit","updateInventory","saveInventory","setup","LabTestList","id","newImage","event","reader","FileReader","readAsDataURL","files","onload","result","onerror","error","console","log","getLabTestList","get","filter","item","payload","status","post","put","genderValue","genderMapping","male","female","any","ORIGIN","labTestId","__exports__","render"],"mappings":"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","file":"js/chunk-1b60b400.a4861ecd.js","sourcesContent":["<template>\n    <p-card style=\"width: 800px; margin: auto\">\n        <template #content>\n            <div class=\"p-d-flex p-jc-between p-mb-3\">\n                <strong style=\"font-size: 1.5rem\">Lab Tests</strong>\n                <p-dropdown\n                    v-model=\"gender\"\n                    :options=\"gendersOpt\"\n                    optionLabel=\"label\"\n                    optionValue=\"value\"\n                    style=\"width: 120px\"\n                />\n            </div>\n\n            <p-data-table\n                :value=\"filteredLabTestList\"\n                responsiveLayout=\"scroll\"\n                showGridlines\n                class=\"p-datatable-sm p-mb-1\"\n            >\n                <p-column header=\"Name\" field=\"name\" />\n                <p-column header=\"Description\" field=\"description\" />\n                <p-column header=\"Gender\" field=\"gender\" :sortable=\"true\">\n                    <template #body=\"{data}\">\n                        {{ displayFullGender(data.gender) }}\n                    </template>\n                </p-column>\n                <p-column style=\"width: 150px\" header=\"Image\">\n                    <template #body=\"{ data }\">\n                        <img\n                            :src=\"getIconUrl(data)\"\n                            alt=\"Image\"\n                            style=\"width: 50px; height: 50px\"\n                        />\n                    </template>\n                </p-column>\n                <p-column style=\"width: 50px\">\n                    <template #body=\"{data}\">\n                        <p-button\n                            icon=\"pi pi-pencil\"\n                            @click=\"showEditLabTestDialog(data)\"\n                        />\n                    </template>\n                </p-column>\n            </p-data-table>\n\n            <div class=\"p-d-flex p-jc-between p-mt-2\">\n                <p-button label=\"Add\" autofocus @click=\"showAddLabTestDialog\" />\n            </div>\n        </template>\n    </p-card>\n\n    <p-dialog\n        v-model:visible=\"addLabTestDialog\"\n        :modal=\"true\"\n        style=\"width: 600px\"\n    >\n        <template #header>\n            <div class=\"table-header\">\n                <strong>Add Medication</strong>\n            </div>\n        </template>\n\n        <div class=\"p-fluid\">\n            <div class=\"p-field\">\n                <label>Gender</label>\n                <p-dropdown\n                    v-model=\"form.gender\"\n                    :options=\"genders\"\n                    optionLabel=\"label\"\n                    optionValue=\"value\"\n                />\n            </div>\n            <div class=\"p-field\">\n                <label>Name</label>\n                <p-input-text v-model=\"form.name\" />\n            </div>\n            <div class=\"p-field\">\n                <label>Description</label>\n                <p-textarea v-model=\"form.description\" />\n            </div>\n            <div class=\"p-field p-grid\">\n                <label class=\"p-col\" style=\"width: 120px\">\n                    <div>\n                        Icon\n\n                        <p-file-upload\n                            v-if=\"uploaded\"\n                            name=\"demo[]\"\n                            mode=\"basic\"\n                            :customUpload=\"true\"\n                            accept=\"image/*\"\n                            :auto=\"true\"\n                            @uploader=\"imgUploader\"\n                        ></p-file-upload>\n                    </div>\n                </label>\n                <div class=\"p-col-fixed\" style=\"width: 200px\">\n                    <img\n                        :src=\"image\"\n                        alt=\"image\"\n                        style=\"width: 150px; height: 150px\"\n                    />\n                </div>\n            </div>\n        </div>\n\n        <div class=\"p-d-flex p-jc-between p-mt-2\">\n            <p-button\n                label=\"Update\"\n                autofocus\n                @click=\"updateInventory\"\n                v-if=\"formIsEdit\"\n            />\n            <p-button label=\"Save\" autofocus @click=\"saveInventory\" v-else />\n        </div>\n    </p-dialog>\n</template>\n\n<script>\nimport { computed, inject, onMounted, reactive, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { $axios } from \"@/service/app-http\";\nimport { ORIGIN } from \"./../../config\";\n\nexport default {\n    setup() {\n        const store = useStore();\n\n        const addLabTestDialog = ref(false);\n        const LabTestList = ref([]);\n\n        const form = reactive({\n            id: null,\n            gender: null,\n            name: null,\n            description: null,\n            icon: null,\n            newImage: null\n        });\n\n        const image = ref(\"https://via.placeholder.com/300\");\n        const uploaded = ref(true);\n        const imgUploader = (event) => {\n            uploaded.value = false;\n            const reader = new FileReader();\n            reader.readAsDataURL(event.files[0]);\n            reader.onload = () => {\n                form.newImage = reader.result;\n                image.value = reader.result;\n                uploaded.value = true;\n            };\n            reader.onerror = (error) => console.log(error);\n        };\n\n        const getIconUrl = (data) => {\n            if (data.icon) {\n                return `${ORIGIN}/${data.icon}`;\n            } else {\n                return \"https://via.placeholder.com/300\";\n            }\n        };\n\n        const gender = ref(\"\");\n        const genders = ref([\n            { value: \"male\", label: \"Male\" },\n            { value: \"female\", label: \"Female\" },\n            { value: \"any\", label: \"Any\" }\n        ]);\n\n        const gendersOpt = ref([\n            { value: \"\", label: \"All\" },\n            { value: \"male\", label: \"Male\" },\n            { value: \"female\", label: \"Female\" },\n            { value: \"any\", label: \"Any\" }\n        ]);\n\n        const formIsEdit = ref(false);\n\n        const getLabTestList = async () => {\n            try {\n                const { data } = await $axios.get(\"lab-tests/list\");\n                LabTestList.value = data;\n            } catch (e) {\n                console.log(e);\n            }\n        };\n\n        const filteredLabTestList = computed(() => {\n            if (gender.value == \"\") {\n                return LabTestList.value;\n            }\n\n            return LabTestList.value.filter(\n                (item) => item.gender === gender.value\n            );\n        });\n\n        const saveInventory = async () => {\n            const payload = { ...form, status: \"A\" };\n\n            if (form.image) {\n                payload.newImage = form.image;\n            }\n\n            const { data } = await $axios.post(\"lab-tests/create\", payload);\n            addLabTestDialog.value = false;\n            getLabTestList();\n        };\n\n        const updateInventory = async () => {\n            const payload = { ...form, status: \"A\" };\n\n            if (form.image) {\n                payload.newImage = form.image;\n            }\n\n            const { data } = await $axios.put(\n                `lab-tests/update/${payload.id}`,\n                payload\n            );\n            addLabTestDialog.value = false;\n            getLabTestList();\n        };\n\n        // const getGender = () => {\n\n        // }\n\n        const displayFullGender = (genderValue) => {\n            const genderMapping = {\n                male: \"Male\",\n                female: \"Female\",\n                any: \"Any\"\n            };\n            return genderMapping[genderValue] || genderValue;\n        };\n\n        onMounted(() => {\n            getLabTestList();\n        });\n\n        return {\n            form,\n            formIsEdit,\n            image,\n            uploaded,\n            imgUploader,\n            saveInventory,\n            updateInventory,\n            addLabTestDialog,\n            LabTestList,\n            gender,\n            genders,\n            ORIGIN,\n            getIconUrl,\n            filteredLabTestList,\n            gendersOpt,\n            displayFullGender,\n            showAddLabTestDialog: () => {\n                formIsEdit.value = false;\n\n                form.id = null;\n                form.gender = null;\n                form.name = null;\n                form.description = null;\n                form.icon = null;\n                form.newImage = null;\n\n                if (form.icon == null) {\n                    image.value = \"https://via.placeholder.com/300\";\n                } else {\n                    image.value = `${ORIGIN}/${form.icon}`;\n                }\n\n                addLabTestDialog.value = true;\n            },\n            showEditLabTestDialog: (data) => {\n                formIsEdit.value = true;\n\n                form.id = data.labTestId;\n                form.gender = data.gender;\n                form.name = data.name;\n                form.description = data.description;\n\n                form.icon = data.icon;\n                form.newImage = null;\n\n                if (form.icon == null) {\n                    image.value = \"https://via.placeholder.com/300\";\n                } else {\n                    image.value = `${ORIGIN}/${form.icon}`;\n                }\n\n                addLabTestDialog.value = true;\n            }\n        };\n    }\n};\n</script>\n\n<style scoped>\n.table-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n</style>\n","import { render } from \"./lab-tests.vue?vue&type=template&id=900991a2&scoped=true\"\nimport script from \"./lab-tests.vue?vue&type=script&lang=js\"\nexport * from \"./lab-tests.vue?vue&type=script&lang=js\"\n\nimport \"./lab-tests.vue?vue&type=style&index=0&id=900991a2&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-900991a2\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./lab-tests.vue?vue&type=style&index=0&id=900991a2&scoped=true&lang=css\""],"sourceRoot":""}