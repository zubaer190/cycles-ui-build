{"version":3,"sources":["webpack:///./src/views/maintanance/inventory.vue","webpack:///./src/views/maintanance/inventory.vue?23cd","webpack:///./node_modules/core-js/modules/es.set.js","webpack:///./src/views/maintanance/inventory.vue?576f"],"names":["class","style","content","category","options","categoryOpts","value","inventoryList","responsiveLayout","showGridlines","header","field","sortable","body","data","icon","showEditMedicationInventoryDialog","deleteMedicationInventory","label","autofocus","showAddMedicationInventoryDialog","visible","addMedicationInventoryDialog","modal","form","code","name","description","formIsEdit","edit","save","setup","store","toast","state","cycleMonitoring","filter","item","categories","Set","map","id","dispatch","then","add","severity","summary","detail","life","catch","length","__exports__","render","collection","collectionStrong","module","exports","init","this","arguments","undefined"],"mappings":"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","file":"js/chunk-ede7675c.90b572da.js","sourcesContent":["<template>\r\n    <p-card style=\"width: 800px; margin: auto\">\r\n        <template #content>\r\n            <div class=\"p-d-flex p-jc-between p-mb-3\">\r\n                <strong style=\"font-size: 1.5rem\">Medication Inventory</strong>\r\n                <p-dropdown v-model=\"category\" :options=\"categoryOpts\" style=\"width: 120px\" />\r\n            </div>\r\n\r\n            <p-data-table\r\n                :value=\"inventoryList\"\r\n                responsiveLayout=\"scroll\"\r\n                showGridlines\r\n                class=\"p-datatable-sm p-mb-1\"\r\n            >\r\n                <p-column header=\"Name\" field=\"name\" />\r\n                <p-column header=\"Description\" field=\"description\" />\r\n                <p-column header=\"Category\" field=\"code\" :sortable=\"true\" />\r\n                <p-column style=\"width: 50px\">\r\n                    <template #body=\"{data}\">\r\n                        <div style=\"display: flex; justify-content: space-between; width: 100%; gap: 5px;\">\r\n                            <p-button\r\n                                icon=\"pi pi-pencil\"\r\n                                @click=\"showEditMedicationInventoryDialog(data)\"\r\n                            />\r\n                            <p-button\r\n                                icon=\"pi pi-trash\"\r\n                                class=\"p-button-danger\"\r\n                                @click=\"deleteMedicationInventory(data)\"\r\n                            />\r\n                        </div>\r\n                    </template>\r\n                </p-column>\r\n            </p-data-table>\r\n\r\n            <div class=\"p-d-flex p-jc-between p-mt-2\">\r\n                <p-button\r\n                    label=\"Add\"\r\n                    autofocus\r\n                    @click=\"showAddMedicationInventoryDialog\"\r\n                />\r\n            </div>\r\n        </template>\r\n    </p-card>\r\n\r\n    <p-dialog\r\n        v-model:visible=\"addMedicationInventoryDialog\"\r\n        :modal=\"true\"\r\n        style=\"width: 600px\"\r\n    >\r\n        <template #header>\r\n            <div class=\"table-header\">\r\n                <strong>Add Medication</strong>\r\n            </div>\r\n        </template>\r\n\r\n        <div class=\"p-fluid\">\r\n            <div class=\"p-field\">\r\n                <label>Category</label>\r\n                <p-dropdown v-model=\"form.code\" :options=\"categoryOpts\" />\r\n            </div>\r\n            <div class=\"p-field\">\r\n                <label>Name</label>\r\n                <p-input-text v-model=\"form.name\" />\r\n            </div>\r\n            <div class=\"p-field\">\r\n                <label>Description</label>\r\n                <p-textarea v-model=\"form.description\" />\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"p-d-flex p-jc-between p-mt-2\">\r\n            <p-button\r\n                label=\"Update\"\r\n                autofocus\r\n                @click=\"edit\"\r\n                v-if=\"formIsEdit\"\r\n            />\r\n            <p-button label=\"Save\" autofocus @click=\"save\" v-else />\r\n        </div>\r\n    </p-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { computed, inject, onMounted, reactive, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useToast } from \"primevue/usetoast\";\r\nexport default {\r\n    setup() {\r\n        const store = useStore();\r\n        const toast = useToast();\r\n\r\n        const addMedicationInventoryDialog = ref(false);\r\n        const inventoryList = computed(() =>\r\n            store.state.cycleMonitoring.inventoryList.filter(\r\n                (item) => item.code === category.value\r\n            )\r\n        );\r\n\r\n        const category = ref(\"OPU\");\r\n        const categories = computed(() => [\r\n            ...new Set(\r\n                store.state.cycleMonitoring.inventoryList.map(\r\n                    (item) => item.code\r\n                )\r\n            )\r\n        ]);\r\n\r\n        const categoryOpts = reactive([\"Stimulation\", \"Luteal\", \"OPU\", /*\"Lab Mon\",*/ \"Trigger\"]);\r\n\r\n        const form = reactive({\r\n            id: null,\r\n            code: null,\r\n            name: null,\r\n            description: null\r\n        });\r\n\r\n        const formIsEdit = ref(false);\r\n\r\n        const save = () => {\r\n            store\r\n                .dispatch(\"cycleMonitoring/saveInvetory\", { ...form })\r\n                .then(() => (addMedicationInventoryDialog.value = false));\r\n        };\r\n\r\n        const edit = (data) => {\r\n            store\r\n                .dispatch(\"cycleMonitoring/updateInvetory\", { ...form })\r\n                .then(() => (addMedicationInventoryDialog.value = false));\r\n        };\r\n\r\n        const deleteMedicationInventory = (data) => {\r\n            store\r\n                .dispatch(\"cycleMonitoring/deleteInventory\", { id: data.id })\r\n                .then(() => {\r\n                    toast.add({\r\n                        severity: \"success\",\r\n                        summary: \"Deleted\",\r\n                        detail: `${data.name} has been successfully deleted.`,\r\n                        life: 3000,\r\n                    });\r\n                })\r\n                .catch(() => {\r\n                    toast.add({\r\n                        severity: \"error\",\r\n                        summary: \"Error\",\r\n                        detail: `Failed to delete ${data.name}.`,\r\n                        life: 3000,\r\n                    });\r\n                });\r\n        };\r\n\r\n        onMounted(() => {\r\n            if (inventoryList.value.length == 0) {\r\n                store.dispatch(\"cycleMonitoring/getInventoryList\");\r\n            }\r\n        });\r\n\r\n        return {\r\n            form,\r\n            formIsEdit,\r\n            save,\r\n            edit,\r\n            deleteMedicationInventory,\r\n            addMedicationInventoryDialog,\r\n            inventoryList,\r\n            categoryOpts,\r\n            category,\r\n            categories,\r\n            showAddMedicationInventoryDialog: () => {\r\n                formIsEdit.value = false;\r\n\r\n                form.id = null;\r\n                form.code = null;\r\n                form.name = null;\r\n                form.description = null;\r\n\r\n                addMedicationInventoryDialog.value = true;\r\n            },\r\n            showEditMedicationInventoryDialog: (data) => {\r\n                formIsEdit.value = true;\r\n\r\n                form.id = data.id;\r\n                form.code = data.code;\r\n                form.name = data.name;\r\n                form.description = data.description;\r\n\r\n                addMedicationInventoryDialog.value = true;\r\n            }\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table-header {\r\n    display: flex;\r\n    align-items: ;\r\n    justify-content: space-between;\r\n}\r\n</style>\r\n","import { render } from \"./inventory.vue?vue&type=template&id=7f844064&scoped=true\"\nimport script from \"./inventory.vue?vue&type=script&lang=js\"\nexport * from \"./inventory.vue?vue&type=script&lang=js\"\n\nimport \"./inventory.vue?vue&type=style&index=0&id=7f844064&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7f844064\"]])\n\nexport default __exports__","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.es/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./inventory.vue?vue&type=style&index=0&id=7f844064&scoped=true&lang=css\""],"sourceRoot":""}