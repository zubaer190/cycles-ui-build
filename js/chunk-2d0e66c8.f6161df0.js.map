{"version":3,"sources":["webpack:///./src/views/maintanance/group-permissions.vue","webpack:///./src/views/maintanance/group-permissions.vue?e26f"],"names":["class","style","title","content","value","permissions","header","field","body","data","read","binary","create","update","delete","footer","icon","label","showAddDailog","save","loading","visible","addDailog","position","modal","form","app","options","appKeyOptions","optionLabel","addToPermissions","setup","store","route","permissionsKeys","map","item","appKey","state","maintanance","appKeyList","filter","includes","push","console","log","getUserGroupPermission","dispatch","params","id","then","catch","gId","finally","getAppKeyList","err","__exports__","render"],"mappings":"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","file":"js/chunk-2d0e66c8.f6161df0.js","sourcesContent":["<template>\n    <p-card style=\"width: 500px; margin: auto;\">\n        <template #title>\n            Permissions\n        </template>\n        <template #content>\n            <p-data-table :value=\"permissions\">\n                <p-column header=\"App\" field=\"label\"></p-column>\n\n                <p-column header=\"Read\" field=\"read\" style=\"width: 60px\">\n                    <template #body=\"{data}\">\n                        <p-checkbox v-model=\"data.read\" :binary=\"true\" />\n                    </template>\n                </p-column>\n\n                <p-column header=\"Create\" field=\"create\" style=\"width: 60px\">\n                    <template #body=\"{data}\">\n                        <p-checkbox v-model=\"data.create\" :binary=\"true\" />\n                    </template>\n                </p-column>\n\n                <p-column header=\"Update\" field=\"update\" style=\"width: 60px\">\n                    <template #body=\"{data}\">\n                        <p-checkbox v-model=\"data.update\" :binary=\"true\" />\n                    </template>\n                </p-column>\n\n                <p-column header=\"Delete\" field=\"delete\" style=\"width: 60px\">\n                    <template #body=\"{data}\">\n                        <p-checkbox v-model=\"data.delete\" :binary=\"true\" />\n                    </template>\n                </p-column>\n            </p-data-table>\n        </template>\n        <template #footer>\n            <p-button\n                icon=\"pi pi-plus\"\n                label=\"Add\"\n                @click=\"showAddDailog\"\n                class=\"p-mr-1\"\n            />\n\n            <p-button\n                icon=\"pi pi-check\"\n                label=\"Save\"\n                @click=\"save\"\n                :loading=\"loading\"\n            />\n        </template>\n    </p-card>\n\n    <p-dialog\n        header=\"Add\"\n        v-model:visible=\"addDailog\"\n        position=\"top\"\n        :style=\"{ width: '300px' }\"\n        :modal=\"true\"\n        class=\"p-inputtext-sm p-input-filled\"\n    >\n        <div class=\"p-fluid\">\n            <div class=\"p-field\">\n                <label>Group Id</label>\n                <p-dropdown\n                    v-model=\"form.app\"\n                    :options=\"appKeyOptions\"\n                    optionLabel=\"label\"\n                />\n            </div>\n            <div class=\"p-field\">\n                <p-checkbox v-model=\"form.read\" :binary=\"true\" />\n                <label class=\"p-ml-2 p-mb-0\">Read</label>\n            </div>\n            <div class=\"p-field\">\n                <p-checkbox v-model=\"form.create\" :binary=\"true\" />\n                <label class=\"p-ml-2 p-mb-0\">Create</label>\n            </div>\n            <div class=\"p-field\">\n                <p-checkbox v-model=\"form.update\" :binary=\"true\" />\n                <label class=\"p-ml-2 p-mb-0\">Update</label>\n            </div>\n            <div class=\"p-field\">\n                <p-checkbox v-model=\"form.delete\" :binary=\"true\" />\n                <label class=\"p-ml-2 p-mb-0\">Delete</label>\n            </div>\n        </div>\n\n        <p-button\n            label=\"Add\"\n            icon=\"pi pi-plus\"\n            class=\"p-mt-3\"\n            @click=\"addToPermissions\"\n        />\n    </p-dialog>\n</template>\n\n<script>\nimport { computed, onMounted, reactive, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRoute } from \"vue-router\";\nexport default {\n    setup() {\n        const store = useStore();\n        const route = useRoute();\n        const permissions = ref([]);\n\n        const form = reactive({\n            app: null,\n            read: false,\n            create: false,\n            update: false,\n            delete: false\n        });\n        const permissionsKeys = computed(() => {\n            return permissions.value.map((item) => item.appKey);\n        });\n        const appKeyOptions = computed(() => {\n            return store.state.maintanance.appKeyList.filter((item) => {\n                return !permissionsKeys.value.includes(item.value);\n            });\n        });\n        const addDailog = ref(false);\n        const addToPermissions = () => {\n            permissions.value.push({\n                ...form,\n                appKey: form.app.value,\n                label: form.app.label\n            });\n            console.log(permissions);\n        };\n\n        const getUserGroupPermission = () => {\n            store\n                .dispatch(\n                    \"maintanance/getUserGroupPermissions\",\n                    route.params.id\n                )\n                .then((data) => {\n                    permissions.value = data.permissions;\n                })\n                .catch(() => {});\n        };\n\n        const loading = ref(false);\n        const save = () => {\n            loading.value = true;\n            store\n                .dispatch(\"maintanance/saveUserGroupPermission\", {\n                    gId: route.params.id,\n                    permissions: [...permissions.value]\n                })\n                .then((data) => {})\n                .finally(() => {\n                    loading.value = false;\n                });\n        };\n\n        const getAppKeyList = () => {\n            store\n                .dispatch(\"maintanance/getAppKeyList\")\n                .then()\n                .catch((err) => {\n                    console.log(err);\n                });\n        };\n\n        onMounted(() => {\n            getAppKeyList();\n            getUserGroupPermission();\n        });\n\n        return {\n            permissions,\n            save,\n            loading,\n            addDailog,\n            form,\n            appKeyOptions,\n            addToPermissions,\n            showAddDailog: () => {\n                addDailog.value = true;\n            }\n        };\n    }\n};\n</script>\n","import { render } from \"./group-permissions.vue?vue&type=template&id=fb2f2ec0\"\nimport script from \"./group-permissions.vue?vue&type=script&lang=js\"\nexport * from \"./group-permissions.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/saif/Projects/vue-cycle-ui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}