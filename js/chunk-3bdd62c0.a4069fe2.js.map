{"version":3,"sources":["webpack:///./src/assets/women.png","webpack:///./src/views/patient-barcodes.vue?ad62","webpack:///./src/assets/men.png","webpack:///./src/views/patient-barcodes.vue","webpack:///./src/views/patient-barcodes.vue?8535"],"names":["module","exports","class","style","alt","src","patient","id","sex","firstName","lastName","label","showBarcodeV2","icon","printToZebraPrinter","partner","setup","base","url","chart","year","month","day","window","open","store","logsData","loading","payload","bar_id","encodeURIComponent","console","log","state","artCycle","value","__exports__","render"],"mappings":"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","file":"js/chunk-3bdd62c0.a4069fe2.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/women.f05f7bfb.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./patient-barcodes.vue?vue&type=style&index=0&id=47368818&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/men.a5e81f19.png\";","<template>\r\n    <div v-if=\"patient.id\">\r\n        <!-- First Section -->\r\n        <div class=\"section\">\r\n            <div class=\"p-grid\">\r\n                <div class=\"p-col-12 block-container\">\r\n                    <div class=\"block-item\">\r\n                        <div style=\"margin-right: 15px;\">\r\n                            <img\r\n                                v-if=\"patient.sex == 'F'\"\r\n                                style=\"width: 100px;\"\r\n                                alt=\"Vue logo\"\r\n                                src=\"../assets/women.png\"\r\n                            />\r\n                            <img\r\n                                v-else\r\n                                style=\"width: 100px;\"\r\n                                alt=\"Vue logo\"\r\n                                src=\"../assets/men.png\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <div style=\"margin-bottom: 10px;\">\r\n                                <div class=\"title\">\r\n                                    PATIENT\r\n                                </div>\r\n                                <span\r\n                                    >{{ patient.firstName }}\r\n                                    {{ patient.lastName }}</span\r\n                                ><br />\r\n                                <span class=\"p-id\">{{ patient.id }}</span>\r\n                            </div>\r\n\r\n                            <span class=\"p-buttonset\">\r\n                                <p-button\r\n                                    label=\"Barcode\"\r\n                                    class=\"p-button-sm\"\r\n                                    @click=\"showBarcodeV2(patient)\"\r\n                                />\r\n                                <p-button\r\n                                    class=\"p-button-sm\"\r\n                                    icon=\"pi pi-print\"\r\n                                    @click=\"printToZebraPrinter(patient)\"\r\n                                />\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"block-item\" v-if=\"partner.id\">\r\n                        <div style=\"margin-right: 15px;\">\r\n                            <div style=\"margin-bottom: 10px;\">\r\n                                <div class=\"title\">\r\n                                    PARTNER\r\n                                </div>\r\n                                <span\r\n                                    >{{ partner.firstName }}\r\n                                    {{ partner.lastName }}</span\r\n                                ><br />\r\n                                <span class=\"p-id\">{{ partner.id }}</span>\r\n                            </div>\r\n                            <span class=\"p-buttonset\">\r\n                                <p-button\r\n                                    label=\"Barcode\"\r\n                                    class=\"p-button-sm\"\r\n                                    @click=\"showBarcodeV2(partner)\"\r\n                                />\r\n                                <p-button\r\n                                    class=\"p-button-sm\"\r\n                                    icon=\"pi pi-print\"\r\n                                    @click=\"printToZebraPrinter(partner)\"\r\n                                />\r\n                            </span>\r\n                        </div>\r\n                        <div>\r\n                            <img\r\n                                v-if=\"partner.sex == 'F'\"\r\n                                style=\"width: 100px;\"\r\n                                alt=\"Vue logo\"\r\n                                src=\"../assets/women.png\"\r\n                            />\r\n                            <img\r\n                                v-else\r\n                                style=\"width: 100px;\"\r\n                                alt=\"Vue logo\"\r\n                                src=\"../assets/men.png\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Second Section -->\r\n        <div class=\"section\">\r\n            <!-- <h2>Section 2</h2> -->\r\n        </div>\r\n    </div>\r\n    <div v-else>\r\n        <h2>No patient selected</h2>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { $axios } from \"@/service/app-http\";\r\nimport { onMounted, ref, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { serialize } from \"php-serialize\";\r\nimport { ZEBRA_PRING_URL, NL_FORM_BASE } from \"@/constants\";\r\n\r\nexport default {\r\n    setup() {\r\n        const printToZebraPrinter = (patient) => {\r\n            let base = `${ZEBRA_PRING_URL}/patient_zpl_print.php`;\r\n\r\n            let url =\r\n                `${base}` +\r\n                `?first_name=${patient.firstName}` +\r\n                `&last_name=${patient.lastName}` +\r\n                `&chart=${patient.chart}` +\r\n                `&dob=${patient.year}-${patient.month}-${patient.day}` +\r\n                `&gender=${patient.sex}`;\r\n\r\n            window.open(url);\r\n        };\r\n        const store = useStore();\r\n        const logsData = ref([]);\r\n        const loading = ref(false);\r\n\r\n        const patient = ref({});\r\n        const partner = ref({});\r\n\r\n        const showBarcodeV2 = (patient) => {\r\n            const payload = {\r\n                bar_id: patient.id\r\n            };\r\n\r\n            let url = `${NL_FORM_BASE}/jrsPHPclientV2/jrs/generate_reportn1.php?report_name=TESTS_1&report_type=pdf&report_params=${encodeURIComponent(\r\n                serialize(payload)\r\n            )}`;\r\n            window.open(url);\r\n        };\r\n\r\n        const getLogs = async (perPage = 20, page = 1) => {\r\n            loading.value = true;\r\n            const {\r\n                data: { logs }\r\n            } = await $axios.get(`wsl-logs`, {\r\n                params: {\r\n                    patientId: patient.value\r\n                }\r\n            });\r\n            logsData.value = logs.data;\r\n            loading.value = false;\r\n        };\r\n\r\n        // const onFilterHandler = () => {\r\n        //     getLogs();\r\n        // };\r\n\r\n        onMounted(() => {\r\n            console.log(store.state.artCycle.patient);\r\n            // getLogs();\r\n            if (store.state.artCycle.patient) {\r\n                patient.value = store.state.artCycle.patient;\r\n            }\r\n            if (store.state.artCycle.partner) {\r\n                partner.value = store.state.artCycle.partner;\r\n            }\r\n        });\r\n\r\n        return {\r\n            logsData,\r\n            loading,\r\n            patient,\r\n            partner,\r\n            store,\r\n            showBarcodeV2,\r\n            printToZebraPrinter\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.p-card .p-card-content {\r\n    padding: 0;\r\n}\r\n\r\n.block-item {\r\n    display: flex;\r\n    border: 1px solid #8cb3d9;\r\n    padding: 10px;\r\n    background-color: white;\r\n}\r\n.block-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n.title {\r\n    margin-bottom: 10px;\r\n    color: darkblue;\r\n    font-weight: bolder;\r\n    background-color: silver;\r\n    text-align: center;\r\n}\r\n.p-id {\r\n    color: brown;\r\n    font-weight: bolder;\r\n}\r\n</style>\r\n","import { render } from \"./patient-barcodes.vue?vue&type=template&id=47368818&scoped=true\"\nimport script from \"./patient-barcodes.vue?vue&type=script&lang=js\"\nexport * from \"./patient-barcodes.vue?vue&type=script&lang=js\"\n\nimport \"./patient-barcodes.vue?vue&type=style&index=0&id=47368818&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/zubaer/workspace/vue.js/vue-cycle-ui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47368818\"]])\n\nexport default __exports__"],"sourceRoot":""}