{"version":3,"sources":["webpack:///./src/views/users/index.vue","webpack:///./src/views/users/index.vue?97c3","webpack:///./src/views/users/index.vue?1b63"],"names":["class","content","value","users","filters","filter","globalFilterFields","showGridlines","header","placeholder","add","label","icon","field","sortable","style","body","data","active","updateStatus","id","edit","updatePassword","username","deleteUser","rows","pagination","perPage","totalRecords","total","first","page","rowsPerPageOptions","onPage","setup","toast","router","store","loading","searchQuery","state","global","matchMode","CONTAINS","fetchUsers","dispatch","keyword","event","then","location","reload","payload","severity","summary","detail","life","push","path","query","__exports__","render"],"mappings":"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","file":"js/chunk-5f35c91b.801a060c.js","sourcesContent":["<template>\r\n    <p-card>\r\n        <template #content>\r\n            <p-data-table\r\n                :value=\"users\"\r\n                v-model:filters=\"filter\"\r\n                :globalFilterFields=\"['name', 'username', 'email']\"\r\n                showGridlines\r\n                class=\"p-datatable-sm p-mb-1\"\r\n            >\r\n                <template #header>\r\n                    <div class=\"p-d-flex p-jc-between p-ai-center\">\r\n                        <h4 class=\"p-m-0\">User Maintanace</h4>\r\n                        <span class=\"p-input-icon-left\">\r\n                            <i class=\"pi pi-search\" />\r\n                            <p-input-text\r\n                                v-model=\"filter['global'].value\"\r\n                                placeholder=\"Search\"\r\n                            />\r\n                        </span>\r\n                        <p-button @click=\"add\" label=\"Add\" icon=\"pi pi-plus\" />\r\n                    </div>\r\n                </template>\r\n\r\n                <p-column header=\"Name\" field=\"name\" :sortable=\"true\" />\r\n                <p-column header=\"Username\" field=\"username\" :sortable=\"true\" />\r\n                <!-- <p-column header=\"Station\" field=\"station\" :sortable=\"true\" /> -->\r\n                <p-column header=\"Email\" field=\"email\" :sortable=\"true\" />\r\n                <p-column header=\"Phone\" field=\"phone\" />\r\n                <p-column header=\"Acive\" field=\"active\" style=\"width: 120px\">\r\n                    <template #body=\"{data}\">\r\n                        <p-input-switch\r\n                            v-model=\"data.active\"\r\n                            @click=\"updateStatus(data.id, !data.active)\"\r\n                        />\r\n                    </template>\r\n                </p-column>\r\n                <p-column header=\"Provider No\" field=\"providerNo\" />\r\n                <p-column header=\"Oscar Name\" field=\"providerName\" />\r\n                <p-column style=\"width: 120px\">\r\n                    <template #body=\"{data}\">\r\n                        <div class=\"p-d-flex p-jc-center\">\r\n                            <p-button\r\n                                @click=\"edit(data.id)\"\r\n                                icon=\"pi pi-pencil\"\r\n                                class=\"p-mr-1\"\r\n                            />\r\n                            <p-button\r\n                                @click=\"updatePassword(data.username)\"\r\n                                icon=\"pi pi-key\"\r\n                                class=\"p-mr-1\"\r\n                            />\r\n                            <p-button\r\n                                icon=\"pi pi-times\"\r\n                                class=\"p-button-danger\"\r\n                                @click=\"deleteUser(data.id)\"\r\n                            />\r\n                        </div>\r\n                    </template>\r\n                </p-column>\r\n            </p-data-table>\r\n            <p-paginator\r\n                :rows=\"pagination.perPage\"\r\n                :totalRecords=\"pagination.total\"\r\n                :first=\"(pagination.page - 1) * pagination.perPage\"\r\n                :rowsPerPageOptions=\"[20, 30, 50]\"\r\n                @page=\"onPage\"\r\n                class=\"p-mt-2\"\r\n            />\r\n        </template>\r\n    </p-card>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted, ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { useToast } from \"primevue/usetoast\";\r\nimport { FilterMatchMode } from \"primevue/api\";\r\nimport { $axios } from \"@/service/app-http\";\r\n\r\nexport default {\r\n    setup() {\r\n        const toast = useToast();\r\n        const router = useRouter();\r\n        const store = useStore();\r\n        const loading = ref(false);\r\n        // const users = computed(() => store.state.users.users);\r\n        const searchQuery = ref(\"\");\r\n        const users = computed(() => store.state.users.users);\r\n        const pagination = computed(() => store.state.users.pagination);\r\n\r\n        const filter = ref({\r\n            global: { value: null, matchMode: FilterMatchMode.CONTAINS }\r\n        });\r\n\r\n        const fetchUsers = () => {\r\n            store.dispatch(\"users/fetchUsers\", {\r\n                perPage: pagination.value.perPage,\r\n                page: pagination.value.page,\r\n                keyword: searchQuery.value\r\n            });\r\n        };\r\n\r\n        const onPage = (event) => {\r\n            store.dispatch(\"users/fetchUsers\", {\r\n                perPage: event.rows,\r\n                page: event.page + 1,\r\n                keyword: searchQuery.value\r\n            });\r\n        };\r\n\r\n        const deleteUser = (id) => {\r\n            store.dispatch(\"users/deleteUser\", id).then(() => {\r\n                location.reload();\r\n            });\r\n        };\r\n\r\n        const updateStatus = (id, value) => {\r\n            store\r\n                .dispatch(\"users/updateUserStatus\", {\r\n                    id: id,\r\n                    payload: { active: value }\r\n                })\r\n                .then(() => {\r\n                    toast.add({\r\n                        severity: \"success\",\r\n                        summary: \"Success\",\r\n                        detail: \"Update Successful\",\r\n                        life: 3000\r\n                    });\r\n                });\r\n        };\r\n\r\n        // onMounted(() => {\r\n        //     store.dispatch(\"users/getUsers\");\r\n        // });\r\n        onMounted(() => {\r\n            fetchUsers();\r\n        });\r\n\r\n        return {\r\n            users,\r\n            filter,\r\n            searchQuery,\r\n            pagination,\r\n            add: () => {\r\n                router.push({ path: \"/maintanance/users/create\" });\r\n            },\r\n            edit: (id) => {\r\n                router.push({ path: `/maintanance/users/${id}/edit` });\r\n            },\r\n            updatePassword: (username) => {\r\n                router.push({\r\n                    path: \"/update-password\",\r\n                    query: { username: username }\r\n                });\r\n            },\r\n            deleteUser,\r\n            updateStatus,\r\n            loading,\r\n            onPage,\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.p-input-filled .p-inputtext {\r\n    width: 250px;\r\n    background-color: white;\r\n}\r\n</style>","import { render } from \"./index.vue?vue&type=template&id=26d32183&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=26d32183&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26d32183\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=26d32183&scoped=true&lang=css\""],"sourceRoot":""}