{"version":3,"sources":["webpack:///./src/views/consent-forms.vue","webpack:///./src/views/consent-forms.vue?2870","webpack:///./node_modules/vue-demi/lib/index.mjs"],"names":["style","class","left","icon","goBack","disabled","menu","name","loading","items","item","index","key","handleMenuClick","label","subMenu","setup","store","fullMenu","getMenu","value","a","get","data","getForm","formKey","changeMneu","state","artCycle","patient","url","params","demographic_no","id","user_name","user","username","link_key","window","open","menuName","findIndex","parent","__exports__","render"],"mappings":"sJACSA,MAAA,+B,EACD,eAAsB,UAAlB,iBAAa,G,EAWT,eAA+D,KAA5DC,MAAM,wBAAwBD,MAAA,wB,YAYxBA,MAAA,wB,EAIL,eAAiC,KAA9BC,MAAM,qBAAmB,S,+GA5B5C,eAgCM,MAhCN,EAgCM,CA/BF,EAEA,eAWY,GAXDD,MAAA,0BAA2B,gBACvBE,KAAI,gBACX,iBAIE,CAJF,eAIE,GAHEC,KAAK,qBACJ,QAAO,EAAAC,OACPC,SAAc,MAAJ,EAAAC,MAAyB,YAAT,EAAAA,KAAKC,M,yCAGjB,EAAAC,Q,MAAZ,Q,mBACP,iBAA+D,CAA/D,Y,UAIQ,EAAAF,M,mBACZ,eAaY,8BAZgB,EAAAA,KAAKG,OAAK,SAA1BC,EAAMC,G,wBADlB,eAaY,GAXPC,IAAKD,EACNX,MAAA,0CACC,QAAK,mBAAE,EAAAa,gBAAgBH,K,gBAEbR,KAAI,gBACX,iBAAqD,CAArD,eAAqD,MAArD,EAAqD,eAAnBQ,EAAKI,OAAK,O,MAGb,MAAZJ,EAAKK,Q,MAAjB,Q,mBACP,iBAAiC,CAAjC,Y,sJAYL,GACXC,MADW,WAEP,IAAMC,EAAQ,iBACRC,EAAW,eAAI,IACfZ,EAAO,eAAI,MACXE,EAAU,gBAAI,GAEdW,EAAM,yDAAI,6GACZX,EAAQY,OAAQ,EADJ,kBAGe,EAAAC,EAAMC,IAAN,UAChB,OADgB,0BAHf,gBAGAC,EAHA,EAGAA,KAGRL,EAASE,MAAQG,EACjBjB,EAAKc,MAAQG,EAAK,GAPV,8EAURf,EAAQY,OAAQ,EAVR,6EAAJ,qDAcNP,EAAkB,SAACH,GACD,MAAhBA,EAAKK,QACLS,EAAQd,EAAKe,SAEbC,EAAWhB,EAAKK,UAIlBS,EAAM,yDAAI,WAAOC,GAAP,8FACwB,MAAhCR,EAAMU,MAAMC,SAASC,QADb,wDAGRC,EAHQ,UAGC,OAHD,+CAKe,EAAAT,EAAMC,IAAIQ,EAAK,CAClCC,OAAQ,CACJC,eAAgBf,EAAMU,MAAMC,SAASC,QAAQI,GAC7CC,UAAWjB,EAAMU,MAAMQ,KAAKC,SAC5BC,SAAUZ,KATV,gBAKAF,EALA,EAKAA,KAORe,OAAOC,KAAKhB,EAAKO,IAAK,UAZd,+GAAJ,sDAgBNJ,EAAa,SAACc,GAChB,IAAI7B,EAAQO,EAASE,MAAMqB,WACvB,SAAC/B,GAAD,OAAUA,EAAKH,MAAQiC,KAE3BlC,EAAKc,MAAQF,EAASE,MAAMT,IAG1BP,EAAS,WACX,GAAIE,EAAKc,MAAMsB,OAAQ,CACnB,IAAI/B,EAAQO,EAASE,MAAMqB,WACvB,SAAC/B,GAAD,OAAUA,EAAKH,MAAQD,EAAKc,MAAMsB,UAEtCpC,EAAKc,MAAQF,EAASE,MAAMT,KAQpC,OAJA,gBAAU,WACNQ,OAGG,CACHb,OACAE,UACAK,kBACAT,Y,qBCzGZ,MAAMuC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,gB,oCCPf","file":"js/chunk-11eda066.09586256.js","sourcesContent":["<template>\n    <div style=\"width: 600px; margin: auto\">\n        <h1>Consent forms</h1>\n\n        <p-toolbar style=\"margin-bottom: 10px\">\n            <template #left>\n                <p-button\n                    icon=\"pi pi-chevron-left\"\n                    @click=\"goBack\"\n                    :disabled=\"menu != null && menu.name == 'MainMenu'\"\n                />\n            </template>\n            <template #right v-if=\"loading\">\n                <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 1.5rem\"></i>\n            </template>\n        </p-toolbar>\n\n        <template v-if=\"menu\">\n            <p-toolbar\n                v-for=\"(item, index) in menu.items\"\n                :key=\"index\"\n                style=\"margin-bottom: 10px; cursor: pointer\"\n                @click=\"handleMenuClick(item)\"\n            >\n                <template #left>\n                    <div style=\"font-size: 1.5rem\">{{ item.label }}</div>\n                </template>\n\n                <template #right v-if=\"item.subMenu != null\">\n                    <i class=\"pi pi-arrow-right\"></i>\n                </template>\n            </p-toolbar>\n        </template>\n    </div>\n</template>\n\n<script>\nimport { onMounted, ref } from \"vue-demi\";\nimport axios from \"axios\";\nimport { useStore } from \"vuex\";\nimport { NL_FORM_BASE } from \"@/constants\";\nexport default {\n    setup() {\n        const store = useStore();\n        const fullMenu = ref([]);\n        const menu = ref(null);\n        const loading = ref(false);\n\n        const getMenu = async () => {\n            loading.value = true;\n            try {\n                const { data } = await axios.get(\n                    `${NL_FORM_BASE}/nlforms/get_menu.php`\n                );\n                fullMenu.value = data;\n                menu.value = data[0];\n            } catch (err) {\n            } finally {\n                loading.value = false;\n            }\n        };\n\n        const handleMenuClick = (item) => {\n            if (item.subMenu == null) {\n                getForm(item.formKey);\n            } else {\n                changeMneu(item.subMenu);\n            }\n        };\n\n        const getForm = async (formKey) => {\n            if (store.state.artCycle.patient == null) return;\n\n            let url = `${NL_FORM_BASE}/nlforms/get_form_url.php`;\n            try {\n                const { data } = await axios.get(url, {\n                    params: {\n                        demographic_no: store.state.artCycle.patient.id,\n                        user_name: store.state.user.username,\n                        link_key: formKey\n                    }\n                });\n                window.open(data.url, \"_blank\");\n            } catch (error) {}\n        };\n\n        const changeMneu = (menuName) => {\n            let index = fullMenu.value.findIndex(\n                (item) => item.name == menuName\n            );\n            menu.value = fullMenu.value[index];\n        };\n\n        const goBack = () => {\n            if (menu.value.parent) {\n                let index = fullMenu.value.findIndex(\n                    (item) => item.name == menu.value.parent\n                );\n                menu.value = fullMenu.value[index];\n            }\n        };\n\n        onMounted(() => {\n            getMenu();\n        });\n\n        return {\n            menu,\n            loading,\n            handleMenuClick,\n            goBack\n        };\n    }\n};\n</script>\n","import { render } from \"./consent-forms.vue?vue&type=template&id=68ca6c41\"\nimport script from \"./consent-forms.vue?vue&type=script&lang=js\"\nexport * from \"./consent-forms.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/saif/Projects/vue-cycle-ui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import * as Vue from 'vue'\n\nvar isVue2 = false\nvar isVue3 = true\nvar Vue2 = undefined\n\nfunction install() {}\n\nexport function set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key)\n    target.splice(key, 1, val)\n    return val\n  }\n  target[key] = val\n  return val\n}\n\nexport function del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1)\n    return\n  }\n  delete target[key]\n}\n\nexport * from 'vue'\nexport {\n  Vue,\n  Vue2,\n  isVue2,\n  isVue3,\n  install,\n}\n"],"sourceRoot":""}