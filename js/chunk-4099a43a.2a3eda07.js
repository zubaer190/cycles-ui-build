(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4099a43a"],{"117d":function(t,e,n){"use strict";n("70c8")},"1d57":function(t,e,n){t.exports=n.p+"img/women.f05f7bfb.png"},"70c8":function(t,e,n){},"85da":function(t,e,n){t.exports=n.p+"img/men.a5e81f19.png"},e055:function(t,e,n){"use strict";n.r(e);n("b0c0");var a=n("7a23"),c=n("1d57"),r=n.n(c),i=n("85da"),o=n.n(i),l=Object(a["Z"])("data-v-60035307");Object(a["E"])("data-v-60035307");var s={key:0},p={class:"section"},b={class:"p-grid"},d={class:"p-col-12 block-container"},u={class:"block-item"},m={style:{"margin-right":"15px"}},j={key:0,style:{width:"100px"},alt:"Vue logo",src:r.a},O={key:1,style:{width:"100px"},alt:"Vue logo",src:o.a},g={style:{"margin-bottom":"10px"}},k=Object(a["k"])("div",{class:"title"}," PATIENT ",-1),f=Object(a["k"])("br",null,null,-1),h={class:"p-id"},v={class:"p-buttonset"},y={key:0,class:"block-item"},x={style:{"margin-right":"15px"}},w={style:{"margin-bottom":"10px"}},_=Object(a["k"])("div",{class:"title"}," PARTNER ",-1),C=Object(a["k"])("br",null,null,-1),B={class:"p-id"},T={class:"p-buttonset"},N={key:0,style:{width:"100px"},alt:"Vue logo",src:r.a},R={key:1,style:{width:"100px"},alt:"Vue logo",src:o.a},I={class:"section",style:{"margin-top":"20px"}},P={class:"container",style:{background:""}},V={class:"left-box",style:{display:"inline-block",width:"50%","border-right":"dashed 1px grey","min-height":"400px"}},z={class:"inline-box"},E={style:{"margin-bottom":"10px","font-weight":"bold",display:"flex","justify-content":"center","align-content":"center"}},J=Object(a["k"])("br",null,null,-1),Z={style:{display:"flex","justify-content":"center","align-content":"center"}},G={class:"p-buttonset",style:{display:"flex"}},L={class:"right-box",style:{display:"inline-block",width:"50%","min-height":"400px"}},U={class:"inline-box"},F={style:{"margin-bottom":"10px","font-weight":"bold",display:"flex","justify-content":"center","align-content":"center"}},H=Object(a["k"])("br",null,null,-1),S={style:{display:"flex","justify-content":"center","align-content":"center"}},A={class:"p-buttonset",style:{display:"flex"}},W={key:1},D=Object(a["k"])("h2",null,"No patient selected",-1);Object(a["C"])();var M=l((function(t,e,n,c,r,i){var o=Object(a["J"])("p-button");return c.patient.id?(Object(a["B"])(),Object(a["g"])("div",s,[Object(a["k"])("div",null,[Object(a["k"])(o,{label:"Back",class:"p-button-sm p-button-outlined",severity:"info",raised:"",style:{"margin-bottom":"20px"},onClick:c.goToBarcodePage},null,8,["onClick"])]),Object(a["k"])("div",p,[Object(a["k"])("div",b,[Object(a["k"])("div",d,[Object(a["k"])("div",u,[Object(a["k"])("div",m,["F"==c.patient.sex?(Object(a["B"])(),Object(a["g"])("img",j)):(Object(a["B"])(),Object(a["g"])("img",O))]),Object(a["k"])("div",null,[Object(a["k"])("div",g,[k,Object(a["k"])("span",null,Object(a["N"])(c.patient.firstName)+" "+Object(a["N"])(c.patient.lastName),1),f,Object(a["k"])("span",h,Object(a["N"])(c.patient.id),1)]),Object(a["k"])("span",v,[Object(a["k"])(o,{label:"Barcode",class:"p-button-sm",onClick:e[1]||(e[1]=function(t){return c.showBarcodeV2(c.patient)})}),Object(a["k"])(o,{class:"p-button-sm",icon:"pi pi-print",onClick:e[2]||(e[2]=function(t){return c.printToZebraPrinter(c.patient)})})])])]),c.partner.id?(Object(a["B"])(),Object(a["g"])("div",y,[Object(a["k"])("div",x,[Object(a["k"])("div",w,[_,Object(a["k"])("span",null,Object(a["N"])(c.partner.firstName)+" "+Object(a["N"])(c.partner.lastName),1),C,Object(a["k"])("span",B,Object(a["N"])(c.partner.id),1)]),Object(a["k"])("span",T,[Object(a["k"])(o,{label:"Barcode",class:"p-button-sm",onClick:e[3]||(e[3]=function(t){return c.showBarcodeV2(c.partner)})}),Object(a["k"])(o,{class:"p-button-sm",icon:"pi pi-print",onClick:e[4]||(e[4]=function(t){return c.printToZebraPrinter(c.partner)})})])]),Object(a["k"])("div",null,["F"==c.partner.sex?(Object(a["B"])(),Object(a["g"])("img",N)):(Object(a["B"])(),Object(a["g"])("img",R))])])):Object(a["h"])("",!0)])])]),Object(a["k"])("div",I,[Object(a["k"])("div",P,[Object(a["k"])("div",V,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(c.patientLabTests,(function(t){return Object(a["B"])(),Object(a["g"])("div",z,[Object(a["k"])("div",null,[Object(a["k"])("div",E,[Object(a["k"])("span",null,Object(a["N"])(t.name),1),J]),Object(a["k"])("div",Z,[Object(a["k"])("img",{src:c.getIconUrl(t),alt:"Image",style:{width:"50px",height:"50px"}},null,8,["src"])]),Object(a["k"])("div",null,[Object(a["k"])("span",G,[Object(a["k"])(o,{label:"Barcode",class:"p-button-sm",onClick:function(e){return c.createBarcodeZebra(c.patient,t)}},null,8,["onClick"]),Object(a["k"])(o,{class:"p-button-sm",icon:"pi pi-print",onClick:function(e){return c.printCitizenLabel(c.patient,t)}},null,8,["onClick"])])])])])})),256))]),Object(a["k"])("div",L,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(c.partnerLabTests,(function(t){return Object(a["B"])(),Object(a["g"])("div",U,[Object(a["k"])("div",null,[Object(a["k"])("div",F,[Object(a["k"])("span",null,Object(a["N"])(t.name),1),H]),Object(a["k"])("div",S,[Object(a["k"])("img",{src:c.getIconUrl(t),alt:"Image",style:{width:"50px",height:"50px"}},null,8,["src"])]),Object(a["k"])("div",null,[Object(a["k"])("span",A,[Object(a["k"])(o,{label:"Barcode",class:"p-button-sm",onClick:function(e){return c.createBarcodeJasper(c.partner,t)}},null,8,["onClick"]),Object(a["k"])(o,{class:"p-button-sm",icon:"pi pi-print",onClick:function(e){return c.createBarcodeZebra(c.partner,t)}},null,8,["onClick"])])])])])})),256))])])])])):(Object(a["B"])(),Object(a["g"])("div",W,[D]))})),q=n("1da1"),K=(n("96cf"),n("99af"),n("c215")),Q=n("5502"),X=n("dd6d"),Y=n("5fb0"),$=n("db49"),tt=n("6c02"),et={setup:function(){var t=function(t){var e="".concat(Y["v"],"/patient_zpl_print.php"),n="".concat(e)+"?first_name=".concat(t.firstName)+"&last_name=".concat(t.lastName)+"&chart=".concat(t.chart)+"&dob=".concat(t.year,"-").concat(t.month,"-").concat(t.day)+"&gender=".concat(t.sex);window.open(n)},e=Object(Q["b"])(),n=Object(a["G"])([]),c=Object(a["G"])([]),r=Object(a["G"])([]),i=Object(a["G"])(!1),o=Object(a["G"])({}),l=Object(a["G"])({}),s=Object(tt["d"])(),p=function(t){var e={bar_id:t.id},n="".concat(Y["k"],"/jrsPHPclientV2/jrs/generate_reportn1.php?report_name=TESTS_1&report_type=pdf&report_params=").concat(encodeURIComponent(Object(X["a"])(e)));window.open(n)},b=function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(e,n){var a,c,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K["a"].post("lab-barcode/create",{patient_id:e.id,container_id:n.labTestId,container_name:n.name});case 3:a=t.sent,c=a.data,r={bar_id:c.model.barcode},i="".concat(Y["k"],"/jrsPHPclientV2/jrs/generate_reportn1.php?report_name=TESTS_1_1&report_type=pdf&report_params=").concat(encodeURIComponent(Object(X["a"])(r))),window.open(i),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(e,n){var a,c,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K["a"].post("lab-barcode/create",{patient_id:e.id,container_id:n.labTestId,container_name:n.name});case 3:a=t.sent,c=a.data,r="".concat(Y["v"],"/labContainer_zpl_print.php"),i="".concat(r)+"?barcode=".concat(c.model.barcode,"&label=").concat(n.name,"&chartid=").concat(e.id),window.open(i),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(e,n){var a,c,r,i,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K["a"].post("lab-barcode/create",{patient_id:e.id,container_id:n.labTestId,container_name:n.name});case 3:a=t.sent,c=a.data,r=c.model.barcode,i='\n                        <html>\n                        <head>\n                            <style>\n                                @page {\n                                    size: 38mm 10mm;\n                                    margin: 0;\n                                }\n\n                                html, body {\n                                    width: 38mm;\n                                    height: 10mm;\n                                    margin: 0;\n                                    padding: 0;\n                                    overflow: hidden;\n                                    font-family: Arial, sans-serif;\n                                    font-size: 6px;\n                                }\n\n                                .label {\n                                    width: 38mm;\n                                    height: 10mm;\n                                    display: flex;\n                                    flex-direction: column;\n                                    align-items: center;\n                                    justify-content: space-between;\n                                    box-sizing: border-box;\n                                    padding: 0.5mm;\n                                }\n\n                                .text {\n                                    line-height: 1;\n                                    text-align: center;\n                                }\n\n                                svg {\n                                    width: 100%;\n                                    height: 40mm;\n                                    position: static;\n                                }\n                            </style>\n                        </head>\n                        <body>\n                            <div class="label">\n                                <div class="text">'.concat(n.name," (").concat(e.id,')</div>\n                                <svg id="barcode"></svg>\n                            </div>\n                        </body>\n                        </html>\n                        '),o=document.createElement("iframe"),o.style.display="none",document.body.appendChild(o),l=o.contentWindow.document,l.open(),l.write(i),l.close(),o.onload=function(){var t=l.createElement("script");t.src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js",t.onload=function(){o.contentWindow.JsBarcode("#barcode",r,{format:"CODE128",lineColor:"#000",width:1,height:40,displayValue:!1}),setTimeout((function(){return o.contentWindow.print()}),300)},l.body.appendChild(t)},t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error("Print label error:",t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,n){return t.apply(this,arguments)}}(),m=function(t){return t.icon?"".concat($["g"],"/").concat(t.icon):"https://via.placeholder.com/300"},j=function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"M"!=e&&"m"!=e||(e="male"),"F"!=e&&"f"!=e||(e="female"),t.next=4,K["a"].get("lab-tests/list/".concat(e),{params:{}});case 4:n=t.sent,a=n.data,c.value=a;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"M"!=e&&"m"!=e||(e="male"),"F"!=e&&"f"!=e||(e="female"),t.next=4,K["a"].get("lab-tests/list/".concat(e),{params:{}});case 4:n=t.sent,a=n.data,r.value=a;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a["z"])((function(){console.log(e.state.artCycle.patient),e.state.artCycle.patient&&(o.value=e.state.artCycle.patient,j(o.value.sex)),e.state.artCycle.partner&&(l.value=e.state.artCycle.partner,O(l.value.sex))})),{logsData:n,loading:i,patient:o,partner:l,store:e,patientLabTests:c,partnerLabTests:r,showBarcodeV2:p,getIconUrl:m,printToZebraPrinter:t,createBarcodeJasper:b,createBarcodeZebra:d,printCitizenLabel:u,goToBarcodePage:function(){s.push({path:"/barcodes"})}}}},nt=(n("117d"),n("6b0d")),at=n.n(nt);const ct=at()(et,[["render",M],["__scopeId","data-v-60035307"]]);e["default"]=ct}}]);
//# sourceMappingURL=chunk-4099a43a.2a3eda07.js.map