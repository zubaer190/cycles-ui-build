{"version":3,"sources":["webpack:///./src/views/maintanance/born-complete-list.vue","webpack:///./src/views/maintanance/born-complete-list.vue?3f4d"],"names":["class","style","value","completeList","selection","selectedList","dataKey","showGridlines","responsiveLayout","loading","scrollable","scrollHeight","header","uploaded","binary","sourceFilter","options","sourceFilterOpts","optionLabel","optionValue","cycleYear","cycleMonth","monthOptions","cycleCancelled","cycleCancelledOption","cycleType","cycleTypeOptions","label","filter","download","markAsUploadHandler","footer","rows","totalRecords","rowsPerPageOptions","onPage","$event","selectionMode","headerStyle","field","body","data","ohip","cycleDate","split","setup","page","perPage","store","state","artCycle","getCompleteList","map","item","toUpperCase","total","event","cyclePayload","cycleId","patientId","payload","cycle","resp","status","window","open","csv","__exports__","render"],"mappings":"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","file":"js/chunk-2d229845.804f2585.js","sourcesContent":["<template>\r\n    <p-data-table\r\n        :value=\"completeList\"\r\n        v-model:selection=\"selectedList\"\r\n        selection\r\n        dataKey=\"cycleId\"\r\n        class=\"p-datatable-sm\"\r\n        showGridlines\r\n        responsiveLayout=\"scroll\"\r\n        :loading=\"loading\"\r\n        :scrollable=\"true\"\r\n        scrollHeight=\"calc(100vh - 130px)\"\r\n    >\r\n        <template #header>\r\n            <div class=\"table-header\" style=\"display: flex;\">\r\n                <p-checkbox\r\n                    v-model=\"uploaded\"\r\n                    :binary=\"true\"\r\n                    class=\"p-mr-2 p-mb-2\"\r\n                    style=\"margin-top: 5px;\"\r\n                />\r\n                <label class=\"p-mr-4\" style=\"margin-top: 8px;\">Uploaded</label>\r\n\r\n                <label class=\"p-mr-2 p-mt-2\">Filter</label>\r\n\r\n                <p-multi-select\r\n                    v-model=\"sourceFilter\"\r\n                    :options=\"sourceFilterOpts\"\r\n                    optionLabel=\"label\"\r\n                    optionValue=\"value\"\r\n                    class=\"p-mr-2\"\r\n                    style=\"width: 200px;\"\r\n                />\r\n\r\n                <label class=\"p-mr-2 p-mt-2\">Year</label>\r\n                <p-input-text v-model=\"cycleYear\" class=\"p-mr-2\" />\r\n\r\n                <label class=\"p-mr-2 p-mt-2\">Month</label>\r\n                <p-dropdown\r\n                    v-model=\"cycleMonth\"\r\n                    :options=\"monthOptions\"\r\n                    optionLabel=\"label\"\r\n                    optionValue=\"value\"\r\n                    style=\"width: 200px\"\r\n                />\r\n\r\n                <label class=\"p-mr-2 p-mt-2 p-ml-2\">Cycle Cancelled</label>\r\n                <p-dropdown\r\n                    v-model=\"cycleCancelled\"\r\n                    :options=\"cycleCancelledOption\"\r\n                    optionLabel=\"label\"\r\n                    optionValue=\"value\"\r\n                    style=\"width: 80px;\"\r\n                    class=\"p-mr-2\"\r\n                />\r\n\r\n                <label class=\"p-mr-2 p-mt-2\">Cycle Type</label>\r\n                <p-multi-select\r\n                    v-model=\"cycleType\"\r\n                    :options=\"cycleTypeOptions\"\r\n                    optionLabel=\"label\"\r\n                    optionValue=\"value\"\r\n                    class=\"p-mr-2\"\r\n                    style=\"width: 200px;\"\r\n                />\r\n\r\n                <p-button\r\n                    label=\"Filter\"\r\n                    class=\"p-mr-2 p-button-sm\"\r\n                    @click=\"filter\"\r\n                />\r\n                <p-button\r\n                    label=\"Download\"\r\n                    class=\"p-mr-2 p-button-sm p-button-warning\"\r\n                    @click=\"download\"\r\n                />\r\n                <p-button\r\n                    label=\"Mark As Upload\"\r\n                    class=\"p-mr-2 p-button-sm p-button-success\"\r\n                    @click=\"markAsUploadHandler\"\r\n                />\r\n            </div>\r\n        </template>\r\n\r\n        <p-column\r\n            selectionMode=\"multiple\"\r\n            headerStyle=\"width: 3em\"\r\n            style=\"width: 3rem; max-width: 3rem;\"\r\n        />\r\n        <p-column field=\"patientName\" header=\"Patient name\" />\r\n        <p-column\r\n            field=\"patientId\"\r\n            header=\"Chart ID\"\r\n            style=\"max-width: 12rem\"\r\n        />\r\n        <p-column\r\n            field=\"dateCompleted\"\r\n            header=\"Date Completed\"\r\n            style=\"max-width: 12rem\"\r\n        />\r\n        <p-column\r\n            field=\"cycleNo\"\r\n            header=\"Cycle Number\"\r\n            style=\"max-width: 10rem\"\r\n        />\r\n        <p-column field=\"cycleId\" header=\"Cycle id\" style=\"max-width: 7rem\" />\r\n        <p-column\r\n            field=\"cycleName\"\r\n            header=\"Cycle Type\"\r\n            style=\"max-width: 8rem\"\r\n        />\r\n        <p-column\r\n            field=\"cycleNoType\"\r\n            header=\"Cycle no type\"\r\n            style=\"max-width: 8rem\"\r\n        />\r\n        <p-column field=\"ohip\" header=\"Funded\" style=\"max-width: 7rem\">\r\n            <template #body=\"{ data }\">\r\n                {{ data.ohip == 1 ? \"Yes\" : \"No\" }}\r\n            </template>\r\n        </p-column>\r\n        <p-column\r\n            field=\"cycleDate\"\r\n            header=\"Cycle Date\"\r\n            style=\"max-width: 120px\"\r\n        >\r\n            <template #body=\"{ data }\">\r\n                {{ data.cycleDate.split(\" \")[0] }}\r\n            </template>\r\n        </p-column>\r\n\r\n        <p-column field=\"source\" header=\"Source\" />\r\n\r\n        <p-column></p-column>\r\n\r\n        <template #footer>\r\n            <p-paginator\r\n                :rows=\"10\"\r\n                :totalRecords=\"totalRecords\"\r\n                :rowsPerPageOptions=\"[20, 50, 100]\"\r\n                @page=\"onPage($event)\"\r\n            />\r\n        </template>\r\n    </p-data-table>\r\n</template>\r\n\r\n<script>\r\nimport { ORIGIN } from \"@/config\";\r\nimport {\r\n    getBornCompleteList,\r\n    getBornCSV,\r\n    getBronCsvMulti,\r\n    markAsUpload\r\n} from \"@/service/art-cycle\";\r\nimport { computed, ref, onMounted } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n    setup() {\r\n        const completeList = ref([]);\r\n        const selectedList = ref([]);\r\n        const loading = ref(false);\r\n        const totalRecords = ref(0);\r\n        const uploaded = ref(false);\r\n        const page = ref(1);\r\n        const perPage = ref(20);\r\n        const sourceFilter = ref([]);\r\n        const cycleYear = ref(null);\r\n        const cycleMonth = ref(null);\r\n        const cycleCancelled = ref(null);\r\n        const sourceFilterOpts = ref([\r\n            { value: \"cycle-monitoring\", label: \"Cycle monitoring\" },\r\n            { value: \"opu\", label: \"Opu\" },\r\n            { value: \"pregnancy\", label: \"Pregnancy\" },\r\n            { value: \"fertilization\", label: \"Fertilization\" },\r\n            { value: \"embryo-transfer\", label: \"Embryo transfer\" }\r\n        ]);\r\n\r\n        const cycleType = ref([]);\r\n        const cycleTypeOptions = computed(\r\n            () => store.state.artCycle.cycleTypeOptions\r\n        );\r\n\r\n        const cycleCancelledOption = ref([\r\n            { label: \"Yes\", value: \"yes\" },\r\n            { label: \"No\", value: \"no\" },\r\n            { label: \"All\", value: \"all\" }\r\n        ]);\r\n\r\n        const monthOptions = ref([\r\n            { label: \"---\", value: 0 },\r\n            { label: \"January\", value: 1 },\r\n            { label: \"February\", value: 2 },\r\n            { label: \"March\", value: 3 },\r\n            { label: \"April\", value: 4 },\r\n            { label: \"May\", value: 5 },\r\n            { label: \"June\", value: 6 },\r\n            { label: \"July\", value: 7 },\r\n            { label: \"August\", value: 8 },\r\n            { label: \"September\", value: 9 },\r\n            { label: \"October\", value: 10 },\r\n            { label: \"November\", value: 11 },\r\n            { label: \"December\", value: 12 }\r\n        ]);\r\n\r\n        const getCompleteList = async () => {\r\n            loading.value = true;\r\n            const { data, total } = await getBornCompleteList(\r\n                page.value,\r\n                perPage.value,\r\n                uploaded.value ? 1 : 0,\r\n                cycleYear.value,\r\n                cycleMonth.value,\r\n                sourceFilter.value,\r\n                cycleCancelled.value,\r\n                cycleType.value.map((item) => item.toUpperCase())\r\n            );\r\n            completeList.value = data;\r\n            totalRecords.value = total;\r\n            loading.value = false;\r\n            selectedList.value = [];\r\n        };\r\n\r\n        const onPage = (event) => {\r\n            page.value = event.page + 1;\r\n            perPage.value = event.rows;\r\n            getCompleteList();\r\n        };\r\n\r\n        const cyclePayload = () => {\r\n            return selectedList.value.map((item) => ({\r\n                cycleId: item.cycleId,\r\n                patientId: item.patientId\r\n            }));\r\n        };\r\n\r\n        const store = useStore();\r\n        const download = async () => {\r\n            const payload = {\r\n                cycle: cyclePayload()\r\n            };\r\n\r\n            const resp = await getBronCsvMulti(payload);\r\n            if (resp.status == \"failed\") return;\r\n\r\n            window.open(`${ORIGIN}/${resp.csv}`);\r\n            selectedList.value = [];\r\n        };\r\n\r\n        const markAsUploadHandler = async () => {\r\n            const payload = {\r\n                cycle: cyclePayload(),\r\n                status: 1\r\n            };\r\n            await markAsUpload(payload);\r\n            getCompleteList();\r\n        };\r\n\r\n        onMounted(() => {\r\n            getCompleteList();\r\n        });\r\n\r\n        return {\r\n            completeList,\r\n            selectedList,\r\n            loading,\r\n            uploaded,\r\n            totalRecords,\r\n            onPage,\r\n            download,\r\n            markAsUploadHandler,\r\n            filter: () => {\r\n                getCompleteList();\r\n            },\r\n            sourceFilter,\r\n            sourceFilterOpts,\r\n            cycleYear,\r\n            cycleMonth,\r\n            monthOptions,\r\n            cycleCancelled,\r\n            cycleCancelledOption,\r\n            cycleType,\r\n            cycleTypeOptions\r\n        };\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./born-complete-list.vue?vue&type=template&id=706b5065\"\nimport script from \"./born-complete-list.vue?vue&type=script&lang=js\"\nexport * from \"./born-complete-list.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}