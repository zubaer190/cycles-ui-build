(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e66c8"],{"994f":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c=Object(a["j"])(" Permissions ");function l(e,t,n,l,u,r){var o=Object(a["I"])("p-column"),d=Object(a["I"])("p-checkbox"),i=Object(a["I"])("p-data-table"),b=Object(a["I"])("p-button"),p=Object(a["I"])("p-card");return Object(a["A"])(),Object(a["g"])(p,{style:{width:"600px",margin:"auto"}},{title:Object(a["T"])((function(){return[c]})),content:Object(a["T"])((function(){return[Object(a["k"])(i,{value:l.permissions},{default:Object(a["T"])((function(){return[Object(a["k"])(o,{header:"App",field:"label"}),Object(a["k"])(o,{header:"Read",field:"read",style:{width:"80px"}},{header:Object(a["T"])((function(){return[Object(a["k"])(d,{modelValue:l.readAll,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.readAll=e}),binary:!0,class:"p-mr-1"},null,8,["modelValue"])]})),body:Object(a["T"])((function(e){var t=e.data;return[Object(a["k"])(d,{modelValue:t.read,"onUpdate:modelValue":function(e){return t.read=e},binary:!0},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(a["k"])(o,{header:"Create",field:"create",style:{width:"80px"}},{header:Object(a["T"])((function(){return[Object(a["k"])(d,{modelValue:l.createAll,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.createAll=e}),binary:!0,class:"p-mr-1"},null,8,["modelValue"])]})),body:Object(a["T"])((function(e){var t=e.data;return[Object(a["k"])(d,{modelValue:t.create,"onUpdate:modelValue":function(e){return t.create=e},binary:!0},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(a["k"])(o,{header:"Update",field:"update",style:{width:"80px"}},{header:Object(a["T"])((function(){return[Object(a["k"])(d,{modelValue:l.updateAll,"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.updateAll=e}),binary:!0,class:"p-mr-1"},null,8,["modelValue"])]})),body:Object(a["T"])((function(e){var t=e.data;return[Object(a["k"])(d,{modelValue:t.update,"onUpdate:modelValue":function(e){return t.update=e},binary:!0},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(a["k"])(o,{header:"Delete",field:"delete",style:{width:"80px"}},{header:Object(a["T"])((function(){return[Object(a["k"])(d,{modelValue:l.deleteAll,"onUpdate:modelValue":t[4]||(t[4]=function(e){return l.deleteAll=e}),binary:!0,class:"p-mr-1"},null,8,["modelValue"])]})),body:Object(a["T"])((function(e){var t=e.data;return[Object(a["k"])(d,{modelValue:t.delete,"onUpdate:modelValue":function(e){return t.delete=e},binary:!0},null,8,["modelValue","onUpdate:modelValue"])]})),_:1})]})),_:1},8,["value"])]})),footer:Object(a["T"])((function(){return[Object(a["k"])(b,{icon:"pi pi-check",label:"Save",onClick:l.save,loading:l.loading},null,8,["onClick","loading"])]})),_:1})}var u=n("2909"),r=n("5530"),o=(n("d81d"),n("4de4"),n("caad"),n("2532"),n("99af"),n("d3b7"),n("5502")),d=n("6c02"),i=n("d725"),b={setup:function(){var e=Object(o["b"])(),t=Object(d["c"])(),n=Object(a["F"])([]),c=Object(i["b"])(),l=Object(d["d"])(),b=Object(a["F"])(!1),p=Object(a["F"])(!1),j=Object(a["F"])(!1),O=Object(a["F"])(!1);Object(a["S"])(b,(function(e){n.value=n.value.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{read:e})}))})),Object(a["S"])(p,(function(e){n.value=n.value.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{create:e})}))})),Object(a["S"])(j,(function(e){n.value=n.value.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{update:e})}))})),Object(a["S"])(O,(function(e){n.value=n.value.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{delete:e})}))}));var f=Object(a["e"])((function(){return n.value.map((function(e){return e.appKey}))})),s=Object(a["e"])((function(){return e.state.maintanance.appKeyList.filter((function(e){return!f.value.includes(e.value)}))})),m=function(t){var a=t.map((function(e){return e.appKey})),c=e.state.maintanance.appKeyList.filter((function(e){return!a.includes(e.value)})).map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{appKey:e.value,create:!1,delete:!1,read:!1,update:!1})}));n.value=[].concat(Object(u["a"])(t),Object(u["a"])(c))},v=function(){e.dispatch("maintanance/getUserGroupPermissions",t.params.id).then((function(e){m(Object(u["a"])(e.permissions))})).catch((function(){m([])}))},h=Object(a["F"])(!1),V=function(){h.value=!0,e.dispatch("maintanance/saveUserGroupPermission",{gId:t.params.id,permissions:Object(u["a"])(n.value)}).then((function(t){c.require({message:"You need to re-login changes to take effect",header:"Re-login please",icon:"pi pi-info",accept:function(){e.dispatch("logout").then((function(){l.push({name:"Login"})}))}})})).finally((function(){h.value=!1}))},y=function(){e.dispatch("maintanance/getAppKeyList").then().catch((function(e){console.log(e)}))};return Object(a["y"])((function(){y(),v()})),{permissions:n,save:V,loading:h,appKeyOptions:s,readAll:b,createAll:p,updateAll:j,deleteAll:O}}},p=n("6b0d"),j=n.n(p);const O=j()(b,[["render",l]]);t["default"]=O}}]);
//# sourceMappingURL=chunk-2d0e66c8.9accaad9.js.map