(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b34d8776"],{6062:function(e,t,a){"use strict";var n=a("6d61"),l=a("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),l)},"6de3":function(e,t,a){},c159:function(e,t,a){"use strict";a("6de3")},e907:function(e,t,a){"use strict";a.r(t);a("b0c0"),a("fb6a");var n=a("7a23"),l=Object(n["Z"])("data-v-33466398");Object(n["E"])("data-v-33466398");var c={class:"page-container"},r={class:"header"},i={class:"p-mx-2 p-mb-3",style:{display:"flex","justify-content":"space-between"}},s={style:{display:"flex"}},o={class:"p-field p-grid"},u=Object(n["k"])("label",{for:"date",class:"p-col-fixed"},"Date",-1),d={key:0,style:{display:"flex","flex-direction":"column","margin-left":"10px"}},b={style:{"font-weight":"bold","margin-bottom":"2px"}},v={style:{"font-weight":"bold"}},p={style:{display:"flex"}},m={class:"p-field p-grid p-mr-4"},f=Object(n["k"])("label",{for:"nameFilter",class:"p-col-fixed"},"Filter by Name",-1),O={class:"p-field p-grid p-mr-4"},j=Object(n["k"])("label",{for:"fromDate",class:"p-col-fixed"},"From Date",-1),k={class:"p-field p-grid"},w=Object(n["k"])("label",{for:"toDate",class:"p-col-fixed"},"To Date",-1),x={class:"table-container"},h={class:"cell-container"},g={class:"cell-content"},y={class:"static-text wrapped-text"},D=Object(n["k"])("div",{class:"cell-content2"},[Object(n["k"])("div",null,[Object(n["k"])("span",{class:"static-texts"}," Val-1 :")]),Object(n["k"])("div",null,[Object(n["k"])("span",{class:"static-texts"}," Val-2 :")]),Object(n["k"])("div",null,[Object(n["k"])("span",{class:"static-texts"}," Comnt :")])],-1),_={class:"cell-content"},C={class:"cell-content2"},V={class:"static-text"},N={class:"static-text"},R={class:"static-text"},I={class:"static-text"},L={class:"static-text"},F={class:"static-text"};Object(n["C"])();var G=l((function(e,t,a,G,E,J){var S=Object(n["J"])("p-calendar"),T=Object(n["J"])("p-button"),A=Object(n["J"])("p-multi-select"),U=Object(n["J"])("p-column"),M=Object(n["J"])("p-input-text"),z=Object(n["J"])("p-data-table");return Object(n["B"])(),Object(n["g"])("div",c,[Object(n["k"])("div",r,[Object(n["k"])("div",i,[Object(n["k"])("div",s,[Object(n["k"])("div",o,[u,Object(n["k"])("div",null,[Object(n["k"])(S,{id:"date",modelValue:G.selectedDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return G.selectedDate=e}),dateFormat:"yy-mm-dd",showIcon:!0,class:"custom-calendar"},null,8,["modelValue"])])]),Object(n["k"])(T,{label:"Get Data",class:"p-ml-4",onClick:G.fetchData},null,8,["onClick"]),Object(n["k"])(T,{label:"Review",class:"p-ml-4",onClick:G.handleReview},null,8,["onClick"]),G.reviewData.reviewed_by&&G.reviewData.reviewed_at?(Object(n["B"])(),Object(n["g"])("div",d,[Object(n["k"])("span",b," Reviewed by: "+Object(n["N"])(G.reviewData.reviewed_by),1),Object(n["k"])("span",v," At: "+Object(n["N"])(G.reviewData.reviewed_at),1)])):Object(n["h"])("",!0)]),Object(n["k"])("div",p,[Object(n["k"])("div",m,[f,Object(n["k"])(A,{modelValue:G.selectedNames,"onUpdate:modelValue":t[2]||(t[2]=function(e){return G.selectedNames=e}),options:G.nameOptions,filter:!0,optionLabel:"label",optionValue:"value",placeholder:"Select Names",style:{width:"250px"}},null,8,["modelValue","options"])]),Object(n["k"])("div",O,[j,Object(n["k"])("div",null,[Object(n["k"])(S,{id:"fromDate",modelValue:G.fromDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return G.fromDate=e}),dateFormat:"yy-mm-dd",showIcon:!0,class:"custom-calendar"},null,8,["modelValue"])])]),Object(n["k"])("div",k,[w,Object(n["k"])("div",null,[Object(n["k"])(S,{id:"toDate",modelValue:G.toDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return G.toDate=e}),dateFormat:"yy-mm-dd",showIcon:!0,class:"custom-calendar"},null,8,["modelValue"])])]),Object(n["k"])(T,{label:"Export XLS",class:"p-ml-4",onClick:G.exportExcel},null,8,["onClick"])])])]),Object(n["k"])("div",x,[Object(n["k"])(z,{value:G.filteredLabMonForm,showGridlines:"",class:"p-datatable-sm p-mt-1 p-shadow-1",scrollable:!0,scrollDirection:"both",scrollHeight:"flex"},{default:l((function(){return[Object(n["k"])(U,{field:"name",header:"Name",frozen:"",alignFrozen:"left",style:{width:"200px",background:"#D3D3D3",zIndex:2}},{body:l((function(e){return[Object(n["k"])("div",h,[Object(n["k"])("div",g,[Object(n["k"])("span",y,Object(n["N"])(e.data.name.val)+" "+Object(n["N"])(e.data.name.ref?"["+e.data.name.ref+"]":""),1)]),D])]})),_:1}),(Object(n["B"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(G.filteredColumns,(function(e,t){return Object(n["B"])(),Object(n["g"])(U,{key:t,field:e,header:G.head_titles[e]?G.head_titles[e]:e.charAt(0).toUpperCase()+e.slice(1),style:{width:"200px"}},{body:l((function(a){return[Object(n["k"])("div",{class:["cell-container",{"bg-grey":G.disableInput(t+1,a.data[G.columns[0]].disabled_fields)}]},[Object(n["k"])("div",_,[Object(n["k"])(M,{value:a.data[e].val,disabled:G.disableInput(t+1,a.data[G.columns[0]].disabled_fields),class:"custom-input-text small-input",onChange:function(t){return G.updateValue(t,e,a.index)}},null,8,["value","disabled","onChange"]),Object(n["k"])(M,{value:a.data[e].val2,disabled:G.disableInput(t+1,a.data[G.columns[0]].disabled_fields),class:"custom-input-text small-input",onChange:function(t){return G.updateValue2(t,e,a.index)}},null,8,["value","disabled","onChange"]),Object(n["k"])(M,{value:a.data[e].comment,disabled:G.disableInput(t+1,a.data[G.columns[0]].disabled_fields),class:"custom-input-text small-input",onChange:function(t){return G.updateValueC(t,e,a.index)}},null,8,["value","disabled","onChange"])]),Object(n["k"])("div",C,[Object(n["k"])("div",null,[Object(n["k"])("span",V,Object(n["N"])(a.data[e].time),1),Object(n["k"])("span",N,Object(n["N"])(a.data[e].initial),1)]),Object(n["k"])("div",null,[Object(n["k"])("span",R,Object(n["N"])(a.data[e].time2),1),Object(n["k"])("span",I,Object(n["N"])(a.data[e].initial2),1)]),Object(n["k"])("div",null,[Object(n["k"])("span",L,Object(n["N"])(a.data[e].timeComm),1),Object(n["k"])("span",F,Object(n["N"])(a.data[e].initialComm),1)])])],2)]})),_:2},1032,["field","header"])})),128))]})),_:1},8,["value"])])])})),E=a("1da1"),J=(a("caad"),a("2532"),a("ac1f"),a("1276"),a("d3b7"),a("25f0"),a("b64b"),a("99af"),a("d81d"),a("a630"),a("3ca3"),a("6062"),a("ddb0"),a("4de4"),a("96cf"),a("c215")),S=a("db49"),T=(a("5fb0"),a("b166")),A=a("18cb"),U={setup:function(){var e=Object(A["b"])(),t=Object(n["G"])([]),a=Object(n["G"])((new Date).toLocaleDateString("en-CA")),l=Object(n["G"])((new Date).toLocaleDateString("en-CA")),c=Object(n["G"])((new Date).toLocaleDateString("en-CA")),r=Object(n["G"])([]),i=Object(n["G"])([]),s=Object(n["G"])({reviewed_by:"",reviewed_at:""}),o=function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=Object(T["a"])(new Date(a.value),"yyyy-MM-dd"),t.next=4,J["a"].post("lab-mon/audit",{date:n});case 4:b(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),403==t.t0.response.status&&e.add({severity:"error",summary:"Permission denied",detail:"You don't have permisssion to review",life:3e3});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),u=Object(n["G"])({co2:"Co2 (Ref: 6% - 7%)",temperature:"Temperature (Ref: 37+ - 0.5)",water_level:"Water Level (Ref: => 40%)",ln_level:"Ln Level",voc:"Voc Temperature",emb_temp:"Embryology Temperature",andro_temp:"Andrology Temperature",liquid_usagae:"Liquid Usage",ph:"PH (Ref: 7.22 - 7.38)"}),d=function(e,t){return null!==t&&t.split(",").includes(e.toString())},b=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var n,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(T["a"])(new Date(a.value),S["c"]),e.next=4,J["a"].get("lab-mon/data-v2",{params:{date:n}});case 4:l=e.sent,l.data&&(t.value=l.data.data,l.data.audit?s.value={reviewed_by:l.data.audit.reviewed_by,reviewed_at:l.data.audit.reviewed_at}:s.value={reviewed_by:null,reviewed_at:null}),r.value=Object.keys(t.value[0]||{}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("Error fetching data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t,n,l){var c,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(l>=0&&l<k.value.length)){e.next=12;break}return k.value[l][n].val=t.target.value,c=Object(T["a"])(new Date(a.value),S["c"]),r=1,e.next=6,J["a"].post("lab-mon/save",{name:k.value[l]["name"].val,value:k.value[l][n].val,colName:n,valType:r,date:c});case 6:i=e.sent,s=i.data,k.value[l][n].time=s.time,k.value[l][n].initial=s.initial,e.next=13;break;case 12:console.error("Invalid rowIndex: ".concat(l));case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t,n,l){var c,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(l>=0&&l<k.value.length)){e.next=12;break}return k.value[l][n].val2=t.target.value,c=Object(T["a"])(new Date(a.value),S["c"]),r=2,e.next=6,J["a"].post("lab-mon/save",{name:k.value[l]["name"].val,value:k.value[l][n].val2,colName:n,valType:r,date:c});case 6:i=e.sent,s=i.data,k.value[l][n].time2=s.time,k.value[l][n].initial2=s.initial,e.next=13;break;case 12:console.error("Invalid rowIndex: ".concat(l));case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t,n,l){var c,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(l>=0&&l<k.value.length)){e.next=12;break}return k.value[l][n].comment=t.target.value,c=Object(T["a"])(new Date(a.value),S["c"]),r=3,e.next=6,J["a"].post("lab-mon/save",{name:k.value[l]["name"].val,value:k.value[l][n].comment,colName:n,valType:r,date:c});case 6:i=e.sent,s=i.data,k.value[l][n].timeComm=s.time,k.value[l][n].initialComm=s.initial,e.next=13;break;case 12:console.error("Invalid rowIndex: ".concat(l));case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(T["a"])(new Date(l.value),S["c"]),a=Object(T["a"])(new Date(c.value),S["c"]),e.next=5,J["a"].get("lab-mon/export",{params:{fromDate:t,toDate:a,selectedNames:i.value}});case 5:n=e.sent,n.data&&n.data.filePath?(r="".concat(S["g"],"/").concat(n.data.filePath),window.open(r,"_blank")):console.error("Export link not found in response."),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("Error exporting data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),O=Object(n["e"])((function(){return Array.from(new Set(t.value.map((function(e){return e.name.val})))).map((function(e){return{label:e,value:e}}))})),j=Object(n["e"])((function(){return r.value?r.value.filter((function(e){return"name"!==e})):[]})),k=Object(n["e"])((function(){return i.value.length>0?t.value.filter((function(e){return i.value.includes(e.name.val)})):t.value}));return Object(n["U"])(a,b),Object(n["z"])((function(){b()})),{labMonForm:t,disableInput:d,filteredLabMonForm:k,columns:r,filteredColumns:j,head_titles:u,selectedDate:a,fromDate:l,toDate:c,fetchData:b,updateValue:v,updateValue2:p,updateValueC:m,exportExcel:f,selectedNames:i,nameOptions:O,reviewData:s,handleReview:o}}},M=(a("c159"),a("6b0d")),z=a.n(M);const B=z()(U,[["render",G],["__scopeId","data-v-33466398"]]);t["default"]=B}}]);
//# sourceMappingURL=chunk-b34d8776.bb3b53ee.js.map