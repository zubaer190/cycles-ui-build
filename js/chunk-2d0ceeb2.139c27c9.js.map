{"version":3,"sources":["webpack:///./src/views/users/update-password.vue","webpack:///./src/views/users/update-password.vue?a037"],"names":["class","for","title","content","form","username","options","users","optionValue","optionLabel","errorMsg","_401","submitted","newPassword","toggleMask","feedback","_400","confirmPassword","footer","label","loading","isLoading","submit","back","setup","store","toast","route","router","_404","state","value","dispatch","then","add","severity","summary","detail","life","catch","err","response","status","data","message","finally","query","go","__exports__","render"],"mappings":"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","file":"js/chunk-2d0ceeb2.139c27c9.js","sourcesContent":["<template>\r\n    <p-toast />\r\n    <div class=\"p-grid\">\r\n        <div class=\"p-col-12 p-md-6 p-lg-4 p-md-offset-3 p-lg-offset-4 p-mt-5\">\r\n            <p-card>\r\n                <template #title> Update Password </template>\r\n                <template #content>\r\n                    <div class=\"p-fluid\">\r\n                        <div class=\"p-field\">\r\n                            <label for=\"lastname\">User</label>\r\n                            <p-dropdown\r\n                                v-model=\"form.username\"\r\n                                :options=\"users\"\r\n                                optionValue=\"username\"\r\n                                optionLabel=\"name\"\r\n                            />\r\n                        </div>\r\n                        <div\r\n                            v-if=\"errorMsg._401 !== null && submitted\"\r\n                            class=\"p-field p-error\"\r\n                        >\r\n                            {{ errorMsg._401 }}\r\n                        </div>\r\n\r\n                        <div class=\"p-field\">\r\n                            <label for=\"lastname\">New Password</label>\r\n                            <p-password\r\n                                v-model=\"form.newPassword\"\r\n                                toggleMask\r\n                                :feedback=\"false\"\r\n                                class=\"p-inputtext-lg\"\r\n                                :class=\"{ 'p-invalid': errorMsg._400 !== null }\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div class=\"p-field\">\r\n                            <label for=\"lastname\">Confirm Password</label>\r\n                            <p-password\r\n                                v-model=\"form.confirmPassword\"\r\n                                toggleMask\r\n                                :feedback=\"false\"\r\n                                class=\"p-inputtext-lg\"\r\n                                :class=\"{ 'p-invalid': errorMsg._400 !== null }\"\r\n                            />\r\n                        </div>\r\n                        <div\r\n                            v-if=\"errorMsg._400 !== null && submitted\"\r\n                            class=\"p-field p-error\"\r\n                        >\r\n                            {{ errorMsg._400 }}\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n                <template #footer>\r\n                    <p-button\r\n                        label=\"Submit\"\r\n                        :loading=\"isLoading\"\r\n                        @click=\"submit\"\r\n                        class=\"p-mr-2\"\r\n                    />\r\n\r\n                    <p-button label=\"Back\" @click=\"back\" />\r\n                </template>\r\n            </p-card>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted, reactive, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useToast } from \"primevue/usetoast\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n    setup() {\r\n        const store = useStore();\r\n        const toast = useToast();\r\n        const route = useRoute();\r\n        const router = useRouter();\r\n\r\n        const form = reactive({\r\n            username: null,\r\n            newPassword: null,\r\n            confirmPassword: null\r\n        });\r\n\r\n        const isLoading = ref(false);\r\n        const errorMsg = reactive({\r\n            _401: null,\r\n            _404: null,\r\n            _400: null\r\n        });\r\n\r\n        const users = computed(() => store.state.users.users);\r\n\r\n        const submitted = ref(false);\r\n        const submit = () => {\r\n            isLoading.value = true;\r\n            submitted.value = true;\r\n            store\r\n                .dispatch(\"users/updatePasswordAdmin\", {\r\n                    ...form\r\n                })\r\n                .then(() => {\r\n                    toast.add({\r\n                        severity: \"success\",\r\n                        summary: \"Success\",\r\n                        detail: \"Password Change Successfully\",\r\n                        life: 3000\r\n                    });\r\n                    form.username = null;\r\n                    form.newPassword = null;\r\n                    form.confirmPassword = null;\r\n                })\r\n                .catch((err) => {\r\n                    // Show error toast\r\n                    toast.add({\r\n                        severity: \"danger\",\r\n                        summary: \"Error\",\r\n                        detail: \"An error occurred\",\r\n                        life: 3000\r\n                    });\r\n\r\n                    if (err.response.status == 404) {\r\n                        errorMsg._404 = err.response.data.message;\r\n                        errorMsg._401 = null;\r\n                    } else if (err.response.status == 401) {\r\n                        errorMsg._401 = err.response.data.message;\r\n                    } else if (err.response.status == 400) {\r\n                        errorMsg._400 = err.response.data.message;\r\n                        errorMsg._401 = null;\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    isLoading.value = false;\r\n                });\r\n        };\r\n\r\n        onMounted(() => {\r\n            if (route.query.username) {\r\n                form.username = route.query.username;\r\n            }\r\n\r\n            store.dispatch(\"users/getUsers\");\r\n        });\r\n\r\n        return {\r\n            form,\r\n            submit,\r\n            users,\r\n            submitted,\r\n            isLoading,\r\n            errorMsg,\r\n            back: () => {\r\n                router.go(-1);\r\n            }\r\n        };\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./update-password.vue?vue&type=template&id=8c014520\"\nimport script from \"./update-password.vue?vue&type=script&lang=js\"\nexport * from \"./update-password.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}