{"version":3,"sources":["webpack:///./src/views/third-party.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/views/third-party.vue?edbf","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/vue-demi/lib/index.mjs","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["style","class","for","value","thirdPartyData","responsiveLayout","showGridlines","dataKey","selection","selectedRow","selectionMode","onRowSelect","redirectToPatient","footer","label","create","editSelectedRow","deleteThirdPartyConfirm","openPdfReportStandard","type","headerStyle","header","selectAllCheckbox","binary","selectAllOnChange","body","data","checkList","name","dId","field","visible","thirdPartyAddDialogue","modal","dialogMode","newEntry","cycleId","disabled","donationType","options","thirdPartyOpts","optionLabel","optionValue","number","donatedToId","suggestions","donatedToOpts","donatedToSuggestions","$event","saveEntry","cancelDialogue","deleteThirdPartyDialogue","deleteThirdParty","cancelThirdPartyDialogue","_typeof","obj","Symbol","iterator","constructor","prototype","setup","store","toast","router","donatedTo","fetchThirdPartyData","state","artCycle","patient","patientId","id","get","response","list","console","error","findIndexById","findIndex","item","event","map","selectedCycle","resetNewEntry","add","severity","summary","detail","life","log","payload","demographicNo","post","then","put","isValidEntry","entry","idToDelete","delete","index","splice","searchDemographic","term","query","trim","sex","toLowerCase","resp","queryParam","isDonor","to","donarId","push","__exports__","render","$","$trim","forcedStringTrimMethod","target","proto","forced","this","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","fails","non","METHOD_NAME"],"mappings":"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","file":"js/chunk-95ed983a.fddd0f79.js","sourcesContent":["<template>\r\n    <p-data-table\r\n        :value=\"thirdPartyData\"\r\n        responsiveLayout=\"scroll\"\r\n        showGridlines\r\n        class=\"p-datatable-sm p-mt-1 p-shadow-1\"\r\n        dataKey=\"dId\"\r\n        v-model:selection=\"selectedRow\"\r\n        selectionMode=\"single\"\r\n        @row-select=\"onRowSelect\"\r\n        @row-dblclick=\"redirectToPatient\"\r\n    >\r\n        <h3 style=\"padding: 5px 0px 5px 10px\">Third Party Donations</h3>\r\n        <p-column-group type=\"header\">\r\n            <p-row>\r\n                <p-column\r\n                    headerStyle=\"width: 3em; max-width: 3rem\"\r\n                    style=\"width: 3em; max-width: 3rem\"\r\n                >\r\n                    <template #header>\r\n                        <p-checkbox\r\n                            v-model=\"selectAllCheckbox\"\r\n                            :binary=\"true\"\r\n                            @change=\"selectAllOnChange\"\r\n                        />\r\n                    </template>\r\n                </p-column>\r\n\r\n                <p-column header=\"Donar ID\" />\r\n                <p-column header=\"Donar Name\" />\r\n                <p-column header=\"Donar DOB\" />\r\n                <p-column header=\"Donar Patient Doctor\" />\r\n                <p-column header=\"Cycle ID\" />\r\n                <p-column header=\"Recepient ID\" />\r\n                <p-column header=\"Recepient Name\" />\r\n                <p-column header=\"Recepient DOB\" />\r\n                <p-column header=\"Recepient Patient Doctor\" />\r\n                <p-column header=\"Date\" />\r\n                <p-column header=\"Number\" />\r\n                <p-column header=\"Donation Type\" />\r\n            </p-row>\r\n        </p-column-group>\r\n\r\n        <p-column\r\n            headerStyle=\"width: 3em; max-width: 3rem\"\r\n            style=\"width: 3em; max-width: 3rem\"\r\n        >\r\n            <template #body=\"{data}\">\r\n                <p-checkbox\r\n                    v-model=\"checkList\"\r\n                    :name=\"data.dId\"\r\n                    :value=\"data.dId\"\r\n                />\r\n            </template>\r\n        </p-column>\r\n\r\n        <p-column field=\"donarId\" />\r\n        <p-column field=\"donarName\" />\r\n        <p-column field=\"donarDOB\" />\r\n        <p-column field=\"donorPatientDoctor\" />\r\n        <p-column field=\"cycleId\" />\r\n        <p-column field=\"donatedToId\" />\r\n        <p-column field=\"donatedtoName\" />\r\n        <p-column field=\"donatedtoDOB\" />\r\n        <p-column field=\"donatedtoPatientDoctor\" />\r\n        <p-column field=\"dDate\" />\r\n        <p-column field=\"number\" />\r\n        <p-column field=\"donationType\" />\r\n\r\n        <template #footer>\r\n            <p-button\r\n                label=\"Create\"\r\n                class=\"p-mr-2 p-button-success\"\r\n                @click=\"create\"\r\n            />\r\n            <p-button label=\"Edit\" class=\"p-mr-2\" @click=\"editSelectedRow\" />\r\n            <p-button\r\n                label=\"Delete\"\r\n                class=\"p-mr-2 p-button-danger\"\r\n                @click=\"deleteThirdPartyConfirm\"\r\n            />\r\n\r\n            <p-button\r\n                label=\"PDF Reports\"\r\n                class=\"p-mr-2 p-button-secondary\"\r\n                @click=\"openPdfReportStandard\"\r\n            />\r\n        </template>\r\n    </p-data-table>\r\n    <p-dialog\r\n        v-model:visible=\"thirdPartyAddDialogue\"\r\n        modal\r\n        :header=\"dialogMode === 'Add' ? 'Add' : 'Edit'\"\r\n        :style=\"{ width: '30rem' }\"\r\n    >\r\n        <div>\r\n            <div class=\"p-field p-grid\" style=\"margin-bottom: 10px;\">\r\n                <label for=\"cycleId\" class=\"p-col-4 p-mb-0\">\r\n                    Cycle ID\r\n                </label>\r\n                <div class=\"p-col\">\r\n                    <p-input-text v-model=\"newEntry.cycleId\" :disabled=\"true\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"p-field p-grid\" style=\"margin-bottom: 10px;\">\r\n                <label for=\"firstname\" class=\"p-col-4 p-mb-0\">\r\n                    Third Party Type\r\n                </label>\r\n                <div class=\"p-col\">\r\n                    <p-dropdown\r\n                        v-model=\"newEntry.donationType\"\r\n                        style=\"width: 188px;\"\r\n                        :options=\"thirdPartyOpts\"\r\n                        optionLabel=\"label\"\r\n                        optionValue=\"value\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div class=\"p-field p-grid\" style=\"margin-bottom: 10px;\">\r\n                <label for=\"number\" class=\"p-col-4 p-mb-0\">\r\n                    Number\r\n                </label>\r\n                <div class=\"p-col\">\r\n                    <p-input-text v-model=\"newEntry.number\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"p-field p-grid\" style=\"margin-bottom: 10px;\">\r\n                <label for=\"donatedTo\" class=\"p-col-4 p-mb-0\">\r\n                    Donated To\r\n                </label>\r\n                <div class=\"p-col\">\r\n                    <p-auto-complete\r\n                        v-model=\"newEntry.donatedToId\"\r\n                        :suggestions=\"donatedToOpts\"\r\n                        @complete=\"donatedToSuggestions($event)\"\r\n                        field=\"label\"\r\n                        optionLabel=\"label\"\r\n                        optionValue=\"demographicNo\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div style=\"margin-top: 30px;\">\r\n            <p-button\r\n                label=\"Save\"\r\n                class=\"p-button-success p-mr-2\"\r\n                @click=\"saveEntry\"\r\n            />\r\n            <p-button\r\n                label=\"Cancel\"\r\n                class=\"p-mr-2 p-button-outlined p-button-danger\"\r\n                @click=\"cancelDialogue\"\r\n            />\r\n        </div>\r\n    </p-dialog>\r\n    <p-dialog\r\n        v-model:visible=\"deleteThirdPartyDialogue\"\r\n        modal\r\n        header=\"Delete Third Party !!\"\r\n        :style=\"{ width: '30rem' }\"\r\n    >\r\n        <p>\r\n            Are you sure you want to delete?\r\n        </p>\r\n        <p-button\r\n            label=\"Yes\"\r\n            class=\"p-button-danger p-mr-2\"\r\n            @click=\"deleteThirdParty\"\r\n        />\r\n        <p-button label=\"No\" class=\"p-mr-2\" @click=\"cancelThirdPartyDialogue\" />\r\n    </p-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue-demi\";\r\nimport { $axios } from \"@/service/app-http\";\r\nimport Service from \"@/service/art-cycle.js\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { useToast } from \"primevue/usetoast\";\r\nimport { onMounted } from \"vue\";\r\n\r\nexport default {\r\n    setup() {\r\n        const store = useStore();\r\n        const toast = useToast();\r\n        const router = useRouter();\r\n        const selectAllCheckbox = ref(false);\r\n        const donatedTo = ref();\r\n        const donatedToOpts = ref([]);\r\n        const thirdPartyData = ref([]);\r\n\r\n        const fetchThirdPartyData = async () => {\r\n            if (store.state.artCycle.patient) {\r\n                const patientId = store.state.artCycle.patient.id;\r\n                try {\r\n                    const response = await $axios.get(\r\n                        `third-party/list/${patientId}`\r\n                    );\r\n                    thirdPartyData.value = response.data.list;\r\n                } catch (error) {\r\n                    console.error(\"Error fetching third-party data:\", error);\r\n                }\r\n            }\r\n        };\r\n\r\n        const selectedRow = ref(null);\r\n        const checkList = ref([]);\r\n\r\n        const findIndexById = (id) => {\r\n            return thirdPartyData.value.findIndex((item) => item.id === id);\r\n        };\r\n\r\n        const onRowSelect = (event) => {\r\n            selectedRow.value = { ...event.data };\r\n        };\r\n\r\n        const selectAllOnChange = () => {\r\n            if (selectAllCheckbox.value) {\r\n                checkList.value = thirdPartyData.value.map((item) => item.id);\r\n            } else {\r\n                checkList.value = [];\r\n            }\r\n        };\r\n\r\n        const thirdPartyAddDialogue = ref(false);\r\n\r\n        const newEntry = ref({\r\n            dId: 0,\r\n            cycleId: null,\r\n            donatedToId: null,\r\n            number: null,\r\n            donationType: null\r\n        });\r\n\r\n        const cancelDialogue = () => {\r\n            thirdPartyAddDialogue.value = false;\r\n        };\r\n\r\n        const create = () => {\r\n            if (\r\n                store.state.artCycle.selectedCycle &&\r\n                store.state.artCycle.selectedCycle.cycleId\r\n            ) {\r\n                dialogMode.value = \"Add\";\r\n                resetNewEntry();\r\n                newEntry.value.cycleId =\r\n                    store.state.artCycle.selectedCycle.cycleId;\r\n                thirdPartyAddDialogue.value = true;\r\n            } else {\r\n                toast.add({\r\n                    severity: \"warn\",\r\n                    summary: \"Error\",\r\n                    detail: \"Please select cycle first\",\r\n                    life: 3000\r\n                });\r\n            }\r\n        };\r\n\r\n        const saveEntry = () => {\r\n            console.log(newEntry.value);\r\n\r\n            const payload = newEntry.value;\r\n\r\n            if (\r\n                payload.donatedToId &&\r\n                typeof payload.donatedToId === \"object\" &&\r\n                payload.donatedToId.demographicNo\r\n            ) {\r\n                payload.donatedToId = payload.donatedToId.demographicNo;\r\n            }\r\n\r\n            if (newEntry.value.dId === 0) {\r\n                $axios.post(`third-party/add`, payload).then(() => {\r\n                    fetchThirdPartyData();\r\n                });\r\n            } else {\r\n                $axios\r\n                    .put(`third-party/update/${newEntry.value.dId}`, payload)\r\n                    .then(() => {\r\n                        fetchThirdPartyData();\r\n                    });\r\n            }\r\n            resetNewEntry();\r\n            thirdPartyAddDialogue.value = false;\r\n        };\r\n\r\n        const resetNewEntry = () => {\r\n            newEntry.value = {\r\n                dId: 0,\r\n                cycleId: null,\r\n                donatedToId: null,\r\n                number: null,\r\n                donationType: null\r\n            };\r\n        };\r\n\r\n        const isValidEntry = (entry) => {\r\n            return true;\r\n        };\r\n\r\n        const editSelectedRow = () => {\r\n            if (selectedRow.value) {\r\n                newEntry.value = {\r\n                    dId: selectedRow.value.dId,\r\n                    cycleId: selectedRow.value.cycleId,\r\n                    donatedToId: selectedRow.value.donatedToId,\r\n                    number: selectedRow.value.number,\r\n                    donationType: selectedRow.value.donationType\r\n                };\r\n\r\n                dialogMode.value = \"Edit\";\r\n                thirdPartyAddDialogue.value = true;\r\n            }\r\n        };\r\n\r\n        const deleteThirdPartyDialogue = ref(false);\r\n\r\n        const deleteThirdPartyConfirm = () => {\r\n            deleteThirdPartyDialogue.value = true;\r\n        };\r\n\r\n        const deleteThirdParty = () => {\r\n            if (selectedRow.value) {\r\n                const idToDelete = selectedRow.value.dId;\r\n                $axios.delete(`third-party/delete/${idToDelete}`).then(() => {\r\n                    const index = findIndexById(idToDelete);\r\n                    if (index !== -1) {\r\n                        thirdPartyData.value.splice(index, 1);\r\n                        selectedRow.value = null;\r\n                    }\r\n                    toast.add({\r\n                        severity: \"success\",\r\n                        summary: \"Success\",\r\n                        detail: \"Third party data deleted successfully\",\r\n                        life: 3000\r\n                    });\r\n                    fetchThirdPartyData();\r\n                });\r\n            }\r\n\r\n            deleteThirdPartyDialogue.value = false;\r\n        };\r\n\r\n        const cancelThirdPartyDialogue = () => {\r\n            deleteThirdPartyDialogue.value = false;\r\n        };\r\n\r\n        const dialogMode = ref(\"Add\");\r\n\r\n        const donatedToSuggestions = (event) => {\r\n            Service.searchDemographic({\r\n                term: event.query.trim(),\r\n                sex: \"F\".toLowerCase()\r\n            }).then((resp) => {\r\n                donatedToOpts.value = resp.data;\r\n            });\r\n        };\r\n\r\n        const thirdPartyOpts = [\r\n            { label: \"Egg Donor\", value: \"Egg Donor\" },\r\n            { label: \"Embyro Donor\", value: \"Embryo Donor\" },\r\n            { label: \"Sperm Donor\", value: \"Sperm Donor\" },\r\n            { label: \"Gestational Carrier\", value: \"Gestational Carrier\" }\r\n        ];\r\n\r\n        const openPdfReportStandard = () => {};\r\n        onMounted(() => {\r\n            fetchThirdPartyData();\r\n        });\r\n        return {\r\n            selectAllCheckbox,\r\n            thirdPartyData,\r\n            selectedRow,\r\n            checkList,\r\n            onRowSelect,\r\n            openPdfReportStandard,\r\n            thirdPartyAddDialogue,\r\n            cancelDialogue,\r\n            create,\r\n            donatedToSuggestions,\r\n            thirdPartyOpts,\r\n            newEntry,\r\n            saveEntry,\r\n            resetNewEntry,\r\n            isValidEntry,\r\n            selectAllOnChange,\r\n            editSelectedRow,\r\n            dialogMode,\r\n            deleteThirdParty,\r\n            deleteThirdPartyDialogue,\r\n            deleteThirdPartyConfirm,\r\n            cancelThirdPartyDialogue,\r\n            donatedToOpts,\r\n            donatedTo,\r\n            fetchThirdPartyData,\r\n            redirectToPatient: () => {\r\n                if (selectedRow.value) {\r\n                    let queryParam = null;\r\n                    if (\r\n                        selectedRow.value.isDonor === \"donor\" &&\r\n                        selectedRow.value.donatedToId\r\n                    ) {\r\n                        queryParam = {\r\n                            patientId: selectedRow.value.donatedToId,\r\n                            to: \"cycle-monitoring\"\r\n                        };\r\n                    } else if (selectedRow.value.donarId) {\r\n                        queryParam = {\r\n                            patientId: selectedRow.value.donarId,\r\n                            cycleId: selectedRow.value.cycleId,\r\n                            to: \"cycle-monitoring\"\r\n                        };\r\n                    }\r\n\r\n                    if (queryParam != null) {\r\n                        router.push({\r\n                            name: \"redirect\",\r\n                            query: queryParam\r\n                        }); // zubaer added this\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import { render } from \"./third-party.vue?vue&type=template&id=cd639364\"\nimport script from \"./third-party.vue?vue&type=script&lang=js\"\nexport * from \"./third-party.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","import * as Vue from 'vue'\n\nvar isVue2 = false\nvar isVue3 = true\nvar Vue2 = undefined\n\nfunction install() {}\n\nexport function set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key)\n    target.splice(key, 1, val)\n    return val\n  }\n  target[key] = val\n  return val\n}\n\nexport function del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1)\n    return\n  }\n  delete target[key]\n}\n\nexport * from 'vue'\nexport {\n  Vue,\n  Vue2,\n  isVue2,\n  isVue3,\n  install,\n}\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n"],"sourceRoot":""}