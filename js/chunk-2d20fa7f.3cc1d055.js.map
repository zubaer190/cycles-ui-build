{"version":3,"sources":["webpack:///./src/views/users/change-password.vue","webpack:///./src/views/users/change-password.vue?c6ae"],"names":["class","for","title","content","form","oldPassword","toggleMask","feedback","errorMsg","_401","submitted","newPassword","_400","confirmPassword","footer","label","loading","isLoading","submit","back","setup","store","toast","_404","value","dispatch","username","state","user","then","add","severity","summary","detail","life","catch","err","response","status","data","message","finally","router","go","__exports__","render"],"mappings":"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","file":"js/chunk-2d20fa7f.3cc1d055.js","sourcesContent":["<template>\r\n    <p-toast />\r\n    <div class=\"p-grid\">\r\n        <div class=\"p-col-12 p-md-6 p-lg-4 p-md-offset-3 p-lg-offset-4 p-mt-5\">\r\n            <p-card>\r\n                <template #title> Change Password </template>\r\n                <template #content>\r\n                    <div class=\"p-fluid\">\r\n                        <div class=\"p-field\">\r\n                            <label for=\"lastname\">Old Password</label>\r\n                            <p-password\r\n                                v-model=\"form.oldPassword\"\r\n                                toggleMask\r\n                                :feedback=\"false\"\r\n                                class=\"p-inputtext-lg\"\r\n                                :class=\"{ 'p-invalid': errorMsg._401 !== null }\"\r\n                            />\r\n                        </div>\r\n                        <div\r\n                            v-if=\"errorMsg._401 !== null && submitted\"\r\n                            class=\"p-field p-error\"\r\n                        >\r\n                            {{ errorMsg._401 }}\r\n                        </div>\r\n\r\n                        <div class=\"p-field\">\r\n                            <label for=\"lastname\">New Password</label>\r\n                            <p-password\r\n                                v-model=\"form.newPassword\"\r\n                                toggleMask\r\n                                :feedback=\"false\"\r\n                                class=\"p-inputtext-lg\"\r\n                                :class=\"{ 'p-invalid': errorMsg._400 !== null }\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div class=\"p-field\">\r\n                            <label for=\"lastname\">Confirm Password</label>\r\n                            <p-password\r\n                                v-model=\"form.confirmPassword\"\r\n                                toggleMask\r\n                                :feedback=\"false\"\r\n                                class=\"p-inputtext-lg\"\r\n                                :class=\"{ 'p-invalid': errorMsg._400 !== null }\"\r\n                            />\r\n                        </div>\r\n                        <div\r\n                            v-if=\"errorMsg._400 !== null && submitted\"\r\n                            class=\"p-field p-error\"\r\n                        >\r\n                            {{ errorMsg._400 }}\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n                <template #footer>\r\n                    <p-button\r\n                        label=\"Submit\"\r\n                        :loading=\"isLoading\"\r\n                        @click=\"submit\"\r\n                        class=\"p-mr-2\"\r\n                    />\r\n\r\n                    <p-button label=\"Back\" @click=\"back\" />\r\n                </template>\r\n            </p-card>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useToast } from \"primevue/usetoast\";\r\nimport { useRouter } from \"vue-router\";\r\nimport router from \"@/router\";\r\n\r\nexport default {\r\n    setup() {\r\n        const store = useStore();\r\n        const toast = useToast();\r\n        const rourter = useRouter();\r\n\r\n        const form = reactive({\r\n            oldPassword: null,\r\n            newPassword: null,\r\n            confirmPassword: null\r\n        });\r\n\r\n        const isLoading = ref(false);\r\n        const errorMsg = reactive({\r\n            _401: null,\r\n            _404: null,\r\n            _400: null\r\n        });\r\n\r\n        const submitted = ref(false);\r\n        const submit = () => {\r\n            isLoading.value = true;\r\n            submitted.value = true;\r\n            store\r\n                .dispatch(\"users/updatePassword\", {\r\n                    username: store.state.user.username,\r\n                    ...form\r\n                })\r\n                .then(() => {\r\n                    toast.add({\r\n                        severity: \"success\",\r\n                        summary: \"Success\",\r\n                        detail: \"Password Change Successfully\",\r\n                        life: 3000\r\n                    });\r\n                    form.oldPassword = null;\r\n                    form.newPassword = null;\r\n                    form.confirmPassword = null;\r\n                })\r\n                .catch((err) => {\r\n                    // Show error toast\r\n                    toast.add({\r\n                        severity: \"error\",\r\n                        summary: \"Error\",\r\n                        detail: \"The password must be at least 6 characters long and at least one special character\",\r\n                        life: 3000\r\n                    });\r\n                    \r\n                    if (err.response.status == 404) {\r\n                        errorMsg._404 = err.response.data.message;\r\n                        errorMsg._401 = null;\r\n                    } else if (err.response.status == 401) {\r\n                        errorMsg._401 = err.response.data.message;\r\n                    } else if (err.response.status == 400) {\r\n                        errorMsg._400 = err.response.data.message;\r\n                        errorMsg._401 = null;\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    isLoading.value = false;\r\n                });\r\n        };\r\n\r\n        return {\r\n            form,\r\n            submit,\r\n            submitted,\r\n            isLoading,\r\n            errorMsg,\r\n            back: () => {\r\n                router.go(-1);\r\n            }\r\n        };\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./change-password.vue?vue&type=template&id=7ffdeca8\"\nimport script from \"./change-password.vue?vue&type=script&lang=js\"\nexport * from \"./change-password.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}