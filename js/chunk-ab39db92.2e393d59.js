(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab39db92"],{"04b3":function(e,t,l){"use strict";var o=l("7a23"),a=Object(o["Z"])("data-v-fab920e0");Object(o["E"])("data-v-fab920e0");var n={class:"p-grid"},c={class:"p-md-7"},s={class:"p-fluid p-formgrid p-grid p-mt-2"},i={class:"p-field p-col"},d=Object(o["k"])("label",{for:"bt-comments"},"BT Commnents",-1),r={class:"p-field p-col"},u=Object(o["k"])("label",{for:"label"},"Label",-1),b=Object(o["k"])("label",{for:"blood-machine",class:"p-mt-2"}," Blood Machine ",-1),p={class:"p-md-5"};Object(o["C"])();var f=a((function(e,t,l,f,O,m){var j=Object(o["J"])("blood-test-dialog-patient-info"),v=Object(o["J"])("blood-test-dialog-test-info"),h=Object(o["J"])("blood-test-dialog-barcode"),y=Object(o["J"])("p-textarea"),g=Object(o["J"])("p-input-text"),k=Object(o["J"])("p-dropdown"),I=Object(o["J"])("blood-test-dialog-test-selection"),T=Object(o["J"])("p-button"),S=Object(o["J"])("p-dialog");return Object(o["B"])(),Object(o["g"])(S,{header:"Add",visible:f.orderBloodTestDialog,"onUpdate:visible":t[5]||(t[5]=function(e){return f.orderBloodTestDialog=e}),style:{width:"960px"},modal:!0,class:"p-inputtext-sm p-input-filled",onShow:f.resetForm},{default:a((function(){return[Object(o["k"])("div",n,[Object(o["k"])("div",c,[Object(o["k"])(j),Object(o["k"])(v),Object(o["W"])(Object(o["k"])(h,null,null,512),[[o["T"],!1]]),Object(o["W"])(Object(o["k"])("div",s,[Object(o["k"])("div",i,[d,Object(o["k"])(y,{modelValue:f.form.btComments,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.form.btComments=e}),id:"bt-comments",rows:"5"},null,8,["modelValue"])]),Object(o["k"])("div",r,[u,Object(o["k"])(g,{modelValue:f.form.label,"onUpdate:modelValue":t[2]||(t[2]=function(e){return f.form.label=e}),id:"label"},null,8,["modelValue"]),b,Object(o["k"])(k,{modelValue:f.form.bloodMachine,"onUpdate:modelValue":t[3]||(t[3]=function(e){return f.form.bloodMachine=e}),id:"blood-machine",options:f.bloodMachineOptions},null,8,["modelValue","options"])])],512),[[o["T"],!1]])]),Object(o["k"])("div",p,[Object(o["k"])(I)])]),Object(o["k"])(T,{label:"Order Test",class:"p-button-success p-mr-2",onClick:f.changeDoctorConfirmation,loading:f.loading},null,8,["onClick","loading"]),Object(o["k"])(T,{label:"Cancel",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return f.orderBloodTestDialog=!1})})]})),_:1},8,["visible","onShow"])})),O=l("258a"),m=l("5fb0"),j={class:"p-datatable p-component p-datatable-responsive-scroll p-datatable-sm p-mt-1","data-scrollselectors":".p-datatable-wrapper"},v={class:"p-datatable-wrapper"},h={role:"table",class:"p-datatable-table"},y={class:"p-datatable-thead",role:"rowgroup"},g={role:"row"},k=Object(o["k"])("th",{style:{width:"120px"}},[Object(o["k"])("div",{class:"p-column-header-content"},[Object(o["k"])("span",{class:"p-column-title"}," Cycle ")])],-1),I={colspan:"4"},T={class:"p-column-header-content"},S={key:0,style:{color:"red","margin-left":"5px"}},C={class:"p-datatable-tbody",role:"rowgroup"},w={class:"",role:"row"},V=Object(o["k"])("td",{style:{width:"120px"}}," First Name ",-1),B={colspan:"4"},D={class:"",role:"row"},x=Object(o["k"])("td",{style:{width:"120px"}}," Last Name ",-1),G={colspan:"4"},N={class:"",role:"row"},J=Object(o["k"])("td",{style:{width:"120px"}}," Birth Date ",-1),L=Object(o["k"])("td",{style:{width:"80px"}}," Age ",-1),U={class:"",role:"row"},P=Object(o["k"])("td",{style:{width:"120px"}}," Health Card ",-1),R=Object(o["k"])("td",{style:{width:"80px"}}," Gender ",-1),A={class:"",role:"row"},_=Object(o["k"])("td",{style:{width:"120px"}}," Tel ",-1),M={colspan:"4"},F=Object(o["k"])("div",{class:"p-column-resizer-helper",style:{display:"none"}},null,-1);function E(e,t,l,a,n,c){var s=Object(o["J"])("p-dropdown");return Object(o["B"])(),Object(o["g"])("div",j,[Object(o["k"])("div",v,[Object(o["k"])("table",h,[Object(o["k"])("thead",y,[Object(o["k"])("tr",g,[k,Object(o["k"])("th",I,[Object(o["k"])("div",T,[Object(o["k"])(s,{modelValue:a.form.cycleId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.form.cycleId=e}),options:a.cycleOptions,optionLabel:"label",optionValue:"value",class:["w-full",{"p-invalid":a.isCycleIdValid}],disabled:1===a.isCycle},null,8,["modelValue","options","disabled","class"]),a.isCycleIdValid?(Object(o["B"])(),Object(o["g"])("small",S," Cycle ID required ")):Object(o["h"])("",!0)])])])]),Object(o["k"])("tbody",C,[Object(o["k"])("tr",w,[V,Object(o["k"])("td",B,Object(o["N"])(a.patient.firstName),1)]),Object(o["k"])("tr",D,[x,Object(o["k"])("td",G,Object(o["N"])(a.patient.lastName),1)]),Object(o["k"])("tr",N,[J,Object(o["k"])("td",null,Object(o["N"])(a.patient.day)+"-"+Object(o["N"])(a.patient.month)+"-"+Object(o["N"])(a.patient.year),1),L,Object(o["k"])("td",null,Object(o["N"])(a.patient.age),1)]),Object(o["k"])("tr",U,[P,Object(o["k"])("td",null,Object(o["N"])(a.patient.hin),1),R,Object(o["k"])("td",null,Object(o["N"])(a.patient.sex),1)]),Object(o["k"])("tr",A,[_,Object(o["k"])("td",M,Object(o["N"])(a.patient.phone),1)])])])]),F])}var q=l("5502"),z={setup:function(){var e=Object(q["b"])(),t=Object(o["e"])((function(){return e.state.artCycle.patient})),l=Object(O["h"])(),a=l.form,n=l.cycleOptions,c=l.selectedCycle,s=l.isCycleIdValid,i=Object(o["o"])("isCycle");return Object(o["z"])((function(){t.value&&(a.patientId=t.value.id),1==i.value&&c.value?a.cycleId=c.value.cycleId:a.cycleId=null})),{patient:t,form:a,isCycle:i,cycleOptions:n,selectedCycle:c,isCycleIdValid:s}}},H=l("6b0d"),K=l.n(H);const W=K()(z,[["render",E]]);var Z=W,Y=(l("b0c0"),{class:"p-fluid"}),Q={class:"p-field p-grid"},X=Object(o["k"])("label",{class:"p-col-fixed p-mb-2 p-md-2 p-mb-md-0"}," Doctor ",-1),$={class:"p-col-fixed"},ee=Object(o["k"])("label",{class:"p-col-fixed p-mb-2 p-md-2 p-mb-md-0"}," Location ",-1),te={class:"p-col-fixed"},le={key:0,style:{color:"red"}},oe={class:"p-field p-grid"},ae=Object(o["k"])("div",{class:"p-col-fixed",style:{width:"224px"}},null,-1),ne=Object(o["k"])("label",{class:"p-col-fixed p-mb-2 p-md-2 p-mb-md-0"}," Test Priority ",-1),ce={class:"p-col-fixed"};function se(e,t,l,a,n,c){var s=Object(o["J"])("p-dropdown"),i=Object(o["J"])("p-fieldset");return Object(o["B"])(),Object(o["g"])(i,{legend:"Test Info",class:"p-inputtext-sm p-input-filled"},{default:Object(o["V"])((function(){return[Object(o["k"])("div",Y,[Object(o["k"])("div",Q,[X,Object(o["k"])("div",$,[Object(o["k"])(s,{modelValue:a.form.physicianId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.form.physicianId=e}),options:a.doctorOptions,optionLabel:"name",optionValue:"id",filter:!0},null,8,["modelValue","options"])]),ee,Object(o["k"])("div",te,[Object(o["k"])(s,{modelValue:a.form.site,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.form.site=e}),options:a.locationOptions,optionLabel:"name",optionValue:"id",class:{"p-invalid":a.isInvalidLocation},onChange:a.onChange},{option:Object(o["V"])((function(e){return[Object(o["k"])("div",{style:{padding:"5px","background-color":"".concat(e.option.color)}},Object(o["N"])(e.option.name),5)]})),_:1},8,["modelValue","options","class","onChange"]),a.isInvalidLocation?(Object(o["B"])(),Object(o["g"])("small",le," Location is invalid ")):Object(o["h"])("",!0)])]),Object(o["k"])("div",oe,[ae,ne,Object(o["k"])("div",ce,[Object(o["k"])(s,{modelValue:a.form.testPriority,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.testPriority=e}),options:a.testPriorityOptions,optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])])])])]})),_:1})}var ie=l("81f6"),de={setup:function(){var e=Object(O["a"])(),t=e.form,l=e.isInvalidLocation,o=e.doctorOptions,a=e.locationOptions,n=e.testPriorityOptions;return{form:t,isInvalidLocation:l,doctorOptions:o,locationOptions:a,testPriorityOptions:n,onChange:function(e){var t=e.value;ie["b"].emit("dialog-test-info:location-change",t)}}}};const re=K()(de,[["render",se]]);var ue=re,be=Object(o["Z"])("data-v-f9ca91b8");Object(o["E"])("data-v-f9ca91b8");var pe={class:"p-formgroup-inline"},fe=Object(o["k"])("strong",{class:"p-mt-1 p-mr-4"},"Barocde",-1),Oe={class:"p-field-checkbox"},me=Object(o["k"])("label",null,"Yes",-1),je={class:"p-field-checkbox"},ve=Object(o["k"])("label",null,"No",-1),he={class:"p-grid"},ye={class:"p-md-8 carrier-box"},ge={class:"p-fluid"},ke={class:"p-field p-grid"},Ie=Object(o["k"])("label",{class:"p-col-fixed p-mb-2 p-md-5 p-mb-md-0"}," Carrier Number ",-1),Te={class:"p-col-fixed",style:{width:"50px"}},Se={class:"p-field p-grid"},Ce=Object(o["k"])("label",{class:"p-col-fixed p-mb-2 p-md-5 p-mb-md-0"}," Position in Carrier ",-1),we={class:"p-col-fixed",style:{width:"50px"}},Ve={class:"p-md-4"},Be={class:"p-field-radiobutton"},De=Object(o["k"])("label",null,"Rack System",-1),xe={class:"p-field-radiobutton"},Ge=Object(o["k"])("label",null,"Disk System",-1);Object(o["C"])();var Ne=be((function(e,t,l,a,n,c){var s=Object(o["J"])("p-radio-button"),i=Object(o["J"])("p-input-number"),d=Object(o["J"])("p-fieldset");return Object(o["B"])(),Object(o["g"])(d,{legend:"Barcode",class:"p-inputtext-sm p-input-filled p-mt-2"},{default:be((function(){return[Object(o["k"])("div",pe,[fe,Object(o["k"])("div",Oe,[Object(o["k"])(s,{name:"barcode",value:"yes",modelValue:a.form.barcode,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.form.barcode=e})},null,8,["modelValue"]),me]),Object(o["k"])("div",je,[Object(o["k"])(s,{name:"barcode",value:"no",modelValue:a.form.barcode,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.form.barcode=e})},null,8,["modelValue"]),ve])]),Object(o["k"])(d,{legend:"Sample Position Info",class:"p-inputtext-sm p-input-filled p-mt-0",collapsed:a.disabled},{default:be((function(){return[Object(o["k"])("div",he,[Object(o["k"])("div",ye,[Object(o["k"])("div",ge,[Object(o["k"])("div",ke,[Ie,Object(o["k"])("div",Te,[Object(o["k"])(i,{modelValue:a.form.carrierNumber,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.carrierNumber=e}),disabled:a.disabled},null,8,["modelValue","disabled"])])]),Object(o["k"])("div",Se,[Ce,Object(o["k"])("div",we,[Object(o["k"])(i,{modelValue:a.form.positionInCarrier,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.positionInCarrier=e}),disabled:a.disabled},null,8,["modelValue","disabled"])])])])]),Object(o["k"])("div",Ve,[Object(o["k"])("div",Be,[Object(o["k"])(s,{name:"system",value:"rack",modelValue:a.form.system,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.form.system=e}),disabled:a.disabled},null,8,["modelValue","disabled"]),De]),Object(o["k"])("div",xe,[Object(o["k"])(s,{name:"system",value:"disk",modelValue:a.form.system,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.form.system=e}),disabled:a.disabled},null,8,["modelValue","disabled"]),Ge])])])]})),_:1},8,["collapsed"])]})),_:1})})),Je={setup:function(){var e=Object(O["c"])(),t=e.form,l=e.disabled;return{form:t,disabled:l}}};l("6257");const Le=K()(Je,[["render",Ne],["__scopeId","data-v-f9ca91b8"]]);var Ue=Le,Pe=Object(o["Z"])("data-v-ed80d67a");Object(o["E"])("data-v-ed80d67a");var Re={key:0,style:{color:"red"}};Object(o["C"])();var Ae=Pe((function(e,t,l,a,n,c){var s=Object(o["J"])("p-listbox"),i=Object(o["J"])("p-fieldset"),d=Object(o["J"])("p-column"),r=Object(o["J"])("p-data-table");return Object(o["B"])(),Object(o["g"])(o["a"],null,[Object(o["k"])(i,{legend:"Test Group",class:"p-inputtext-sm p-input-filled"},{default:Pe((function(){return[Object(o["k"])(s,{modelValue:a.testGroup,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.testGroup=e}),options:a.testGroupsOptions,optionLabel:"groupName",optionValue:"curGroup",multiple:!0,listStyle:"height: 200px"},null,8,["modelValue","options"])]})),_:1}),Object(o["k"])(i,{legend:"Test Selectiion",class:["p-inputtext-sm p-input-filled p-mt-2",[a.submitted&&a.isInvalidTests?"invalid":""]]},{default:Pe((function(){return[a.submitted&&a.isInvalidTests?(Object(o["B"])(),Object(o["g"])("span",Re," Select at least 1 ")):Object(o["h"])("",!0),Object(o["k"])(r,{value:a.testSelectionTable,responsiveLayout:"scroll",showGridlines:"",class:"p-datatable-sm p-mb-1",selection:a.seletedTests,"onUpdate:selection":t[2]||(t[2]=function(e){return a.seletedTests=e}),dataKey:"testId",scrollable:!0,scrollHeight:"200px"},{default:Pe((function(){return[Object(o["k"])(d,{field:"testId",header:"Code",style:{"max-width":"60px"}}),Object(o["k"])(d,{field:"testName",header:"Name"}),Object(o["k"])(d,{selectionMode:"multiple",style:{"max-width":"3rem"}})]})),_:1},8,["value","selection"])]})),_:1},8,["class"])],64)})),_e=(l("d81d"),{setup:function(){var e=Object(O["f"])(),t=e.form,l=e.testGroup,a=e.testGroupsOptions,n=e.testSelectionTable,c=e.seletedTests,s=e.submitted,i=e.isInvalidTests;return Object(o["U"])(c,(function(e){t.testIdArray=e.map((function(e){return{itemId:e.testId,name:e.testName}})),i.value=!1})),Object(o["U"])(n,(function(e){c.value=e})),{seletedTests:c,testGroup:l,testGroupsOptions:a,testSelectionTable:n,submitted:s,isInvalidTests:i}}});l("8ab9");const Me=K()(_e,[["render",Ae],["__scopeId","data-v-ed80d67a"]]);var Fe=Me,Ee={components:{BloodTestDialogPatientInfo:Z,BloodTestDialogTestInfo:ue,BloodTestDialogBarcode:Ue,BloodTestDialogTestSelection:Fe},setup:function(){var e=Object(O["d"])(),t=e.store,l=e.orderBloodTestDialog,a=e.form,n=e.resetForm,c=e.changeDoctorConfirmation,s=e.save,i=e.submitted,d=e.loading,r=e.isInvalidTests,u=e.isInvalidLocation,b=e.isCycleIdValid,p=e.bloodMachineOptions;Object(o["D"])("form",a),Object(o["D"])("submitted",i),Object(o["D"])("isInvalidTests",r),Object(o["D"])("isInvalidLocation",u),Object(o["D"])("isCycleIdValid",b);var f=function(e){e==m["i"].Milton||e==m["i"].Burlington?a.bloodMachine=3:e==m["i"].Brampton?a.bloodMachine=4:a.bloodMachine=2};return Object(o["z"])((function(){t.dispatch("bloodTest/getBloodGroupTests"),t.dispatch("provider/getProviders"),t.dispatch("provider/getProviderLocations"),ie["b"].on("dialog-test-info:location-change",f)})),Object(o["A"])((function(){ie["b"].off("dialog-test-info:location-change",f)})),{orderBloodTestDialog:l,form:a,resetForm:n,save:s,changeDoctorConfirmation:c,bloodMachineOptions:p,loading:d}}};l("e1a8");const qe=K()(Ee,[["render",f],["__scopeId","data-v-fab920e0"]]);t["a"]=qe},"05a9":function(e,t,l){},"13f6":function(e,t,l){},"258a":function(e,t,l){"use strict";l.d(t,"g",(function(){return O})),l.d(t,"d",(function(){return m})),l.d(t,"c",(function(){return j})),l.d(t,"a",(function(){return v})),l.d(t,"h",(function(){return h})),l.d(t,"f",(function(){return y})),l.d(t,"e",(function(){return g})),l.d(t,"b",(function(){return k}));var o=l("b85c"),a=l("2909"),n=l("5530"),c=(l("d3b7"),l("99af"),l("3ca3"),l("ddb0"),l("2b3d"),l("d81d"),l("4de4"),l("caad"),l("2532"),l("4ec9"),l("db49")),s=l("81f6"),i=l("b166"),d=l("18cb"),r=l("7a23"),u=l("5502"),b=(l("dd6d"),l("d725")),p=l("5fb0"),f=l("6c02");function O(){var e=Object(u["b"])(),t=Object(r["o"])("orderBloodTestDialog"),l=Object(r["o"])("orderBloodTestConfirmDialog"),o=Object(r["o"])("editDailogVisible"),a=Object(r["o"])("addBloodDialogvisible"),n=Object(r["G"])(),c=Object(r["o"])("selectedBloodTest"),s=Object(r["G"])(!1),i=function(){s.value=!0,e.dispatch("bloodTest/getBloodTestResults").then((function(e){n.value=e})).finally((function(){return s.value=!1}))},d=function(t){s.value=!0,e.dispatch("bloodTest/getBloodTestResults").then((function(e){n.value=e})).finally((function(){return s.value=!1}))},b=Object(r["G"])(!1),f=function(t){e.dispatch("bloodTest/printBarcodePDF",t.testOrderId).then((function(e){var t=520,l=580,o=screen.width/2-t/2,a=screen.height/2-l/2;window.open(e,"_blank","height=".concat(l,",width=").concat(t,",top=").concat(a,",left=").concat(o))}))},O=function(){var t={patientId:e.state.artCycle.patient.id,patientName:"".concat(e.state.artCycle.patient.firstName," ").concat(e.state.artCycle.patient.lastName)},l="".concat(p["k"],"/cycles-reports/print-blood-test-report.php?").concat(new URLSearchParams(t));window.open(l)};return{store:e,testResults:n,loading:s,getBloodTestResults:i,getBloodTestResultsWithOpenBarcode:d,orderBloodTestConfirmDialog:l,orderBloodTestDialog:t,editDailogVisible:o,addBloodDialogvisible:a,barcodeDailogVisible:b,selectedBloodTest:c,showBarcode:f,openPdfReport:O}}function m(){var e=Object(u["b"])(),t=Object(d["b"])(),l=Object(r["o"])("orderBloodTestDialog"),o=Object(r["o"])("isCycle"),p=Object(r["F"])({testOrderId:null,cycleId:null,patientId:null,physicianId:e.state.artCycle.patient.doctorId,date:Object(i["a"])(new Date,c["c"]),site:null,isCycle:null,testIdArray:[],stat:null,serverId:null,deviceId:null,testPriority:null,btComments:null,label:null,bloodMachine:null}),O=function(){p.physicianId=e.state.artCycle.patient.doctorId},m=Object(r["F"])([1,2,3,4]),j=Object(r["G"])(!1),v=Object(r["G"])(!1),h=Object(r["G"])(!1),y=Object(r["G"])(!1),g=Object(f["d"])(),k=function(e){g.push("/blood-tests")},I=Object(b["b"])(),T=function(){p.physicianId!=e.state.artCycle.patient.doctorId?I.require({message:"Are you sure you want to change doctor?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){C()},reject:function(){O()}}):C()},S=Object(r["G"])(!1),C=function(){if(j.value=!0,0!=p.testIdArray.length)if(v.value=!1,null!=p.site&&""!==p.site)if(h.value=!0,null!=p.cycleId&&""!==p.cycleId){y.value=!0,S.value=!0;var c=Object(n["a"])(Object(n["a"])({},p),{},{testIdArray:Object(a["a"])(p.testIdArray),isCycle:o.value});e.dispatch("bloodTest/addBloodTestOrderItems",c).then((function(e){t.add({severity:"success",summary:"",detail:"Save Successful",life:3e3}),s["b"].emit("blood-test-edit-dailog:reload-test-results-with-open-barcode",e),k(e)})).finally((function(){j.value=!1,l.value=!1,S.value=!1}))}else y.value=!0;else h.value=!0;else v.value=!0};return{store:e,orderBloodTestDialog:l,form:p,resetForm:O,changeDoctorConfirmation:T,save:C,submitted:j,loading:S,isInvalidTests:v,isInvalidLocation:h,isCycleIdValid:y,bloodMachineOptions:m}}function j(){var e=Object(r["F"])({barcode:"yes",carrierNumber:1,positionInCarrier:1,system:"rack"}),t=Object(r["e"])((function(){return"yes"===e.barcode}));return{form:e,disabled:t}}function v(){var e=Object(u["b"])(),t=Object(r["o"])("form"),l=Object(r["o"])("isInvalidLocation",!1),o=Object(r["e"])((function(){return e.state.doctor.doctors})),a=Object(r["e"])((function(){return e.state.provider.locations})),n=Object(r["F"])([{value:"R",label:"Routine"},{value:"S",label:"Stat"},{value:"A",label:"As Soon As Possible"},{value:"T",label:"In Time"},{value:"P",label:"Preoperative"}]);return{form:t,doctorOptions:o,locationOptions:a,testPriorityOptions:n,isInvalidLocation:l}}function h(){var e=Object(u["b"])(),t=Object(r["o"])("form"),l=Object(r["o"])("isCycleIdValid",!1),o=Object(r["e"])((function(){return e.state.artCycle.cyclesSummary})),a=Object(r["e"])((function(){var e=[{label:"No Cycle",value:0}];if(o.value&&o.value.length>0){var t=o.value.filter((function(e){return!1===e.cycleCompleted})).map((function(e){return{label:e.cycleId+" - "+e.cycleType+" - "+e.cycleDate.substring(0,10),value:e.cycleId}}));e=e.concat(t)}return e})),n=Object(r["e"])((function(){return e.state.artCycle.selectedCycle}));return{form:t,cycleOptions:a,selectedCycle:n,isCycleIdValid:l}}function y(){var e=Object(u["b"])(),t=Object(r["o"])("form"),l=Object(r["o"])("submitted"),n=Object(r["o"])("isInvalidTests"),c=Object(r["G"])([]),s=Object(r["e"])((function(){return e.getters["bloodTest/getBloodGroups"]})),i=Object(r["e"])((function(){if(0==c.value.length)return[];if(c.value.includes("all")){var t,l=[],n=Object(o["a"])(e.state.bloodTest.bloodGroups);try{for(n.s();!(t=n.n()).done;){var s=t.value;l.push.apply(l,Object(a["a"])(s.testItems))}}catch(b){n.e(b)}finally{n.f()}return Object(a["a"])(new Map(l.map((function(e){return[e["testId"],e]}))).values())}var i,d=[],r=Object(o["a"])(e.state.bloodTest.bloodGroups);try{for(r.s();!(i=r.n()).done;){var u=i.value;c.value.includes(u.curGroup)&&d.push.apply(d,Object(a["a"])(u.testItems))}}catch(b){r.e(b)}finally{r.f()}return Object(a["a"])(new Map(d.map((function(e){return[e["testId"],e]}))).values())})),d=Object(r["G"])([]);return{form:t,testSelectionTable:i,seletedTests:d,testGroup:c,testGroupsOptions:s,submitted:l,isInvalidTests:n}}function g(){var e=Object(u["b"])(),t=Object(d["b"])(),l=Object(r["o"])("editDailogVisible"),o=Object(r["o"])("selectedBloodTest"),a=Object(r["G"])(!1),c=Object(r["F"])({cycleId:null,bloodTestOrderDate:null,patientId:null,testOrderId:null,bloodTestResultDate:null,etwo:null,etwoStat:null,lh:null,lhStat:null,prog:null,progStat:null,fsh:null,fshStat:null,tsh:null,tshStat:null,prl:null,prlStat:null,bhcg:null,bhcgStat:null,dheas:null,dheasStat:null,testo:null,testoStat:null,amh:null,amhStat:null,site:null,physicianId:null}),i=function(){c.cycleId=null,c.bloodTestOrderDate=null,c.patientId=null,c.testOrderId=null,c.bloodTestResultDate=null,c.etwo=null,c.etwoStat=null,c.lh=null,c.lhStat=null,c.prog=null,c.progStat=null,c.fsh=null,c.fshStat=null,c.tsh=null,c.tshStat=null,c.prl=null,c.prlStat=null,c.bhcg=null,c.bhcgStat=null,c.dheas=null,c.dheasStat=null,c.testo=null,c.testoStat=null,c.amh=null,c.amhStat=null},b=function(){a.value=!1,e.dispatch("bloodTest/getBloodTest",o.value.testOrderId).then((function(e){c.cycleId=e.cycleId,c.bloodTestOrderDate=e.bloodTestOrderDate,c.patientId=e.patientId,c.testOrderId=e.testOrderId,c.bloodTestResultDate=e.bloodTestResultDate,c.etwo=e.etwo,c.etwoStat=e.etwoStat,c.lh=e.lh,c.lhStat=e.lhStat,c.prog=e.prog,c.progStat=e.progStat,c.fsh=e.fsh,c.fshStat=e.fshStat,c.tsh=e.tsh,c.tshStat=e.tshStat,c.prl=e.prl,c.prlStat=e.prlStat,c.bhcg=e.bhcg,c.bhcgStat=e.bhcgStat,c.dheas=e.dheas,c.dheasStat=e.dheasStat,c.testo=e.testo,c.testoStat=e.testoStat,c.amh=e.amh,c.amhStat=e.amhStat})).catch((function(){i()}))},p=function(){e.dispatch("bloodTest/saveAllBloodTest",Object(n["a"])({},c)).then((function(e){t.add({severity:"success",summary:"Successful",detail:"Save Successful",life:3e3}),l.value=!1,s["b"].emit("blood-test-edit-dailog:reload-test-results")})).catch((function(){}))},f=function(){e.dispatch("bloodTest/deleteResult",o.value.testOrderId).then((function(e){t.add({severity:"success",summary:"Successful",detail:"Save Successful",life:3e3}),l.value=!1,s["b"].emit("blood-test-edit-dailog:reload-test-results")})).catch((function(){}))},O=function(){e.dispatch("bloodTest/deleteOrder",o.value.testOrderId).then((function(e){t.add({severity:"success",summary:"Successful",detail:"Save Successful",life:3e3}),l.value=!1,s["b"].emit("blood-test-edit-dailog:reload-test-results")})).catch((function(){}))},m=function(l){e.dispatch("bloodTest/cancelBloodTest",{testOrderId:o.value.testOrderId,testCode:l}).then((function(e){a.value=!0,t.add({severity:"success",summary:"Successful",detail:"Save Successful",life:3e3})})).catch((function(){}))},j=function(){a.value&&s["b"].emit("blood-test-edit-dailog:reload-test-results")};return{editDailogVisible:l,form:c,getBloodTest:b,saveAll:p,deleteOrder:O,deleteResult:f,cancelBloodTest:m,onHide:j}}function k(){var e=Object(u["b"])(),t=Object(d["b"])(),l=Object(r["o"])("addBloodDialogvisible"),o=Object(r["F"])({cycleId:null,bloodTestOrderDate:null,patientId:null,testOrderId:null,bloodTestResultDate:null,etwo:null,etwoStat:null,lh:null,lhStat:null,prog:null,progStat:null,fsh:null,fshStat:null,tsh:null,tshStat:null,prl:null,prlStat:null,bhcg:null,bhcgStat:null,dheas:null,dheasStat:null,testo:null,testoStat:null,amh:null,amhStat:null,site:null,physicianId:null,assignCycle:null}),a=Object(r["e"])((function(){return e.state.artCycle.selectedCycle})),s=Object(r["e"])((function(){return e.state.artCycle.patient})),b=Object(r["e"])((function(){return!(!a.value||!a.value.cycleId)})),p=Object(r["o"])("isInvalidLocation",!1),f=Object(r["e"])((function(){return e.state.doctor.doctors})),O=Object(r["e"])((function(){return e.state.provider.locations})),m=function(){return o.etwo||o.lh||o.prog||o.fsh||o.tsh||o.prl||o.bhcg||o.dheas||o.testo||o.amh},j=function(){if(m()){var d=Object(n["a"])(Object(n["a"])({},o),{},{bloodTestResultDate:Object(i["a"])(o.bloodTestResultDate,c["c"]),cycleId:a.value?a.value.cycleId:null,patientId:s.value?s.value.chart:null});e.dispatch("bloodTest/addBloodTest",Object(n["a"])({},d)).then((function(e){t.add({severity:"success",summary:"Successful",detail:"Add Successful",life:3e3}),l.value=!1})).catch((function(){}))}else t.add({severity:"warn",summary:"Validation Error",detail:"At least one field is required before saving.",life:3e3})},v=function(){l.value=!0};return{addBloodDialogvisible:l,saveBloodTest:j,addBlood:v,form:o,isInvalidLocation:p,locationOptions:O,doctorOptions:f,cycle:a,patient:s,isCycleChecked:b,isFormValid:m}}},"306f":function(e,t,l){"use strict";var o=l("7a23"),a=Object(o["k"])("div",{class:"p-grid"},[Object(o["k"])("p",null,"This Blood test will not be attced to the cycle!"),Object(o["k"])("p",null," If you want this blood test to be attched to cycle, please create it from cycle monitoring page ")],-1);function n(e,t,l,n,c,s){var i=Object(o["J"])("p-button"),d=Object(o["J"])("p-dialog");return Object(o["B"])(),Object(o["g"])(d,{header:"Order Blood Test",visible:n.orderBloodTestConfirmDialog,"onUpdate:visible":t[1]||(t[1]=function(e){return n.orderBloodTestConfirmDialog=e}),style:{width:"460px"},modal:!0,class:"p-inputtext-sm p-input-filled"},{default:Object(o["V"])((function(){return[a,Object(o["k"])(i,{label:"Ok",class:"p-button-success p-mr-2",onClick:n.onOK},null,8,["onClick"]),Object(o["k"])(i,{label:"Cancel",class:"p-button-danger",onClick:n.onCancel},null,8,["onClick"])]})),_:1},8,["visible"])}var c={setup:function(){var e=Object(o["o"])("orderBloodTestDialog"),t=Object(o["o"])("orderBloodTestConfirmDialog"),l=Object(o["o"])("isCycle"),a=function(){l.value=0,e.value=!0,t.value=!1},n=function(){t.value=!1};return{orderBloodTestConfirmDialog:t,onOK:a,onCancel:n}}},s=l("6b0d"),i=l.n(s);const d=i()(c,[["render",n]]);t["a"]=d},6257:function(e,t,l){"use strict";l("13f6")},6411:function(e,t,l){},"8ab9":function(e,t,l){"use strict";l("6411")},e1a8:function(e,t,l){"use strict";l("05a9")}}]);
//# sourceMappingURL=chunk-ab39db92.2e393d59.js.map