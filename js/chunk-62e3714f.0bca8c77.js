(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62e3714f"],{"1d57":function(e,t,n){e.exports=n.p+"img/women.f05f7bfb.png"},"1fce":function(e,t,n){},6524:function(e,t,n){"use strict";n("1fce")},"85da":function(e,t,n){e.exports=n.p+"img/men.a5e81f19.png"},e055:function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),c=n("1d57"),r=n.n(c),i=n("85da"),o=n.n(i),l=Object(a["Z"])("data-v-73971917");Object(a["E"])("data-v-73971917");var s={key:0},p={class:"section"},d={class:"p-grid"},b={class:"p-col-12 block-container"},u={class:"block-item"},m={style:{"margin-right":"15px"}},j={key:0,style:{width:"100px"},alt:"Vue logo",src:r.a},g={key:1,style:{width:"100px"},alt:"Vue logo",src:o.a},O={style:{"margin-bottom":"10px"}},f=Object(a["k"])("div",{class:"title"}," PATIENT ",-1),h=Object(a["k"])("br",null,null,-1),k={class:"p-id"},v={class:"p-buttonset"},y={key:0,class:"block-item"},x={style:{"margin-right":"15px"}},w={style:{"margin-bottom":"10px"}},_=Object(a["k"])("div",{class:"title"}," PARTNER ",-1),C=Object(a["k"])("br",null,null,-1),B={class:"p-id"},T={class:"p-buttonset"},N={key:0,style:{width:"100px"},alt:"Vue logo",src:r.a},R={key:1,style:{width:"100px"},alt:"Vue logo",src:o.a},I={class:"section",style:{"margin-top":"20px"}},P={class:"container",style:{background:""}},V={class:"left-box",style:{display:"inline-block",width:"50%","border-right":"dashed 1px grey","min-height":"400px"}},z={class:"inline-box"},E={style:{"margin-bottom":"10px","font-weight":"bold",display:"flex","justify-content":"center","align-content":"center"}},J=Object(a["k"])("br",null,null,-1),Z={style:{display:"flex","justify-content":"center","align-content":"center"}},G={class:"p-buttonset",style:{display:"flex"}},L={class:"right-box",style:{display:"inline-block",width:"50%","min-height":"400px"}},U={class:"inline-box"},F={style:{"margin-bottom":"10px","font-weight":"bold",display:"flex","justify-content":"center","align-content":"center"}},H=Object(a["k"])("br",null,null,-1),S={style:{display:"flex","justify-content":"center","align-content":"center"}},A={class:"p-buttonset",style:{display:"flex"}},W={key:1},D=Object(a["k"])("h2",null,"No patient selected",-1);Object(a["C"])();var M=l((function(e,t,n,c,r,i){var o=Object(a["J"])("p-button");return c.patient.id?(Object(a["B"])(),Object(a["g"])("div",s,[Object(a["k"])("div",null,[Object(a["k"])(o,{label:"Back",class:"p-button-sm p-button-outlined",severity:"info",raised:"",style:{"margin-bottom":"20px"},onClick:c.goToBarcodePage},null,8,["onClick"])]),Object(a["k"])("div",p,[Object(a["k"])("div",d,[Object(a["k"])("div",b,[Object(a["k"])("div",u,[Object(a["k"])("div",m,["F"==c.patient.sex?(Object(a["B"])(),Object(a["g"])("img",j)):(Object(a["B"])(),Object(a["g"])("img",g))]),Object(a["k"])("div",null,[Object(a["k"])("div",O,[f,Object(a["k"])("span",null,Object(a["N"])(c.patient.firstName)+" "+Object(a["N"])(c.patient.lastName),1),h,Object(a["k"])("span",k,Object(a["N"])(c.patient.id),1)]),Object(a["k"])("span",v,[Object(a["k"])(o,{label:"Barcode",class:"p-button-sm",onClick:t[1]||(t[1]=function(e){return c.showBarcodeV2(c.patient)})}),Object(a["k"])(o,{class:"p-button-sm",icon:"pi pi-print",onClick:t[2]||(t[2]=function(e){return c.printToZebraPrinter(c.patient)})})])])]),c.partner.id?(Object(a["B"])(),Object(a["g"])("div",y,[Object(a["k"])("div",x,[Object(a["k"])("div",w,[_,Object(a["k"])("span",null,Object(a["N"])(c.partner.firstName)+" "+Object(a["N"])(c.partner.lastName),1),C,Object(a["k"])("span",B,Object(a["N"])(c.partner.id),1)]),Object(a["k"])("span",T,[Object(a["k"])(o,{label:"Barcode",class:"p-button-sm",onClick:t[3]||(t[3]=function(e){return c.showBarcodeV2(c.partner)})}),Object(a["k"])(o,{class:"p-button-sm",icon:"pi pi-print",onClick:t[4]||(t[4]=function(e){return c.printToZebraPrinter(c.partner)})})])]),Object(a["k"])("div",null,["F"==c.partner.sex?(Object(a["B"])(),Object(a["g"])("img",N)):(Object(a["B"])(),Object(a["g"])("img",R))])])):Object(a["h"])("",!0)])])]),Object(a["k"])("div",I,[Object(a["k"])("div",P,[Object(a["k"])("div",V,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(c.patientLabTests,(function(e){return Object(a["B"])(),Object(a["g"])("div",z,[Object(a["k"])("div",null,[Object(a["k"])("div",E,[Object(a["k"])("span",null,Object(a["N"])(e.name),1),J]),Object(a["k"])("div",Z,[Object(a["k"])("img",{src:c.getIconUrl(e),alt:"Image",style:{width:"50px",height:"50px"}},null,8,["src"])]),Object(a["k"])("div",null,[Object(a["k"])("span",G,[Object(a["k"])(o,{label:"Barcode",class:"p-button-sm",onClick:function(t){return c.createBarcodeZebra(c.patient,e)}},null,8,["onClick"]),Object(a["k"])(o,{class:"p-button-sm",icon:"pi pi-print",onClick:function(t){return c.printCitizenLabel(c.patient,e)}},null,8,["onClick"])])])])])})),256))]),Object(a["k"])("div",L,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(c.partnerLabTests,(function(e){return Object(a["B"])(),Object(a["g"])("div",U,[Object(a["k"])("div",null,[Object(a["k"])("div",F,[Object(a["k"])("span",null,Object(a["N"])(e.name),1),H]),Object(a["k"])("div",S,[Object(a["k"])("img",{src:c.getIconUrl(e),alt:"Image",style:{width:"50px",height:"50px"}},null,8,["src"])]),Object(a["k"])("div",null,[Object(a["k"])("span",A,[Object(a["k"])(o,{label:"Barcode",class:"p-button-sm",onClick:function(t){return c.createBarcodeJasper(c.partner,e)}},null,8,["onClick"]),Object(a["k"])(o,{class:"p-button-sm",icon:"pi pi-print",onClick:function(t){return c.createBarcodeZebra(c.partner,e)}},null,8,["onClick"])])])])])})),256))])])])])):(Object(a["B"])(),Object(a["g"])("div",W,[D]))})),q=n("1da1"),K=(n("96cf"),n("99af"),n("c215")),Q=n("5502"),X=n("dd6d"),Y=n("5fb0"),$=n("db49"),ee=n("6c02"),te={setup:function(){var e=function(e){var t="".concat(Y["v"],"/patient_zpl_print.php"),n="".concat(t)+"?first_name=".concat(e.firstName)+"&last_name=".concat(e.lastName)+"&chart=".concat(e.chart)+"&dob=".concat(e.year,"-").concat(e.month,"-").concat(e.day)+"&gender=".concat(e.sex);window.open(n)},t=Object(Q["b"])(),n=Object(a["G"])([]),c=Object(a["G"])([]),r=Object(a["G"])([]),i=Object(a["G"])(!1),o=Object(a["G"])({}),l=Object(a["G"])({}),s=Object(ee["d"])(),p=function(e){var t={bar_id:e.id},n="".concat(Y["k"],"/jrsPHPclientV2/jrs/generate_reportn1.php?report_name=TESTS_1&report_type=pdf&report_params=").concat(encodeURIComponent(Object(X["a"])(t)));window.open(n)},d=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(t,n){var a,c,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K["a"].post("lab-barcode/create",{patient_id:t.id,container_id:n.labTestId,container_name:n.name});case 3:a=e.sent,c=a.data,r={bar_id:c.model.barcode},i="".concat(Y["k"],"/jrsPHPclientV2/jrs/generate_reportn1.php?report_name=TESTS_1_1&report_type=pdf&report_params=").concat(encodeURIComponent(Object(X["a"])(r))),window.open(i),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(t,n){var a,c,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K["a"].post("lab-barcode/create",{patient_id:t.id,container_id:n.labTestId,container_name:n.name});case 3:a=e.sent,c=a.data,r="".concat(Y["v"],"/labContainer_zpl_print.php"),i="".concat(r)+"?barcode=".concat(c.model.barcode,"&label=").concat(n.name,"&chartid=").concat(t.id),window.open(i),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(t,n){var a,c,r,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K["a"].post("lab-barcode/create",{patient_id:t.id,container_id:n.labTestId,container_name:n.name});case 3:a=e.sent,c=a.data,r=c.model.barcode,i='\n<html>\n<head>\n  <style>\n    @page {\n      size: 38mm 10mm;\n      margin: 0;\n    }\n\n    html, body {\n      width: 38mm;\n      height: 10mm;\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n      font-family: Arial, sans-serif;\n    }\n\n    .label {\n      width: 38mm;\n      height: 10mm;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      padding: 0;\n      box-sizing: border-box;\n    }\n\n    .top-text {\n            height: 5mm;\n            padding: 0;\n            padding-left: 1px;\n            margin: 0;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            overflow: hidden;\n            }\n\n            .text1 {\n            font-size: 7pt;\n            line-height: 1;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            margin: 0;\n            padding: 0;\n            }\n\n            .text2 {\n            font-size: 5pt;\n            line-height: 1;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            margin: 0;\n            padding: 0;\n            }\n\n    .barcode {\n      height: 5mm;\n      padding-left: 0mm;\n      padding-right: 0mm;\n    }\n\n    svg {\n      display: block;\n      width: 100%;\n      height: 98%;\n    }\n  </style>\n</head>\n<body>\n  <div class="label">\n    <div class="top-text">\n        <div class="text1">'.concat(n.name," ").concat(t.firstName," ").concat(t.lastName,'</div>\n        <div class="text2">').concat(t.id,'</div>\n    </div>\n    <div class="barcode">\n      <svg id="barcode"></svg>\n    </div>\n  </div>\n</body>\n</html>\n'),o=document.createElement("iframe"),o.style.display="none",document.body.appendChild(o),l=o.contentWindow.document,l.open(),l.write(i),l.close(),o.onload=function(){var e=l.createElement("script");e.src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js",e.onload=function(){o.contentWindow.JsBarcode("#barcode",r,{format:"CODE128",lineColor:"#000",width:2.2,height:38,displayValue:!1,margin:0}),setTimeout((function(){return o.contentWindow.print()}),300)},l.body.appendChild(e)},e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),console.error("Print label error:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(e){return e.icon?"".concat($["g"],"/").concat(e.icon):"https://via.placeholder.com/300"},j=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"M"!=t&&"m"!=t||(t="male"),"F"!=t&&"f"!=t||(t="female"),e.next=4,K["a"].get("lab-tests/list/".concat(t),{params:{}});case 4:n=e.sent,a=n.data,c.value=a;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"M"!=t&&"m"!=t||(t="male"),"F"!=t&&"f"!=t||(t="female"),e.next=4,K["a"].get("lab-tests/list/".concat(t),{params:{}});case 4:n=e.sent,a=n.data,r.value=a;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a["z"])((function(){console.log(t.state.artCycle.patient),t.state.artCycle.patient&&(o.value=t.state.artCycle.patient,j(o.value.sex)),t.state.artCycle.partner&&(l.value=t.state.artCycle.partner,g(l.value.sex))})),{logsData:n,loading:i,patient:o,partner:l,store:t,patientLabTests:c,partnerLabTests:r,showBarcodeV2:p,getIconUrl:m,printToZebraPrinter:e,createBarcodeJasper:d,createBarcodeZebra:b,printCitizenLabel:u,goToBarcodePage:function(){s.push({path:"/barcodes"})}}}},ne=(n("6524"),n("6b0d")),ae=n.n(ne);const ce=ae()(te,[["render",M],["__scopeId","data-v-73971917"]]);t["default"]=ce}}]);
//# sourceMappingURL=chunk-62e3714f.0bca8c77.js.map