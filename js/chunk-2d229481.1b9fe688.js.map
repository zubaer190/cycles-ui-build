{"version":3,"sources":["webpack:///./src/views/login.vue","webpack:///./src/views/login.vue?ac68"],"names":["class","for","title","content","type","username","invalid","password","toggleMask","login","feedback","severity","footer","icon","label","loading","isLoading","setup","store","route","dispatch","value","then","user","query","patientId","to","router","push","name","providerNo","userDetail","needSecondVerification","error","state","__exports__","render"],"mappings":"0IACSA,MAAM,U,GACFA,MAAM,6D,iBAEc,W,GAERA,MAAM,W,GACFA,MAAM,W,EACP,eAAuC,SAAhCC,IAAI,aAAY,YAAQ,G,GAQ9BD,MAAM,W,EACP,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,G,iBAUS,oC,0MA1B/D,eAyCM,MAzCN,EAyCM,CAxCF,eAuCM,MAvCN,EAuCM,CAtCF,eAqCS,QApCMC,MAAK,gBAAC,iBAAO,C,MACbC,QAAO,gBACd,iBAwBM,CAxBN,eAwBM,MAxBN,EAwBM,CAvBF,eAQM,MARN,EAQM,CAPF,EACA,eAKE,GAJEC,KAAK,O,WACI,EAAAC,S,qDAAA,EAAAA,SAAQ,IACjBL,MAAK,CAAC,iBAAgB,aACC,EAAAM,W,iCAG/B,eAUM,MAVN,EAUM,CATF,EACA,eAOE,G,WANW,EAAAC,S,qDAAA,EAAAA,SAAQ,IACjBC,WAAA,GACC,UAAO,+CAAQ,EAAAC,UAAK,YACpBC,UAAU,EACXV,MAAK,CAAC,iBAAgB,aACC,EAAAM,W,iCAGG,EAAAA,S,iBAAlC,eAEY,G,MAFDK,SAAS,S,yBAAuB,iBAE3C,C,yCAGGC,OAAM,gBACb,iBAKE,CALF,eAKE,GAJEC,KAAK,gBACLC,MAAM,QACLC,QAAS,EAAAC,UACT,QAAK,+BAAE,EAAAP,W,0EAcjB,GACXQ,MADW,WAEP,IAAMC,EAAQ,iBAERb,EAAW,iBACXE,EAAW,iBACXS,EAAY,gBAAI,GAChBV,EAAU,gBAAI,GAEda,EAAQ,iBAERV,EAAQ,WACVS,EACKE,SAAS,QAAS,CACff,SAAUA,EAASgB,MACnBd,SAAUA,EAASc,QAEtBC,MACG,SAACC,GACG,GAAIJ,EAAMK,MAAMC,WAAaN,EAAMK,MAAME,GAAI,CACzC,MAA0BP,EAAMK,MAAxBC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,GACnBC,EAAA,KAAOC,KAAK,CACRC,KAAM,WACNL,MAAO,CACHC,YACAC,KACAI,WAAYP,EAAKQ,WAAWD,mBAIhCP,EAAKS,uBACLL,EAAA,KAAOC,KAAK,CAAEC,KAAM,cAEpBF,EAAA,KAAOC,KAAK,CAAEC,KAAM,gBAIhC,SAACI,GACG3B,EAAQe,OAAQ,MAWhC,OANA,gBAAU,WACkB,MAApBH,EAAMgB,MAAMX,MACZI,EAAA,KAAOC,KAAK,CAAEC,KAAM,aAIrB,CACHxB,WACAE,WACAS,YACAV,UACAG,W,qBCpGZ,MAAM0B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d229481.1b9fe688.js","sourcesContent":["<template>\r\n    <div class=\"p-grid\">\r\n        <div class=\"p-col-12 p-md-6 p-lg-4 p-md-offset-3 p-lg-offset-4 p-mt-5\">\r\n            <p-card>\r\n                <template #title> Login </template>\r\n                <template #content>\r\n                    <div class=\"p-fluid\">\r\n                        <div class=\"p-field\">\r\n                            <label for=\"firstname\">Username</label>\r\n                            <p-input-text\r\n                                type=\"text\"\r\n                                v-model=\"username\"\r\n                                class=\"p-inputtext-lg\"\r\n                                :class=\"{ 'p-invalid': invalid }\"\r\n                            />\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <label for=\"lastname\">Password</label>\r\n                            <p-password\r\n                                v-model=\"password\"\r\n                                toggleMask\r\n                                @keydown.enter=\"login()\"\r\n                                :feedback=\"false\"\r\n                                class=\"p-inputtext-lg\"\r\n                                :class=\"{ 'p-invalid': invalid }\"\r\n                            />\r\n                        </div>\r\n                        <p-message severity=\"error\" v-if=\"invalid\">\r\n                            Username or Password incorrect\r\n                        </p-message>\r\n                    </div>\r\n                </template>\r\n                <template #footer>\r\n                    <p-button\r\n                        icon=\"pi pi-sign-in\"\r\n                        label=\"Login\"\r\n                        :loading=\"isLoading\"\r\n                        @click=\"login()\"\r\n                    />\r\n                </template>\r\n            </p-card>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport router from \"@/router\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nexport default {\r\n    setup() {\r\n        const store = useStore();\r\n\r\n        const username = ref();\r\n        const password = ref();\r\n        const isLoading = ref(false);\r\n        const invalid = ref(false);\r\n\r\n        const route = useRoute();\r\n\r\n        const login = () => {\r\n            store\r\n                .dispatch(\"login\", {\r\n                    username: username.value,\r\n                    password: password.value\r\n                })\r\n                .then(\r\n                    (user) => {\r\n                        if (route.query.patientId && route.query.to) {\r\n                            const { patientId, to } = route.query;\r\n                            router.push({\r\n                                name: \"redirect\",\r\n                                query: {\r\n                                    patientId,\r\n                                    to,\r\n                                    providerNo: user.userDetail.providerNo\r\n                                }\r\n                            });\r\n                        } else {\r\n                            if (user.needSecondVerification) {\r\n                                router.push({ name: \"Verifying\" });\r\n                            } else {\r\n                                router.push({ name: \"ArtCycle\" });\r\n                            }\r\n                        }\r\n                    },\r\n                    (error) => {\r\n                        invalid.value = true;\r\n                    }\r\n                );\r\n        };\r\n\r\n        onMounted(() => {\r\n            if (store.state.user != null) {\r\n                router.push({ name: \"Login\" });\r\n            }\r\n        });\r\n\r\n        return {\r\n            username,\r\n            password,\r\n            isLoading,\r\n            invalid,\r\n            login\r\n        };\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./login.vue?vue&type=template&id=77a30d49\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Workspace\\\\newlife\\\\vue-cycle-ui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}