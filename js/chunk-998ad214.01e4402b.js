(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-998ad214"],{"39e7":function(e,t,a){},6062:function(e,t,a){"use strict";var n=a("6d61"),l=a("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),l)},8445:function(e,t,a){"use strict";a("39e7")},e907:function(e,t,a){"use strict";a.r(t);a("fb6a"),a("caad");var n=a("7a23"),l=Object(n["Z"])("data-v-541ca40b");Object(n["E"])("data-v-541ca40b");var c={class:"page-container"},r={class:"header"},i={class:"p-mx-2 p-mb-3",style:{display:"flex","justify-content":"space-between"}},o={style:{display:"flex"}},s={class:"p-field p-grid"},u=Object(n["k"])("label",{for:"date",class:"p-col-fixed"},"Date",-1),d={key:0,style:{display:"flex","flex-direction":"column","margin-left":"10px"}},b={style:{"font-weight":"bold","margin-bottom":"2px"}},p={style:{"font-weight":"bold"}},v={style:{display:"flex"}},f={class:"p-field p-grid p-mr-4"},m=Object(n["k"])("label",{for:"nameFilter",class:"p-col-fixed"},"Filter by Name",-1),O={class:"p-field p-grid p-mr-4"},j=Object(n["k"])("label",{for:"fromDate",class:"p-col-fixed"},"From Date",-1),w={class:"p-field p-grid"},k=Object(n["k"])("label",{for:"toDate",class:"p-col-fixed"},"To Date",-1),h={class:"table-container"},x={class:"cell-content"},g={key:0,class:"static-text"},y={key:2,class:"cell-content2"},D={class:"static-text"},_={class:"static-text"};Object(n["C"])();var R=l((function(e,t,a,R,V,N){var C=Object(n["J"])("p-calendar"),I=Object(n["J"])("p-button"),S=Object(n["J"])("p-multi-select"),G=Object(n["J"])("p-input-text"),F=Object(n["J"])("p-column"),E=Object(n["J"])("p-data-table");return Object(n["B"])(),Object(n["g"])("div",c,[Object(n["k"])("div",r,[Object(n["k"])("div",i,[Object(n["k"])("div",o,[Object(n["k"])("div",s,[u,Object(n["k"])("div",null,[Object(n["k"])(C,{id:"date",modelValue:R.selectedDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return R.selectedDate=e}),dateFormat:"yy-mm-dd",showIcon:!0,class:"custom-calendar"},null,8,["modelValue"])])]),Object(n["k"])(I,{label:"Get Data",class:"p-ml-4",onClick:R.fetchData},null,8,["onClick"]),Object(n["k"])(I,{label:"Review",class:"p-ml-4",onClick:R.handleReview},null,8,["onClick"]),R.reviewData.reviewed_by&&R.reviewData.reviewed_at?(Object(n["B"])(),Object(n["g"])("div",d,[Object(n["k"])("span",b," Reviewed by: "+Object(n["N"])(R.reviewData.reviewed_by),1),Object(n["k"])("span",p," At: "+Object(n["N"])(R.reviewData.reviewed_at),1)])):Object(n["h"])("",!0)]),Object(n["k"])("div",v,[Object(n["k"])("div",f,[m,Object(n["k"])(S,{modelValue:R.selectedNames,"onUpdate:modelValue":t[2]||(t[2]=function(e){return R.selectedNames=e}),options:R.nameOptions,filter:!0,optionLabel:"label",optionValue:"value",placeholder:"Select Names",style:{width:"250px"}},null,8,["modelValue","options"])]),Object(n["k"])("div",O,[j,Object(n["k"])("div",null,[Object(n["k"])(C,{id:"fromDate",modelValue:R.fromDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return R.fromDate=e}),dateFormat:"yy-mm-dd",showIcon:!0,class:"custom-calendar"},null,8,["modelValue"])])]),Object(n["k"])("div",w,[k,Object(n["k"])("div",null,[Object(n["k"])(C,{id:"toDate",modelValue:R.toDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return R.toDate=e}),dateFormat:"yy-mm-dd",showIcon:!0,class:"custom-calendar"},null,8,["modelValue"])])]),Object(n["k"])(I,{label:"Export XLS",class:"p-ml-4",onClick:R.exportExcel},null,8,["onClick"])])])]),Object(n["k"])("div",h,[Object(n["k"])(E,{value:R.filteredLabMonForm,showGridlines:"",class:"p-datatable-sm p-mt-1 p-shadow-1",scrollable:!0,scrollDirection:"both",scrollHeight:"flex"},{default:l((function(){return[(Object(n["B"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(R.columns,(function(e,t){return Object(n["B"])(),Object(n["g"])(F,{key:t,field:e,header:R.head_titles[e]?R.head_titles[e]:e.charAt(0).toUpperCase()+e.slice(1),style:{width:"200px"}},{body:l((function(a){return[Object(n["k"])("div",x,[["name"].includes(e)?(Object(n["B"])(),Object(n["g"])("span",g,Object(n["N"])(a.data[e].val)+" "+Object(n["N"])(a.data[e].ref?"["+a.data[e].ref+"]":""),1)):(Object(n["B"])(),Object(n["g"])(G,{key:1,value:a.data[e].val,disabled:R.disableInput(t,a.data[R.columns[0]].disabled_fields),class:"custom-input-text",onChange:function(t){return R.updateValue(t,e,a.index)}},null,8,["value","disabled","onChange"])),["name"].includes(e)?Object(n["h"])("",!0):(Object(n["B"])(),Object(n["g"])("div",y,[Object(n["k"])("span",D,Object(n["N"])(a.data[e].time),1),Object(n["k"])("span",_,Object(n["N"])(a.data[e].initial),1)]))])]})),_:2},1032,["field","header"])})),128))]})),_:1},8,["value"])])])})),V=a("1da1"),N=(a("96cf"),a("ac1f"),a("1276"),a("2532"),a("d3b7"),a("25f0"),a("b64b"),a("b0c0"),a("99af"),a("d81d"),a("a630"),a("3ca3"),a("6062"),a("ddb0"),a("4de4"),a("c215")),C=a("db49"),I=(a("5fb0"),a("b166")),S={setup:function(){var e=Object(n["G"])([]),t=Object(n["G"])((new Date).toISOString().split("T")[0]),a=Object(n["G"])((new Date).toISOString().split("T")[0]),l=Object(n["G"])((new Date).toISOString().split("T")[0]),c=Object(n["G"])([]),r=Object(n["G"])([]),i=Object(n["G"])({reviewed_by:"",reviewed_at:""}),o=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(I["a"])(new Date(t.value),"yyyy-MM-dd"),e.next=4,N["a"].post("lab-mon/audit",{date:a});case 4:d(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error during review process:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=Object(n["G"])({co2:"Co2 (Ref: 6% - 7%)",temperature:"Temperature (Ref: 37+ - 0.5)",water_level:"Water Level (Ref: => 40%)",ln_level:"Ln Level",liquid_usagae:"Liquid Usage",ph:"PH (Ref: 7.22 - 7.38)"}),u=function(e,t){return null!==t&&t.split(",").includes(e.toString())},d=function(){var a=Object(V["a"])(regeneratorRuntime.mark((function a(){var n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,n=Object(I["a"])(new Date(t.value),C["c"]),a.next=4,N["a"].get("lab-mon/data-v2",{params:{date:n}});case 4:l=a.sent,l.data&&(e.value=l.data.data,l.data.audit?i.value={reviewed_by:l.data.audit.reviewed_by,reviewed_at:l.data.audit.reviewed_at}:i.value={reviewed_by:null,reviewed_at:null}),c.value=Object.keys(e.value[0]||{}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.error("Error fetching data:",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}(),b=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(a,n,l){var c,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(l>=0&&l<f.value.length)){e.next=11;break}return f.value[l][n].val=a.target.value,c=Object(I["a"])(new Date(t.value),C["c"]),e.next=5,N["a"].post("lab-mon/save",{name:f.value[l]["name"].val,value:f.value[l][n].val,colName:n,date:c});case 5:r=e.sent,i=r.data,f.value[l][n].time=i.time,f.value[l][n].initial=i.initial,e.next=12;break;case 11:console.error("Invalid rowIndex: ".concat(l));case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){var t,n,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(I["a"])(new Date(a.value),C["c"]),n=Object(I["a"])(new Date(l.value),C["c"]),e.next=5,N["a"].get("lab-mon/export",{params:{fromDate:t,toDate:n,selectedNames:r.value}});case 5:c=e.sent,c.data&&c.data.filePath?(i="".concat(C["g"],"/").concat(c.data.filePath),window.open(i,"_blank")):console.error("Export link not found in response."),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("Error exporting data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=Object(n["e"])((function(){return Array.from(new Set(e.value.map((function(e){return e.name.val})))).map((function(e){return{label:e,value:e}}))})),f=Object(n["e"])((function(){return r.value.length>0?e.value.filter((function(e){return r.value.includes(e.name.val)})):e.value}));return Object(n["U"])(t,d),Object(n["z"])((function(){d()})),{labMonForm:e,disableInput:u,filteredLabMonForm:f,columns:c,head_titles:s,selectedDate:t,fromDate:a,toDate:l,fetchData:d,updateValue:b,exportExcel:p,selectedNames:r,nameOptions:v,reviewData:i,handleReview:o}}},G=(a("8445"),a("6b0d")),F=a.n(G);const E=F()(S,[["render",R],["__scopeId","data-v-541ca40b"]]);t["default"]=E}}]);
//# sourceMappingURL=chunk-998ad214.01e4402b.js.map